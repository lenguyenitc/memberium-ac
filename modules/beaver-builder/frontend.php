<?php
/**
 * Copyright (c) 2018-2021 David J Bullock
 * Web Power and Light
*/

 if (! defined( 'ABSPATH' ) ) { die(); }  if (class_exists('m4ac_c6rqypiacz4') ) { final 
class m4ac_zpv19alxj { public $slug = 'beaver_builder';  public $container_els = ['section', 'column'];  public $module_visibility = [];  public $container_visibility = [];  public $widget_visibility = [];  private 
function __construct(){} static 
function m4ac_zw_dhmca() : self { static $m4ac_u4tpxcro19 = null; if(is_null($m4ac_u4tpxcro19)){ $m4ac_u4tpxcro19 = new self; $m4ac_u4tpxcro19->m4ac_w07mrqh2sxlp(); } return $m4ac_u4tpxcro19; } 
function m4ac_w07mrqh2sxlp() {  add_action('fl_builder_before_render_row', [$this, 'm4ac_jvwu5t2yan'], 10, 2 ); add_action('fl_builder_after_render_row', [$this, 'm4ac_x4t79xlj'], 10, 2 );  add_action('fl_builder_before_render_column_group', [$this, 'm4ac_qoh_lavpd4k'], 10, 2 ); add_action('fl_builder_after_render_column_group', [$this, 'm4ac_f1c9smh4'], 10, 2 );  add_action('fl_builder_before_render_module', [$this, 'm4ac_pby1rsfw2'], 10, 1 ); add_action('fl_builder_after_render_module', [$this, 'm4ac_jrhe6px9s3b'], 10, 1 ); }  
function m4ac_jvwu5t2yan( object $m4ac_lsxa90fgqk ) { if ( ! $this->m4ac_k2aw6skyvm( $m4ac_lsxa90fgqk->settings ) ){ $this->container_visibility[ $m4ac_lsxa90fgqk->node ] = $m4ac_lsxa90fgqk->node; add_filter('fl_builder_template_path', [$this, 'm4ac_nzoukm4i'], 1); } }  
function m4ac_x4t79xlj( object $m4ac_lsxa90fgqk ){ if ( isset( $this->container_visibility[ $m4ac_lsxa90fgqk->node ] ) ){ remove_filter('fl_builder_template_path', [$this, 'm4ac_nzoukm4i'], 1 ); unset( $this->container_visibility[ $m4ac_lsxa90fgqk->node ] ); } }  
function m4ac_nzoukm4i() { return false; }  
function m4ac_qoh_lavpd4k( object $m4ac_cyn02pj85ko, array $m4ac_qn12_vkj8x ) { $m4ac_xszv4iwpd = true; $m4ac_o9qodcxf18be = []; if ( $m4ac_xszv4iwpd ){ if ( is_array( $m4ac_qn12_vkj8x ) ){ $m4ac_g6_4nu2gy = count($m4ac_qn12_vkj8x); foreach ($m4ac_qn12_vkj8x as $m4ac_llc9w_f1tk6z => $m4ac_d9vz25x6g7te) { if ( $m4ac_d9vz25x6g7te->type === 'column' && $m4ac_d9vz25x6g7te->settings > '' ){ if ( ! $this->m4ac_k2aw6skyvm( $m4ac_d9vz25x6g7te->settings ) ) { $m4ac_g6_4nu2gy --; if ( ! isset( $m4ac_o9qodcxf18be[ $m4ac_cyn02pj85ko->node ] ) ){ $m4ac_o9qodcxf18be[ $m4ac_cyn02pj85ko->node ] = []; } $m4ac_o9qodcxf18be[$m4ac_cyn02pj85ko->node][$m4ac_d9vz25x6g7te->node] = $m4ac_d9vz25x6g7te->node; } } }  if ( $m4ac_g6_4nu2gy > 0 ){ if ( ! empty($m4ac_o9qodcxf18be) ){ $this->container_visibility[$m4ac_cyn02pj85ko->parent] = $m4ac_o9qodcxf18be; } }  else { if ( ! isset($this->container_visibility[$m4ac_cyn02pj85ko->parent]) ) { $this->container_visibility[ $m4ac_cyn02pj85ko->parent ] = []; } $this->container_visibility[ $m4ac_cyn02pj85ko->parent ][ $m4ac_cyn02pj85ko->node ] = true; add_filter('fl_builder_template_path', [$this, 'm4ac_bnoiq4w9gu'], 2); } } } }  
function m4ac_f1c9smh4( object $m4ac_cyn02pj85ko, array $m4ac_qn12_vkj8x ) { $m4ac_x62mdk9cnq = $m4ac_cyn02pj85ko->parent; $m4ac_r6vmwo01c9 = $m4ac_cyn02pj85ko->node;  if ( isset($this->container_visibility[$m4ac_x62mdk9cnq]) ) {  if ( isset( $this->container_visibility[ $m4ac_x62mdk9cnq ][ $m4ac_r6vmwo01c9 ] ) ){  if ( is_array( $this->container_visibility[ $m4ac_x62mdk9cnq ][ $m4ac_r6vmwo01c9 ] ) ){  } else {  remove_filter('fl_builder_template_path', [$this, 'm4ac_bnoiq4w9gu'], 2 ); unset( $this->container_visibility[ $m4ac_x62mdk9cnq ][ $m4ac_r6vmwo01c9 ] ); } }  if ( empty( $this->container_visibility[ $m4ac_x62mdk9cnq ] ) ){ unset( $this->container_visibility[ $m4ac_x62mdk9cnq ] ); } } }  
function m4ac_bnoiq4w9gu() { return false; }  
function m4ac_pby1rsfw2( object $m4ac_y27p6qv3wm ){ $m4ac_ntvsxm64b9 = $this->m4ac_k2aw6skyvm( $m4ac_y27p6qv3wm->settings ); if ( $m4ac_ntvsxm64b9 ){  if ( is_array($this->container_visibility) && !empty($this->container_visibility) ){ foreach ($this->container_visibility as $m4ac_lx2b973g => $m4ac_lsxa90fgqk) {  if ( is_array($m4ac_lsxa90fgqk) && !empty($m4ac_lsxa90fgqk) ) { foreach ( $m4ac_lsxa90fgqk as $m4ac_ou7980kab5jr => $m4ac_kgqp4dmew5y ) {  if ( is_array( $m4ac_kgqp4dmew5y ) && !empty( $m4ac_kgqp4dmew5y ) ){ foreach ($m4ac_kgqp4dmew5y as $m4ac_po0w_tz72518 => $m4ac_hn52fkdhpj47) { if ( $m4ac_po0w_tz72518 === $m4ac_y27p6qv3wm->parent ){ $m4ac_ntvsxm64b9 = false; } } } } } } } }  if ( ! $m4ac_ntvsxm64b9 ){ $this->module_visibility[] = $m4ac_y27p6qv3wm->node; add_filter('fl_builder_template_path', [$this, 'm4ac_gaukgc1m25s'], 3 ); } }  
function m4ac_jrhe6px9s3b( object $m4ac_y27p6qv3wm ) { $m4ac_pgpdi_t5x = array_search( $m4ac_y27p6qv3wm->node, $this->module_visibility ); if ( $m4ac_pgpdi_t5x !== false ) { unset($this->module_visibility[$m4ac_pgpdi_t5x]);  remove_filter('fl_builder_template_path', [$this, 'm4ac_gaukgc1m25s'], 3); } }  
function m4ac_gaukgc1m25s() { return false; }  
function m4ac_k2aw6skyvm( object $m4ac_zi6f9ge7py8 ) : bool { $m4ac_n9dgpcif35mr = m4ac_rntik2rdq0::PREFIX; $m4ac_t3cu9hgt = [];  foreach ($m4ac_zi6f9ge7py8 as $m4ac_pzocy3nw => $m4ac_ihnr7cyv) { if (strpos($m4ac_pzocy3nw, "{$m4ac_n9dgpcif35mr}_membership_levels") !== false && $m4ac_ihnr7cyv === '1' ) { $m4ac_t3cu9hgt[] = (int) str_replace("{$m4ac_n9dgpcif35mr}_membership_levels-", "", $m4ac_pzocy3nw); } } $m4ac_o1wy3x076 = isset($m4ac_zi6f9ge7py8->{"{$m4ac_n9dgpcif35mr}_access_tags"}) ? $m4ac_zi6f9ge7py8->{"{$m4ac_n9dgpcif35mr}_access_tags"} : ''; $m4ac_o1wy3x076 = !empty($m4ac_o1wy3x076) && is_array($m4ac_o1wy3x076) ? implode(',', $m4ac_o1wy3x076) : $m4ac_o1wy3x076; $m4ac_rz2xgywca = isset($m4ac_zi6f9ge7py8->{"{$m4ac_n9dgpcif35mr}_access_tags2"}) ? $m4ac_zi6f9ge7py8->{"{$m4ac_n9dgpcif35mr}_access_tags2"} : ''; $m4ac_rz2xgywca = !empty($m4ac_rz2xgywca) && is_array($m4ac_rz2xgywca) ? implode(',', $m4ac_rz2xgywca) : $m4ac_rz2xgywca; $m4ac_bxvpge5qkdo9 = [ 'memberships' => implode( ',', $m4ac_t3cu9hgt ), 'any_membership' => isset($m4ac_zi6f9ge7py8->{"{$m4ac_n9dgpcif35mr}_anymembership"}) && $m4ac_zi6f9ge7py8->{"{$m4ac_n9dgpcif35mr}_anymembership"} === '1' ? 1 : 0, 'logged_in_only' => isset($m4ac_zi6f9ge7py8->{"{$m4ac_n9dgpcif35mr}_loggedin"}) && $m4ac_zi6f9ge7py8->{"{$m4ac_n9dgpcif35mr}_loggedin"} === '1' ? 1 : 0, 'logged_out_only' => isset($m4ac_zi6f9ge7py8->{"{$m4ac_n9dgpcif35mr}_anonymous_only"}) && $m4ac_zi6f9ge7py8->{"{$m4ac_n9dgpcif35mr}_anonymous_only"} === '1' ? 1 : 0, 'invert_results' => isset($m4ac_zi6f9ge7py8->{"{$m4ac_n9dgpcif35mr}_invert_results"}) && $m4ac_zi6f9ge7py8->{"{$m4ac_n9dgpcif35mr}_invert_results"} === '1' ? 1 : 0, 'contact_ids' => !empty($m4ac_zi6f9ge7py8->{"{$m4ac_n9dgpcif35mr}_contact_ids"}) ? sanitize_text_field($m4ac_zi6f9ge7py8->{"{$m4ac_n9dgpcif35mr}_contact_ids"}) : '', 'tags1' => !empty($m4ac_o1wy3x076) ? trim($m4ac_o1wy3x076, ',') : '', 'tags2' => !empty($m4ac_rz2xgywca) ? trim($m4ac_rz2xgywca, ',') : '', 'eval' => !empty($m4ac_zi6f9ge7py8->{"{$m4ac_n9dgpcif35mr}_eval"}) ? trim($m4ac_zi6f9ge7py8->{"{$m4ac_n9dgpcif35mr}_eval"}) : '', 'asset_id' => !empty($m4ac_zi6f9ge7py8->{"{$m4ac_n9dgpcif35mr}_asset_id"}) ? sanitize_text_field($m4ac_zi6f9ge7py8->{"{$m4ac_n9dgpcif35mr}_asset_id"}) : '' ]; return m4ac_rntik2rdq0::m4ac_zw_dhmca()->m4ac_wxodvum9bt()->m4ac_tf2ju8al( $m4ac_bxvpge5qkdo9, $this->slug ); } } }
