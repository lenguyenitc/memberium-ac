<?php
/**
 * Copyright (c) 2020 David J Bullock
 * Web Power and Light
 */

 if (! defined('ABSPATH') ) { die(); } if (class_exists('m4ac_fxpbyk36nrs')) { final 
class m4ac_zljx6gq_ {   static 
function m4ac_sv8efbsrq( $m4ac_c1m92xtgl8z = [], $m4ac_c4qc56391fd = '', $m4ac_kp6zrjntmf78 = '' ) { $m4ac_wdl2r3x6jg = [ 'contact_id' => 0, 'user_id' => 0, ]; $m4ac_u6uadv_cp2 = ''; if ( isset($m4ac_c1m92xtgl8z[0]) && $m4ac_c1m92xtgl8z[0] == 'showatts' ) { return implode( ',', array_keys($m4ac_wdl2r3x6jg) ); } $m4ac_c1m92xtgl8z = shortcode_atts( $m4ac_wdl2r3x6jg, $m4ac_c1m92xtgl8z, 'memberium' ); $m4ac_at_5xofh = self::m4ac_bspvlatfkn( (int) $m4ac_c1m92xtgl8z['user_id'], (int) $m4ac_c1m92xtgl8z['contact_id'] ); if( m4ac_fxpbyk36nrs::m4ac_zw_dhmca()->m4ac_la49s_jhqwi( $m4ac_at_5xofh ) ) { $m4ac_u6uadv_cp2 = m4ac_fxpbyk36nrs::m4ac_zw_dhmca()->m4ac_hb03_2tqp( $m4ac_at_5xofh ); } return $m4ac_u6uadv_cp2; }  static 
function m4ac_wfhrlmpd84( $m4ac_c1m92xtgl8z = [], $m4ac_c4qc56391fd = '', $m4ac_kp6zrjntmf78 = '' ) { $m4ac_wdl2r3x6jg = [ 'capture' => '', 'contact_id' => 0, 'not' => '', 'txtfmt' => '', 'user_id' => 0, ]; if (isset($m4ac_c1m92xtgl8z[0]) && $m4ac_c1m92xtgl8z[0] == 'showatts') { return implode(',', array_keys($m4ac_wdl2r3x6jg) ); } $m4ac_c1m92xtgl8z = shortcode_atts($m4ac_wdl2r3x6jg, $m4ac_c1m92xtgl8z, 'memberium'); $m4ac_c1m92xtgl8z['not'] = ! empty($m4ac_c1m92xtgl8z['not']); $m4ac_at_5xofh = self::m4ac_bspvlatfkn( (int) $m4ac_c1m92xtgl8z['user_id'], (int) $m4ac_c1m92xtgl8z['contact_id'] ); $m4ac_gj_mk832 = m4ac_fxpbyk36nrs::m4ac_zw_dhmca()->m4ac_la49s_jhqwi( $m4ac_at_5xofh ); $m4ac_gj_mk832 = empty( $m4ac_c1m92xtgl8z['not'] ) ? $m4ac_gj_mk832 : ! $m4ac_gj_mk832; $m4ac_pa2k7635qor = m4ac_audvsgbhpw::m4ac_j9_6leqa( $m4ac_c4qc56391fd, $m4ac_kp6zrjntmf78, true, $m4ac_gj_mk832 ); return m4ac_audvsgbhpw::m4ac_teqln8w23g(false, $m4ac_pa2k7635qor, $m4ac_c1m92xtgl8z['txtfmt'], $m4ac_c1m92xtgl8z['capture']); }  static 
function m4ac_iyi0h36b( $m4ac_c1m92xtgl8z = [], $m4ac_c4qc56391fd = '', $m4ac_kp6zrjntmf78 = '' ) { $m4ac_wdl2r3x6jg = [ 'capture' => '', 'contact_id' => 0, 'not' => '', 'txtfmt' => '', 'user_id' => 0, ]; if (isset($m4ac_c1m92xtgl8z[0]) && $m4ac_c1m92xtgl8z[0] == 'showatts') { return implode( ',', array_keys($m4ac_wdl2r3x6jg) ); } $m4ac_c1m92xtgl8z = shortcode_atts( $m4ac_wdl2r3x6jg, $m4ac_c1m92xtgl8z, 'memberium' ); $m4ac_c1m92xtgl8z['not'] = ! empty($m4ac_c1m92xtgl8z['not']); $m4ac_at_5xofh = self::m4ac_bspvlatfkn( (int) $m4ac_c1m92xtgl8z['user_id'], (int) $m4ac_c1m92xtgl8z['contact_id'] ); $m4ac_q2mkv_e3goc = m4ac_fxpbyk36nrs::m4ac_zw_dhmca()->m4ac_exw_fsg4er7($m4ac_at_5xofh); $m4ac_q2mkv_e3goc = $m4ac_c1m92xtgl8z['not'] ? ! $m4ac_q2mkv_e3goc : $m4ac_q2mkv_e3goc; $m4ac_pa2k7635qor = m4ac_audvsgbhpw::m4ac_j9_6leqa( $m4ac_c4qc56391fd, $m4ac_kp6zrjntmf78, true, $m4ac_q2mkv_e3goc ); return m4ac_audvsgbhpw::m4ac_teqln8w23g( false, $m4ac_pa2k7635qor, $m4ac_c1m92xtgl8z['txtfmt'], $m4ac_c1m92xtgl8z['capture'] ); }  static 
function m4ac_k3mxr69v4t( $m4ac_c1m92xtgl8z = [], $m4ac_c4qc56391fd = '', $m4ac_kp6zrjntmf78 = '' ) { $m4ac_wdl2r3x6jg = [ 'capture' => '', 'contact_id' => 0, 'not' => false, 'txtfmt' => '', 'user_id' => 0, ]; if (isset($m4ac_c1m92xtgl8z[0]) && $m4ac_c1m92xtgl8z[0] == 'showatts') { return implode(',', array_keys($m4ac_wdl2r3x6jg) ); } $m4ac_c1m92xtgl8z = shortcode_atts($m4ac_wdl2r3x6jg, $m4ac_c1m92xtgl8z, 'memberium'); $m4ac_c1m92xtgl8z['not'] = ! empty($m4ac_c1m92xtgl8z['not']); $m4ac_at_5xofh = self::m4ac_bspvlatfkn( (int) $m4ac_c1m92xtgl8z['user_id'], (int) $m4ac_c1m92xtgl8z['contact_id'] ); $m4ac_i_l1zvoaq7j = false; if( m4ac_fxpbyk36nrs::m4ac_zw_dhmca()->m4ac_la49s_jhqwi( $m4ac_at_5xofh ) ) { $m4ac_i_l1zvoaq7j = m4ac_fxpbyk36nrs::m4ac_zw_dhmca()->m4ac_i60pjwhdgsxy( $m4ac_at_5xofh ); } $m4ac_i_l1zvoaq7j = $m4ac_c1m92xtgl8z['not'] ? ! $m4ac_i_l1zvoaq7j : $m4ac_i_l1zvoaq7j; $m4ac_pa2k7635qor = m4ac_audvsgbhpw::m4ac_j9_6leqa( $m4ac_c4qc56391fd, $m4ac_kp6zrjntmf78, true, $m4ac_i_l1zvoaq7j ); return m4ac_audvsgbhpw::m4ac_teqln8w23g( false, $m4ac_pa2k7635qor, $m4ac_c1m92xtgl8z['txtfmt'], $m4ac_c1m92xtgl8z['capture'] ); }  static 
function m4ac_eo96ytq52h( $m4ac_c1m92xtgl8z = [], $m4ac_c4qc56391fd = '', $m4ac_kp6zrjntmf78 = '' ) { $m4ac_wdl2r3x6jg = [ 'capture' => '', 'txtfmt' => '', ]; if (isset($m4ac_c1m92xtgl8z[0]) && $m4ac_c1m92xtgl8z[0] == 'showatts') { return implode(',', array_keys($m4ac_wdl2r3x6jg) ); } $m4ac_sawfnmvs9c7 = (int) m4ac_fxpbyk36nrs::m4ac_zw_dhmca()->m4ac_cv1_ltp3h(); return m4ac_audvsgbhpw::m4ac_teqln8w23g( false, $m4ac_sawfnmvs9c7, $m4ac_c1m92xtgl8z['txtfmt'], $m4ac_c1m92xtgl8z['capture'] ); }  static 
function m4ac_aqnegc7ai0o( $m4ac_c1m92xtgl8z = [], $m4ac_c4qc56391fd = null, $m4ac_kp6zrjntmf78 = '' ) { self::$m4ac_fy6qjxi1dn5 = ++self::$m4ac_fy6qjxi1dn5; $m4ac_wdl2r3x6jg = [ 'button_text' => 'Add Account', 'form_id' => "memb_enroll_child_form_{$m4ac_fy6qjxi1dn5}" ]; if (isset($m4ac_c1m92xtgl8z[0]) && $m4ac_c1m92xtgl8z[0] == 'showatts') { return implode(',', array_keys($m4ac_wdl2r3x6jg) ); } if (! is_user_logged_in() ) { return; } if (memberium_app()->m4ac_k6b8c0f7g5() ) { return; } m4ac_mym496l81v::m4ac_e0yeql2bpv(); $m4ac_g430cin8 = 'memberium'; $m4ac_at_5xofh = get_current_user_id(); $m4ac_jrl7shm2yqa = m4ac_fxpbyk36nrs::m4ac_zw_dhmca(); if (! $m4ac_jrl7shm2yqa->m4ac_la49s_jhqwi( $m4ac_at_5xofh ) ) { return; } $m4ac_pa2k7635qor = ''; $m4ac_zcsgn1xd = $m4ac_jrl7shm2yqa->m4ac_cv1_ltp3h($m4ac_at_5xofh); $m4ac_odlenaiwbs7 = $m4ac_jrl7shm2yqa->m4ac_r0fwaiqndh21($m4ac_at_5xofh); if ( $m4ac_zcsgn1xd >= $m4ac_odlenaiwbs7 ) { return '<p class="memb_enroll_child_maxed">' . _x( 'All available child accounts have been assigned.', 'memb_enroll_child', $m4ac_g430cin8 ) . '</p>'; } foreach($m4ac_c1m92xtgl8z as $m4ac_egl6dkai => $m4ac_y2mw1xc6rq) { if (! array_key_exists($m4ac_egl6dkai, $m4ac_wdl2r3x6jg) ) { $m4ac_wdl2r3x6jg[$m4ac_egl6dkai] = $m4ac_y2mw1xc6rq; } } $m4ac_c1m92xtgl8z = shortcode_atts( $m4ac_wdl2r3x6jg, $m4ac_c1m92xtgl8z, $m4ac_g430cin8 ); $m4ac_rld1a_268o = []; $m4ac_lngipzehx8 = []; $m4ac_m9t_6a2qin = "<select name=\"automation\">"; if ( is_array( $m4ac_c1m92xtgl8z ) ) { foreach( $m4ac_c1m92xtgl8z as $m4ac_ukqvxo6ne7 => $m4ac_ihnr7cyv ) { if( strtolower($m4ac_ukqvxo6ne7[0]) === 'a' ) { $m4ac_ukqvxo6ne7 = substr( $m4ac_ukqvxo6ne7, 1 ); if ( $m4ac_ukqvxo6ne7 > 0 || $m4ac_ukqvxo6ne7 === '0' ) { $m4ac_m9t_6a2qin .= "<option value=\"{$m4ac_ukqvxo6ne7}\">{$m4ac_ihnr7cyv}</option>"; $m4ac_rld1a_268o[] = $m4ac_ukqvxo6ne7; } } } } $m4ac_m9t_6a2qin .= "</select>"; $m4ac_lngipzehx8 = is_array( $m4ac_rld1a_268o ) ? implode( ',', $m4ac_rld1a_268o ) : ''; $m4ac_m9t_6a2qin = empty( $m4ac_rld1a_268o ) ? '' : $m4ac_m9t_6a2qin; if ( ! empty( $m4ac_c4qc56391fd ) ) { $m4ac_c4qc56391fd = str_ireplace( '%%automation.dropdown%%', $m4ac_m9t_6a2qin, $m4ac_c4qc56391fd ); } $m4ac_bxvpge5qkdo9 = base64_encode( serialize( [ 'allowed_automations' => $m4ac_lngipzehx8, 'contact_id' => memberium_app()->m4ac_w8ohueyv(), 'custom' => ! empty( $m4ac_c4qc56391fd ), ]) ); $m4ac_md7c8zsu2o = (object)[ 'form_id' => $m4ac_c1m92xtgl8z['form_id'], 'dropdown' => $m4ac_m9t_6a2qin, 'allowed_automations' => $m4ac_lngipzehx8, 'messages' => [], 'nonce' => wp_nonce_field( 'memb_enroll_child', '_wpnonce', true, false ), 'parameters' => $m4ac_bxvpge5qkdo9, 'signature' => memberium_app()->m4ac_s5ze6qlragdu( $m4ac_bxvpge5qkdo9 ), 'labels' => (object)[ 'firstname' => _x( 'First Name:', 'memb_enroll_child', $m4ac_g430cin8 ), 'lastname' => _x( 'Last Name:', 'memb_enroll_child', $m4ac_g430cin8 ), 'email' => _x( 'Email Address:', 'memb_enroll_child', $m4ac_g430cin8 ), 'automation' => _x( 'Enrolled Automation:', 'memb_enroll_child', $m4ac_g430cin8 ), 'button_text' => $m4ac_c1m92xtgl8z['button_text'] ] ]; if (! empty($_SESSION['flash']['enroll_child_message']) ) { $m4ac_md7c8zsu2o->messages = $_SESSION['flash']['enroll_child_message']; unset($_SESSION['flash']['enroll_child_message'], $_SESSION['flash']['enroll_child_message']); } return m4ac_audvsgbhpw::m4ac_ltnm5sge8_($m4ac_kp6zrjntmf78, $m4ac_c1m92xtgl8z, $m4ac_c4qc56391fd, $m4ac_kp6zrjntmf78, $m4ac_md7c8zsu2o); }  static 
function m4ac_v3sber0yiljp( $m4ac_c1m92xtgl8z = [], $m4ac_c4qc56391fd = null, $m4ac_kp6zrjntmf78 = '') { self::$m4ac_c4n_vka5 = ++self::$m4ac_c4n_vka5; $m4ac_g430cin8 = 'memberium'; $m4ac_at_5xofh = (int) get_current_user_id(); if( ! $m4ac_at_5xofh ) { return ''; } $m4ac_md7c8zsu2o = [];  $m4ac_bzsuwaqev = m4ac_ygq0pdca9j7::m4ac_zw_dhmca(); $m4ac_lmfaycbp_ot = empty($_GET['limit']) ? 0 : (int) $_GET['limit']; $m4ac_fqsk654i_hf = empty($_GET['pg']) ? 1 : (int) $_GET['pg']; $m4ac_uo08x_g7 = (int) m4ac_bem2ya5k::m4ac_pm63av15g($m4ac_at_5xofh); $m4ac_dl24ae19y7zf = 'Email|First Name|Last Name'; $m4ac_jj2ilw3eu = 'email|firstname|lastname'; $m4ac_qun8vk6d2 = [ 'container_template' => 'memb_groupaccount_list_children_container', 'nav_template' => 'memb_groupaccount_list_children_navigation', 'row_template' => 'memb_groupaccount_list_children_row', ]; $m4ac_wdl2r3x6jg = [ 'can_disconnect' => 'y',  'columns' => $m4ac_dl24ae19y7zf,  'container_template' => $m4ac_qun8vk6d2['container_template'],  'css_class' => '',  'css_id' => '',  'fields' => $m4ac_jj2ilw3eu,  'limit' => $m4ac_lmfaycbp_ot,  'name_plural' => _x( 'Accounts', 'memb_groupaccounts_list_children', $m4ac_g430cin8 ),  'name_singular' => _x( 'Account', 'memb_groupaccounts_list_children', $m4ac_g430cin8 ),  'nav_template' => $m4ac_qun8vk6d2['nav_template'],  'no_css' => 0,  'no_search' => 0,  'page' => $m4ac_fqsk654i_hf,  'parent_id' => $m4ac_uo08x_g7,  'row_template' => $m4ac_qun8vk6d2['row_template'],  'search_text' => _x('Search', 'memb_list_children', $m4ac_g430cin8),  ]; if ( isset($m4ac_c1m92xtgl8z[0]) && $m4ac_c1m92xtgl8z[0] == 'showatts' ) { return implode( ',', array_keys($m4ac_wdl2r3x6jg) ); } if (! m4ac_fxpbyk36nrs::m4ac_zw_dhmca()->m4ac_la49s_jhqwi($m4ac_at_5xofh)) { return; }  $m4ac_c1m92xtgl8z = shortcode_atts( $m4ac_wdl2r3x6jg, $m4ac_c1m92xtgl8z, $m4ac_g430cin8 ); $m4ac_c1m92xtgl8z['list_number'] = self::$m4ac_c4n_vka5; $m4ac_c1m92xtgl8z['can_disconnect'] = m4ac_audvsgbhpw::m4ac_nw4k98ogv( $m4ac_c1m92xtgl8z['can_disconnect'], true ); $m4ac_c1m92xtgl8z['page'] = $m4ac_c1m92xtgl8z['page'] > 0 ? (int) $m4ac_c1m92xtgl8z['page'] : 1; $m4ac_c1m92xtgl8z['page'] = $m4ac_c1m92xtgl8z['page'] < 1 ? 1 : (int) $m4ac_c1m92xtgl8z['page']; $m4ac_c1m92xtgl8z['parent_id'] = (int) $m4ac_c1m92xtgl8z['parent_id']; $m4ac_c1m92xtgl8z['columns'] = ! empty($m4ac_c1m92xtgl8z['columns']) ? $m4ac_c1m92xtgl8z['columns'] : $m4ac_dl24ae19y7zf; $m4ac_c1m92xtgl8z['columns'] = self::m4ac_toh8csd2('columns', $m4ac_c1m92xtgl8z['columns']); $m4ac_c1m92xtgl8z['fields'] = !empty($m4ac_c1m92xtgl8z['fields']) ? $m4ac_c1m92xtgl8z['fields'] : $m4ac_jj2ilw3eu; $m4ac_c1m92xtgl8z['fields'] = self::m4ac_toh8csd2('fields', $m4ac_c1m92xtgl8z['fields']); foreach ( ['css_class', 'css_id'] as $m4ac_egl6dkai ) { $m4ac_c1m92xtgl8z[$m4ac_egl6dkai] = ! empty( esc_attr($m4ac_c1m92xtgl8z[$m4ac_egl6dkai]) ) ? esc_attr($m4ac_c1m92xtgl8z[$m4ac_egl6dkai]) : ''; } if (empty($m4ac_c1m92xtgl8z['parent_id']) ) { return; } foreach ( $m4ac_qun8vk6d2 as $m4ac_yebad2t8wi_ => $m4ac_py5zsafh817 ) { $m4ac_c1m92xtgl8z[$m4ac_yebad2t8wi_] = empty($m4ac_c1m92xtgl8z[$m4ac_yebad2t8wi_]) ? false : $m4ac_c1m92xtgl8z[$m4ac_yebad2t8wi_]; $m4ac_md7c8zsu2o[$m4ac_yebad2t8wi_] = $m4ac_c1m92xtgl8z[$m4ac_yebad2t8wi_] ? m4ac_audvsgbhpw::m4ac_wcy7fwmz5($m4ac_c1m92xtgl8z[$m4ac_yebad2t8wi_]) : false; if ( ! $m4ac_md7c8zsu2o[$m4ac_yebad2t8wi_] ) { if ( memberium_app()->m4ac_k6b8c0f7g5() ) { return "<p>".sprintf( __('Error : template missing for %s', $m4ac_g430cin8), $m4ac_yebad2t8wi_ )."</p>"; } return ''; } }  $m4ac_fsql7ky9_ = self::m4ac_w2i6kqecs9b( $m4ac_at_5xofh, $m4ac_c1m92xtgl8z ); $m4ac_md7c8zsu2o['contacts'] = $m4ac_fsql7ky9_['contacts']; $m4ac_c1m92xtgl8z['page'] = (int) $m4ac_fsql7ky9_['page']; $m4ac_c1m92xtgl8z['pages'] = (int) $m4ac_fsql7ky9_['pages']; $m4ac_c1m92xtgl8z['total'] = (int) $m4ac_fsql7ky9_['total']; $m4ac_md7c8zsu2o['message'] = self::m4ac_volm9cirh($m4ac_c1m92xtgl8z); $m4ac_c1m92xtgl8z['url_sprintf'] = add_query_arg( 'pg', '%s' ); unset($m4ac_fsql7ky9_);  add_filter( 'm4ac/groupaccounts/list/field/value', ['m4ac_zljx6gq_', 'm4ac_o6g41qm07i'], 10, 3 );  if ( (int) $m4ac_c1m92xtgl8z['no_css'] < 1 ) { wp_enqueue_style('m4ac_groupaccounts_child_css'); }  $m4ac_ou_t5i0vx = 'groupAccountsListChildren'; $m4ac_o_9h7xk02v45 = $m4ac_bzsuwaqev->m4ac_kyw8rgxof19m($m4ac_ou_t5i0vx); if( empty($m4ac_o_9h7xk02v45) ) { $m4ac_xbys92hor = strtolower($m4ac_c1m92xtgl8z['name_singular']); $m4ac_o_9h7xk02v45 = [ 'data' => [], 'I18N' => [ 'confirm_disconect' => sprintf( _x('Are you sure you would like to disconnect this %s', 'memb_list_children', $m4ac_g430cin8), $m4ac_xbys92hor), 'empty_search' => sprintf( _x('Please enter an email for your %s search', 'memb_list_children', $m4ac_g430cin8), $m4ac_xbys92hor ) ] ]; } $m4ac_o_9h7xk02v45['data'][$m4ac_c1m92xtgl8z['list_number']] = $m4ac_c1m92xtgl8z; $m4ac_o_9h7xk02v45['data'][$m4ac_c1m92xtgl8z['list_number']]['parent_uid'] = $m4ac_at_5xofh; $m4ac_bzsuwaqev->m4ac_wrdk07a_c( $m4ac_ou_t5i0vx, $m4ac_o_9h7xk02v45 );  return m4ac_audvsgbhpw::m4ac_ltnm5sge8_( $m4ac_qun8vk6d2['container_template'], $m4ac_c1m92xtgl8z, $m4ac_c4qc56391fd, $m4ac_kp6zrjntmf78, $m4ac_md7c8zsu2o ); }   static 
function m4ac_ub5p0et3r_zf( array $m4ac_md7c8zsu2o ) { $m4ac_g430cin8 = 'memberium'; $m4ac_u9uhl_ci87 = !empty($m4ac_md7c8zsu2o['fields']) ? $m4ac_md7c8zsu2o['fields'] : false; $m4ac_vo6741wvgc = [ 'list' => '', 'nav' => '', 'page' => 1, 'message' => '' ]; $m4ac_r7l9ptndubs1 = !empty($m4ac_md7c8zsu2o['parent_uid']) ? (int)$m4ac_md7c8zsu2o['parent_uid'] : false; $m4ac_dgh236f0ep = empty($m4ac_md7c8zsu2o['row_template']) ? false : m4ac_audvsgbhpw::m4ac_wcy7fwmz5($m4ac_md7c8zsu2o['row_template']); $m4ac_l3ejglw71a = empty($m4ac_md7c8zsu2o['nav_template']) ? false : m4ac_audvsgbhpw::m4ac_wcy7fwmz5($m4ac_md7c8zsu2o['nav_template']); if( ! $m4ac_r7l9ptndubs1 || ! $m4ac_u9uhl_ci87 ) { return new WP_Error( 401, __('Invalid Data', $m4ac_g430cin8) ); } if( empty($m4ac_dgh236f0ep) ) { return new WP_Error( 401, __('Invalid Row Template', $m4ac_g430cin8) ); } if( empty($m4ac_l3ejglw71a) ) { return new WP_Error( 401, __('Invalid Nav Template', $m4ac_g430cin8) ); }  $fields = is_string( $m4ac_u9uhl_ci87 ) ? explode(',', $m4ac_u9uhl_ci87) : $m4ac_u9uhl_ci87; $can_disconnect = empty($m4ac_md7c8zsu2o['can_disconnect']) ? 0 : $m4ac_md7c8zsu2o['can_disconnect']; $attrs = $m4ac_md7c8zsu2o; $m4ac_fqsk654i_hf = empty($m4ac_md7c8zsu2o['page']) ? 1 : (int) $m4ac_md7c8zsu2o['page']; $m4ac_ab_178tvo5 = empty($m4ac_md7c8zsu2o['s']) ? false : sanitize_text_field($m4ac_md7c8zsu2o['s']); unset($attrs['container_template'], $attrs['row_template'], $attrs['nav_template']); if( ! empty($m4ac_md7c8zsu2o['reload']) ) { $m4ac_fqsk654i_hf = 1; } $m4ac_hcxg6n_5pkir = [ 'limit' => empty($m4ac_md7c8zsu2o['limit']) ? 0 : (int) $m4ac_md7c8zsu2o['limit'], 'page' => $m4ac_fqsk654i_hf, 's' => $m4ac_ab_178tvo5, ]; $m4ac_fsql7ky9_ = self::m4ac_w2i6kqecs9b( $m4ac_r7l9ptndubs1, $m4ac_hcxg6n_5pkir ); $attrs['page'] = (int) $m4ac_fsql7ky9_['page']; $attrs['pages'] = (int) $m4ac_fsql7ky9_['pages']; $attrs['total'] = (int) $m4ac_fsql7ky9_['total']; $m4ac_vo6741wvgc['message'] = self::m4ac_volm9cirh($attrs);  if( empty($m4ac_fsql7ky9_['contacts']) ) { ob_start(); $contact = false; include $m4ac_dgh236f0ep; $m4ac_vo6741wvgc['list'] = ob_get_clean(); $m4ac_vo6741wvgc['nav'] = "<div></div>"; return $m4ac_vo6741wvgc; }  add_filter( 'm4ac/groupaccounts/list/field/value', ['m4ac_zljx6gq_', 'm4ac_o6g41qm07i'], 10, 3 ); if( ! empty($m4ac_fsql7ky9_['contacts']) ) { ob_start(); foreach ($m4ac_fsql7ky9_['contacts'] as $contact) { include $m4ac_dgh236f0ep; } $m4ac_vo6741wvgc['list'] = ob_get_clean(); }  $page = (int)$m4ac_fsql7ky9_['page']; $pages = (int)$m4ac_fsql7ky9_['pages']; $url_sprintf = $m4ac_md7c8zsu2o['url_sprintf']; ob_start(); include $m4ac_l3ejglw71a; $m4ac_vo6741wvgc['nav'] = ob_get_clean(); $m4ac_vo6741wvgc['page'] = $page; if( $pages !== (int)$m4ac_md7c8zsu2o['pages'] ) { $m4ac_vo6741wvgc['pages'] = $pages; } return $m4ac_vo6741wvgc; }  static 
function m4ac_w2i6kqecs9b( int $m4ac_r7l9ptndubs1, array $m4ac_ah90o86m = []) : array { global $wpdb; $m4ac_wdl2r3x6jg = [ 'limit' => 0, 'page' => 1, 's' => false ]; $m4ac_ah90o86m = wp_parse_args( $m4ac_ah90o86m, $m4ac_wdl2r3x6jg ); $m4ac_ah90o86m['limit'] = empty($m4ac_ah90o86m['limit']) ? 0 : (int) $m4ac_ah90o86m['limit']; $m4ac_ah90o86m['page'] = empty($m4ac_ah90o86m['page']) ? 1 : (int)$m4ac_ah90o86m['page']; $m4ac_ah90o86m['s'] = empty($m4ac_ah90o86m['s']) ? '' : sanitize_text_field($m4ac_ah90o86m['s']); $m4ac_ah90o86m['s'] = empty($m4ac_ah90o86m['s']) ? '' : $wpdb->esc_like($m4ac_ah90o86m['s']); $m4ac_vo6741wvgc = [ 'total' => 0, 'pages' => 0, 'page' => 0, 'contacts' => [] ]; if( empty($m4ac_r7l9ptndubs1) ) { return $m4ac_vo6741wvgc; }  $m4ac_bki24_oh = empty($m4ac_ah90o86m['s']) ? '' : " AND `user_email` LIKE '%{$m4ac_ah90o86m['s']}%' "; $m4ac_prt9ly1aom4 = "`{$wpdb->prefix}memberium_groupaccount_members`"; $m4ac_xtcz6bi97flk = "SELECT `ID`, `um1`.`meta_value` AS `contact_id`
				FROM `{$wpdb->users}`
				INNER JOIN `{$wpdb->usermeta}` AS `um1` ON ( `ID` = `um1`.`user_id` )
				INNER JOIN `{$wpdb->usermeta}` AS `um2` ON ( `ID` = `um2`.`user_id` )
				INNER JOIN `{$wpdb->usermeta}` AS `um3` ON ( `ID` = `um3`.`user_id` )
				WHERE `um1`.`meta_key` = 'memberium_ac_contact_id'
				{$m4ac_bki24_oh}
				AND `ID` IN (
					SELECT `child_uid` FROM {$m4ac_prt9ly1aom4} WHERE `parent_uid` = %d AND `active` = 1
				)
				AND `um2`.`meta_key` = 'first_name'
				AND `um3`.`meta_key` = 'last_name'
				ORDER BY `um2`.`meta_value`, `um3`.`meta_value`, `user_email`
			"; $m4ac_xtcz6bi97flk = $wpdb->prepare($m4ac_xtcz6bi97flk, $m4ac_r7l9ptndubs1); $m4ac_g0rhz13y8sn = $wpdb->get_results($m4ac_xtcz6bi97flk); if( empty($m4ac_g0rhz13y8sn) ) { return $m4ac_vo6741wvgc; } $m4ac_vo6741wvgc['page'] = $m4ac_ah90o86m['page']; $m4ac_vo6741wvgc['pages'] = 1; $m4ac_vo6741wvgc['total'] = count($m4ac_g0rhz13y8sn);  if ( ! empty($m4ac_ah90o86m['limit']) ) { $m4ac_a0_ngly9c = ($m4ac_vo6741wvgc['page'] - 1) * $m4ac_ah90o86m['limit']; $m4ac_vo6741wvgc['pages'] = $m4ac_vo6741wvgc['total'] > 0 ? (int) ceil( $m4ac_vo6741wvgc['total'] / $m4ac_ah90o86m['limit'] ) : 1; $m4ac_g0rhz13y8sn = array_slice($m4ac_g0rhz13y8sn, $m4ac_a0_ngly9c, $m4ac_ah90o86m['limit']); } foreach ($m4ac_g0rhz13y8sn as $m4ac_y2mw1xc6rq) { $m4ac_vo6741wvgc['contacts'][$m4ac_y2mw1xc6rq->ID] = memberium_app()->m4ac_zrj6g8l4ap9i($m4ac_y2mw1xc6rq->contact_id); $m4ac_vo6741wvgc['contacts'][$m4ac_y2mw1xc6rq->ID]['user_id'] = $m4ac_y2mw1xc6rq->ID; $m4ac_vo6741wvgc['contacts'][$m4ac_y2mw1xc6rq->ID]['contact_id'] = $m4ac_y2mw1xc6rq->contact_id; } return $m4ac_vo6741wvgc; } static 
function m4ac_volm9cirh( array $m4ac_md7c8zsu2o ) { $m4ac_oemjasi0tp = ''; $m4ac_o9jeq_nh = (int)$m4ac_md7c8zsu2o['total']; $m4ac_pzocy3nw = $m4ac_o9jeq_nh > 1 ? $m4ac_md7c8zsu2o['name_plural'] : $m4ac_md7c8zsu2o['name_singular']; if( ! empty($m4ac_md7c8zsu2o['s']) ) { if( $m4ac_o9jeq_nh > 0 ) { $m4ac_oemjasi0tp = sprintf( _x('%d %s Found for : "%s"', 'memb_list_children', $m4ac_g430cin8), $m4ac_o9jeq_nh, $m4ac_pzocy3nw, $m4ac_md7c8zsu2o['s'] ); } else{ $m4ac_oemjasi0tp = sprintf( _x('No %s Found for : "%s"', 'memb_list_children', $m4ac_g430cin8), $m4ac_md7c8zsu2o['name_plural'], $m4ac_md7c8zsu2o['s'] ); } } else{ if( $m4ac_o9jeq_nh > 0 ) { $m4ac_oemjasi0tp = "{$m4ac_o9jeq_nh} {$m4ac_pzocy3nw}"; } } return $m4ac_oemjasi0tp; }  static 
function m4ac_o6g41qm07i( $m4ac_ihnr7cyv, $m4ac_wc9s2dnt4y, $m4ac_at_5xofh ) { if( empty( $m4ac_ihnr7cyv ) ) { return $m4ac_ihnr7cyv; } if( is_email($m4ac_ihnr7cyv) ) { return "<a href=\"mailto:{$m4ac_ihnr7cyv}\">{$m4ac_ihnr7cyv}</a>"; }  return $m4ac_ihnr7cyv; } static 
function m4ac_toh8csd2( string $m4ac_ss6bwxopg8, string $m4ac_bxvpge5qkdo9 ) : array { $m4ac_bxvpge5qkdo9 = explode('|', trim( trim($m4ac_bxvpge5qkdo9), '|') ); array_walk_recursive($m4ac_bxvpge5qkdo9, function(&$m4ac_y2mw1xc6rq) use($m4ac_ss6bwxopg8) { if ($m4ac_ss6bwxopg8 === 'columns') { $m4ac_y2mw1xc6rq = ucfirst($m4ac_y2mw1xc6rq); } else if($m4ac_ss6bwxopg8 === 'fields') { $m4ac_ur90k1f2dy = strtoupper($m4ac_y2mw1xc6rq); if (substr($m4ac_ur90k1f2dy, 0, 1) <> '%') { $m4ac_ur90k1f2dy = "%{$m4ac_ur90k1f2dy}%"; } $m4ac_y2mw1xc6rq = $m4ac_ur90k1f2dy; } }); return $m4ac_bxvpge5qkdo9; } private static 
function m4ac_bspvlatfkn( $m4ac_fgw9y7_j = 0, $m4ac_gut7_k3zv15 = 0) { $m4ac_at_5xofh = empty( $m4ac_gut7_k3zv15 ) ? $m4ac_fgw9y7_j : m4ac_bem2ya5k::m4ac_y4vi6m8f1qhj( $m4ac_gut7_k3zv15 ); $m4ac_at_5xofh = empty( $m4ac_fgw9y7_j ) ? $m4ac_at_5xofh : (int) $m4ac_fgw9y7_j; $m4ac_at_5xofh = empty( $m4ac_at_5xofh ) ? (int) get_current_user_id() : $m4ac_at_5xofh; return $m4ac_at_5xofh; } 
function __construct() { } static 
function m4ac_zw_dhmca() : self { static $m4ac_u4tpxcro19 = false; return $m4ac_u4tpxcro19 ? $m4ac_u4tpxcro19 : $m4ac_u4tpxcro19 = new self; } static private $m4ac_u4tpxcro19; static $m4ac_c4n_vka5 = 0;  static $m4ac_fy6qjxi1dn5 = 0;  }  }
