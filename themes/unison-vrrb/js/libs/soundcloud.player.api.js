(function(){var isIE=(/msie/i).test(navigator.userAgent)&&!(/opera/i).test(navigator.userAgent);var soundcloud=window.soundcloud={version:"0.1",debug:false,_listeners:[],_redispatch:function(eventType,flashId,data){var playerNode,lsnrs=this._listeners[eventType]||[],customEventType='soundcloud:'+eventType;try{playerNode=this.getPlayer(flashId);}catch(e){if(this.debug&&window.console){console.error('unable to dispatch widget event '+eventType+' for the widget id '+flashId,data,e);}return;}if(window.jQuery){jQuery(playerNode).trigger(customEventType,[data]);}else if(window.Prototype){$(playerNode).fire(customEventType,data);}else{}for(var i=0,l=lsnrs.length;i<l;i+=1){lsnrs[i].apply(playerNode,[playerNode,data]);}if(this.debug&&window.console){console.log(customEventType,eventType,flashId,data);}},addEventListener:function(eventType,callback){if(!this._listeners[eventType]){this._listeners[eventType]=[];}this._listeners[eventType].push(callback);},removeEventListener:function(eventType,callback){var lsnrs=this._listeners[eventType]||[];for(var i=0,l=lsnrs.length;i<l;i+=1){if(lsnrs[i]===callback){lsnrs.splice(i,1);}}},getPlayer:function(id){var flash;try{if(!id){throw"The SoundCloud Widget DOM object needs an id atribute, please refer to SoundCloud Widget API documentation.";}flash=isIE?window[id]:document[id];if(flash){if(flash.api_getFlashId){return flash;}else{throw"The SoundCloud Widget External Interface is not accessible. Check that allowscriptaccess is set to 'always' in embed code";}}else{throw"The SoundCloud Widget with an id "+id+" couldn't be found";}}catch(e){if(console&&console.error){console.error(e);}throw e;}},onPlayerReady:function(flashId,data){this._redispatch('onPlayerReady',flashId,data);},onMediaStart:function(flashId,data){this._redispatch('onMediaStart',flashId,data);},onMediaEnd:function(flashId,data){this._redispatch('onMediaEnd',flashId,data);},onMediaPlay:function(flashId,data){this._redispatch('onMediaPlay',flashId,data);},onMediaPause:function(flashId,data){this._redispatch('onMediaPause',flashId,data);},onMediaBuffering:function(flashId,data){this._redispatch('onMediaBuffering',flashId,data);},onMediaSeek:function(flashId,data){this._redispatch('onMediaSeek',flashId,data);},onMediaDoneBuffering:function(flashId,data){this._redispatch('onMediaDoneBuffering',flashId,data);},onPlayerError:function(flashId,data){this._redispatch('onPlayerError',flashId,data);}};})();