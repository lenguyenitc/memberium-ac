<?php
/**
 * Copyright (c) 2018-2021 David J Bullock
 * Web Power and Light
 */

 if (class_exists('m4ac_c6rqypiacz4') ) { final 
class m4ac_zhwyuqfvkm3 { static 
function m4ac_ffznoewuvy9( array $m4ac_u9uhl_ci87 = [], array $m4ac_ah90o86m = [] ) { $m4ac_u9uhl_ci87 = array_filter( $m4ac_u9uhl_ci87 ); if ( empty( $m4ac_u9uhl_ci87 ) ) { return false; } $m4ac_bxvpge5qkdo9 = []; $m4ac_ech62wzelm8d = memberium_app()->m4ac_n_1ak7e32(); $m4ac_m_jevhs4fwnp = isset( $m4ac_ah90o86m['lists'] ) ? (array) $m4ac_ah90o86m['lists'] : []; $m4ac_bxvpge5qkdo9['ipv4'] = m4ac_p58mfx3cua::m4ac_teq1zlwih6(); $m4ac_m9va4g_qr60i = [ 'firstname' => 'first_name', 'lastname' => 'last_name', ]; foreach ( $m4ac_ech62wzelm8d as $m4ac_ukqvxo6ne7 => $m4ac_pzocy3nw ) { if ( $m4ac_ukqvxo6ne7 < 0 ) { $m4ac_ur90k1f2dy = $m4ac_pzocy3nw; if ( isset( $m4ac_u9uhl_ci87[$m4ac_ur90k1f2dy] ) ) { $m4ac_bxvpge5qkdo9[$m4ac_ur90k1f2dy] = $m4ac_u9uhl_ci87[$m4ac_pzocy3nw]; } $m4ac_ur90k1f2dy = '%' . strtoupper($m4ac_pzocy3nw) . '%'; if ( isset( $m4ac_u9uhl_ci87[$m4ac_ur90k1f2dy] ) ) { $m4ac_bxvpge5qkdo9[$m4ac_ur90k1f2dy] = $m4ac_u9uhl_ci87[$m4ac_ur90k1f2dy]; } $m4ac_ur90k1f2dy = '%' . strtolower($m4ac_pzocy3nw) . '%'; if ( isset( $m4ac_u9uhl_ci87[$m4ac_ur90k1f2dy] ) ) { $m4ac_bxvpge5qkdo9[$m4ac_ur90k1f2dy] = $m4ac_u9uhl_ci87[$m4ac_ur90k1f2dy]; } } else { $m4ac_ur90k1f2dy = $m4ac_pzocy3nw; $m4ac_gduhckfg = "field[{$m4ac_ukqvxo6ne7},0]"; if ( isset( $m4ac_u9uhl_ci87[$m4ac_ur90k1f2dy] ) ) { $m4ac_bxvpge5qkdo9['field[' . $m4ac_ukqvxo6ne7 . ',0]'] = $m4ac_u9uhl_ci87[$m4ac_pzocy3nw]; } $m4ac_ur90k1f2dy = '%' . strtoupper($m4ac_pzocy3nw) . '%'; if ( isset( $m4ac_u9uhl_ci87[$m4ac_ur90k1f2dy] ) ) { $m4ac_bxvpge5qkdo9['field[' . $m4ac_ukqvxo6ne7 . ',0]'] = $m4ac_u9uhl_ci87[$m4ac_ur90k1f2dy]; } $m4ac_ur90k1f2dy = '%' . strtolower( $m4ac_pzocy3nw ) . '%'; if ( isset( $m4ac_u9uhl_ci87[$m4ac_ur90k1f2dy] ) ) { $m4ac_bxvpge5qkdo9['field[' . $m4ac_ukqvxo6ne7 . ',0]'] = $m4ac_u9uhl_ci87[$m4ac_ur90k1f2dy]; } } } if ( ! empty( $m4ac_u9uhl_ci87['%EMAIL%'] ) ) { $m4ac_bxvpge5qkdo9['email'] = $m4ac_u9uhl_ci87['%EMAIL%']; } if ( ! empty( $m4ac_u9uhl_ci87['%PHONE%'] ) ) { $m4ac_bxvpge5qkdo9['phone'] = $m4ac_u9uhl_ci87['%PHONE%']; } foreach ( $m4ac_m9va4g_qr60i as $m4ac_nt0xrciyb => $m4ac_uq3deyu9v2 ) { if ( ! empty( $m4ac_bxvpge5qkdo9[$m4ac_nt0xrciyb] ) && empty( $m4ac_bxvpge5qkdo9[$m4ac_uq3deyu9v2] ) ) { $m4ac_bxvpge5qkdo9[$m4ac_uq3deyu9v2] = $m4ac_bxvpge5qkdo9[$m4ac_nt0xrciyb]; unset($m4ac_bxvpge5qkdo9[$m4ac_nt0xrciyb]); } } if ( ! empty( $m4ac_m_jevhs4fwnp ) && is_array( $m4ac_m_jevhs4fwnp ) ) { foreach( $m4ac_m_jevhs4fwnp as $m4ac_ckfu62mpdy ) { $m4ac_bxvpge5qkdo9['p[' . $m4ac_ckfu62mpdy . ']*'] = $m4ac_ckfu62mpdy; } } if ( ! empty( $m4ac_ah90o86m['tags'] ) ) { $m4ac_bxvpge5qkdo9['tags'] = $m4ac_ah90o86m['tags']; } $m4ac_fic2e07vfkz = $this->m4ac_yiqu4k3xj5()->api( 'contact/sync', $m4ac_bxvpge5qkdo9 ); if ( $m4ac_fic2e07vfkz->success ) { return (int) $m4ac_fic2e07vfkz->subscriber_id; } return false; } } }
