<?php
/**
 * Copyright (c) 2012-2021 David J Bullock
 * Web Power and Light
 */

 if (class_exists('m4ac_c6rqypiacz4') ) { final 
class m4ac_nnb_vwku { 
function m4ac_pd7urg61aih() : int { return $this->elf_crm_id; } private 
function m4ac_g7v8h032() {  $m4ac_m9nl75tevm4 = []; $m4ac_mjrpeizsh2c = []; $m4ac__mrexf31jzdt = []; $m4ac_t3cu9hgt = get_option(MEMBERIUM_MEMBERSHIP_SETTINGS, [] ); $m4ac_j2fi6e190l = -1; $this->membership_ids = []; foreach ($m4ac_t3cu9hgt as $m4ac_lj_fwoc5ub1y => $m4ac_qb48jahn0kc) { $m4ac_kz5jg31b_7 = isset($m4ac_qb48jahn0kc['addltag_ids']) ? array_filter(explode(',', $m4ac_qb48jahn0kc['addltag_ids']) ) : ''; $m4ac_tvuqstp104w = in_array($m4ac_lj_fwoc5ub1y, $this->m4ac_vwur90xpqe, false); $m4ac_ejeayu4n5 = (bool) count(array_intersect($this->m4ac_vwur90xpqe, $m4ac_kz5jg31b_7) ); $m4ac_mf8ejtgr = in_array($m4ac_qb48jahn0kc['list_id'], $this->m4ac_p91zlyenjra, false);  if ($m4ac_tvuqstp104w || $m4ac_ejeayu4n5 || $m4ac_mf8ejtgr) { $m4ac_qd5rq3fl06c = in_array($m4ac_qb48jahn0kc['payf_id'], $this->m4ac_vwur90xpqe, true); $m4ac_k7evw9_togsl = in_array($m4ac_qb48jahn0kc['suspend_id'], $this->m4ac_vwur90xpqe, true); $m4ac_hlf9dcseg2 = in_array($m4ac_qb48jahn0kc['cancel_id'], $this->m4ac_vwur90xpqe, true); if ($m4ac_qd5rq3fl06c || $m4ac_hlf9dcseg2 || $m4ac_k7evw9_togsl) { if (intval($m4ac_qb48jahn0kc['login_redirect_priority']) >= $m4ac_j2fi6e190l) { $this->m4ac_v7kvgx61pf = empty($m4ac_qb48jahn0kc['payf_homepage']) ? 0 : $m4ac_qb48jahn0kc['payf_homepage']; $this->m4ac_tl5fcz6n23 = empty($m4ac_qb48jahn0kc['canc_homepage']) ? 0 : $m4ac_qb48jahn0kc['canc_homepage']; $this->m4ac_vzcby6fgnhd1 = empty($m4ac_qb48jahn0kc['susp_homepage']) ? 0 : $m4ac_qb48jahn0kc['susp_homepage']; $this->m4ac_fgrlqamc3ft = $m4ac_qd5rq3fl06c ? $m4ac_qb48jahn0kc['payf_homepage'] : $this->m4ac_fgrlqamc3ft; $this->m4ac_fgrlqamc3ft = $m4ac_k7evw9_togsl ? $m4ac_qb48jahn0kc['susp_homepage'] : $this->m4ac_fgrlqamc3ft; $this->m4ac_fgrlqamc3ft = $m4ac_hlf9dcseg2 ? $m4ac_qb48jahn0kc['canc_homepage'] : $this->m4ac_fgrlqamc3ft; $m4ac_j2fi6e190l = $m4ac_qb48jahn0kc['login_redirect_priority']; } } else { if (intval($m4ac_qb48jahn0kc['login_redirect_priority']) >= $m4ac_j2fi6e190l) { $this->m4ac_fgrlqamc3ft = isset($m4ac_qb48jahn0kc['login_page']) ? $m4ac_qb48jahn0kc['login_page'] : 0; $this->first_login_id = isset($m4ac_qb48jahn0kc['first_login_page']) ? $m4ac_qb48jahn0kc['first_login_page'] : 0; $m4ac_j2fi6e190l = $m4ac_qb48jahn0kc['login_redirect_priority']; } if ($m4ac_qb48jahn0kc['level'] >= $this->m4ac_yx29dvlgh5bj) { if (is_array($m4ac_qb48jahn0kc['roles']) && ! empty($m4ac_qb48jahn0kc['roles']) ) { $this->m4ac__mrexf31jzdt = array_merge($this->m4ac__mrexf31jzdt,$m4ac_qb48jahn0kc['roles']); } if (! empty($m4ac_qb48jahn0kc['first_login_page']) ) { $this->dashboard_id = $m4ac_qb48jahn0kc['first_login_page']; } $this->m4ac_fgrlqamc3ft = empty($m4ac_qb48jahn0kc['first_login_page']) ? 0 : $m4ac_qb48jahn0kc['first_login_page']; $this->m4ac_uvo2su1nxg = empty($m4ac_qb48jahn0kc['logout_page']) ? 0 : $m4ac_qb48jahn0kc['logout_page']; $this->m4ac_ocj07nxdy54z = isset($m4ac_qb48jahn0kc['theme']) ? $m4ac_qb48jahn0kc['theme'] : ''; $this->m4ac__boz2cm_nwsy [] = $m4ac_lj_fwoc5ub1y; $this->m4ac_ts4tr8ywi[] = $m4ac_qb48jahn0kc['name']; $this->m4ac_yx29dvlgh5bj = $m4ac_qb48jahn0kc['level']; if (get_user_meta($m4ac_at_5xofh, 'login_count', true) > 1) { $this->dashboard_id = empty($m4ac_qb48jahn0kc['login_page']) ? 0 : $m4ac_qb48jahn0kc['login_page']; } } } } } } 
function m4ac_c17vlcx3a4() { $this->m4ac_ouhd5fc_ = m4ac_bem2ya5k::m4ac_pm63av15g($this->m4ac_at_5xofh); $m4ac_qsvd0m6oq = memberium_app()->m4ac_zrj6g8l4ap9i($this->m4ac_ouhd5fc_, false); $this->m4ac_cwimbugn = memberium_app()->m4ac_lx4jv6fi7k(); $this->m4ac_p91zlyenjra = array_filter(explode(',', $m4ac_qsvd0m6oq['list']) ); $this->m4ac_vwur90xpqe = array_filter(explode(',', $m4ac_qsvd0m6oq['tag_ids']) ); $this->m4ac_vey53rbv = array_filter(explode(',', $m4ac_qsvd0m6oq['tags']) ); $this->m4ac_g7v8h032(); $this->m4ac_zxjhw37dgfm = true; } private 
function m4ac_al2a6q8_uy() { if ($this->m4ac_zxjhw37dgfm) {    } } private 
function m4ac_tpf56j3yigl8() { $this->m4ac_aehjxwby7m(); $this->m4ac_ouhd5fc_ = m4ac_bem2ya5k::m4ac_pm63av15g($this->m4ac_at_5xofh); $m4ac__crsbi5yuze = get_user_meta($this->m4ac_at_5xofh, 'm4ac/session', true); if (true || ! is_array($m4ac__crsbi5yuze)) { $this->m4ac_c17vlcx3a4(); } if (is_array($m4ac__crsbi5yuze) ) { if (is_array($m4ac__crsbi5yuze['memb_user']) && is_array($m4ac__crsbi5yuze['memb_db_fields']) ) { $this->m4ac_cwimbugn = 0; $this->m4ac_p91zlyenjra = array_filter(explode(',', $m4ac__crsbi5yuze['memb_db_fields']['list']) ); $this->m4ac__boz2cm_nwsy = array_filter(explode(',', $m4ac__crsbi5yuze['memb_user']['membership_tags']) ); $this->m4ac_yx29dvlgh5bj = array_filter(explode(',', $m4ac__crsbi5yuze['memb_user']['membership_level']) ); $this->m4ac_ts4tr8ywi = array_filter(explode(',', $m4ac__crsbi5yuze['memb_user']['membership_names']) ); $this->m4ac__mrexf31jzdt = array_filter(explode(',', $m4ac__crsbi5yuze['memb_user']['roles']) ); $this->m4ac_vwur90xpqe = array_filter(explode(',', $m4ac__crsbi5yuze['memb_user']['tag_ids']) ); $this->m4ac_vey53rbv = array_filter(explode(',', $m4ac__crsbi5yuze['memb_db_fields']['tags']) ); $this->m4ac_ocj07nxdy54z = $m4ac__crsbi5yuze['memb_user']['theme']; } else { } } } private 
function m4ac_aehjxwby7m() { $this->m4ac_ouhd5fc_ = 0; $this->m4ac_fgrlqamc3ft = 0; $this->m4ac_zxjhw37dgfm = false; $this->m4ac_af4y8s9k = 0; $this->m4ac_gfru9eqgn3d = 0; $this->m4ac_p91zlyenjra = []; $this->m4ac_uvo2su1nxg = 0; $this->m4ac__boz2cm_nwsy = []; $this->m4ac_yx29dvlgh5bj = 0; $this->m4ac_ts4tr8ywi = []; $this->m4ac__mrexf31jzdt = []; $this->m4ac_jtj6kodqaiyg = true; $this->m4ac_vwur90xpqe = []; $this->m4ac_vey53rbv = []; $this->m4ac_ocj07nxdy54z = ''; $this->m4ac_v7kvgx61pf = 0; $this->m4ac_vzcby6fgnhd1 = 0; $this->m4ac_tl5fcz6n23 = 0; } private 
function __construct($m4ac_at_5xofh) { $this->m4ac_at_5xofh = $m4ac_at_5xofh; $this->m4ac_tpf56j3yigl8(); } 
function __destruct() { $this->m4ac_al2a6q8_uy(); } static 
function m4ac_wi4z9kfs6b0($m4ac_at_5xofh = 0) { $m4ac_at_5xofh = $m4ac_at_5xofh ? $m4ac_at_5xofh : get_curent_user_id(); return self::$m4ac_edycba_ixw92[$m4ac_at_5xofh] ? self::$m4ac_edycba_ixw92[$m4ac_at_5xofh] : self::$m4ac_edycba_ixw92 = new self($m4ac_at_5xofh); } private $m4ac_ouhd5fc_; private $m4ac_fgrlqamc3ft; private $m4ac_zxjhw37dgfm; private $m4ac_af4y8s9k; private $m4ac_gfru9eqgn3d; private $m4ac_p91zlyenjra; private $m4ac_uvo2su1nxg; private $m4ac__boz2cm_nwsy; private $m4ac_yx29dvlgh5bj; private $m4ac_ts4tr8ywi; private $m4ac_v7kvgx61pf; private $m4ac_vzcby6fgnhd1; private $m4ac_tl5fcz6n23; private $elf_roles; private $m4ac_jtj6kodqaiyg; private $m4ac_vwur90xpqe; private $m4ac_vey53rbv; private $m4ac_ocj07nxdy54z; private $m4ac_at_5xofh; private static $m4ac_edycba_ixw92 = []; } }
