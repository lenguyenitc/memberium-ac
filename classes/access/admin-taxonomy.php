<?php
/**
 * Copyright (c) 2017-2021 David J Bullock
 * Web Power and Light, LLC
 * https://webpowerandlight.com
 * support@webpowerandlight.com
 *
 */

 if (class_exists('m4ac_c6rqypiacz4') ) { final 
class m4ac_rd0bfus45xa { static 
function m4ac_rn2eg1tu_(){ $m4ac_gy_j64ukpd0f = isset($_REQUEST['taxonomy']) ? $_REQUEST['taxonomy'] : false; if( ! $m4ac_gy_j64ukpd0f ){ return; } $m4ac_wfn5badl9r = m4ac_rntik2rdq0::m4ac_zw_dhmca()->m4ac_ec05_4old(); if( ! in_array($m4ac_gy_j64ukpd0f, $m4ac_wfn5badl9r) ){ return; } self::$taxonomy = $m4ac_gy_j64ukpd0f; self::$tag_id = isset($_REQUEST['tag_ID']) ? $_REQUEST['tag_ID'] : 0; add_action('admin_enqueue_scripts', [__CLASS__, 'm4ac_c3u5okn_7']); add_action("{$m4ac_gy_j64ukpd0f}_edit_form_fields", [__CLASS__, 'm4ac_c9cpr_5dq1'], 10, 2); add_action("edited_{$m4ac_gy_j64ukpd0f}", [__CLASS__, 'm4ac_o_syiog92'], 10, 2); }  static 
function m4ac_c3u5okn_7(){ static $m4ac_plw3kytz_ix = false; if ( $m4ac_plw3kytz_ix ) { return; } m4ac_bslvmz6poqi3::m4ac_zw_dhmca()->m4ac_vq95yl34ed1b('taxonomy'); $m4ac_plw3kytz_ix = true; }  static 
function m4ac_c9cpr_5dq1( $m4ac_o75qrnlisk, $m4ac_gy_j64ukpd0f ){ $m4ac_ywev7t0y6 = $m4ac_o75qrnlisk->term_id; $m4ac_u9uhl_ci87 = self::m4ac_lax_9ov1(); if( is_array($m4ac_u9uhl_ci87) && ! empty($m4ac_u9uhl_ci87) ){ $m4ac_xurp0xnols83 = m4ac_rntik2rdq0::m4ac_zw_dhmca()->m4ac__qrg2f4t1ij($m4ac_ywev7t0y6); $m4ac_x_1654tdgb = ''; $m4ac_yzrsmw3k2hul = ''; foreach ($m4ac_u9uhl_ci87 as $m4ac_yqah5jzkgcdf => $m4ac_wc9s2dnt4y){ $m4ac_pzocy3nw = $m4ac_wc9s2dnt4y['name']; $m4ac_u9uhl_ci87[$m4ac_yqah5jzkgcdf]['id'] = esc_attr("{$m4ac_pzocy3nw}-{$m4ac_ywev7t0y6}"); $m4ac_u9uhl_ci87[$m4ac_yqah5jzkgcdf]['field_name'] = "wpal_taxonomy[$m4ac_pzocy3nw]"; $m4ac_u9uhl_ci87[$m4ac_yqah5jzkgcdf]['value'] = isset($m4ac_xurp0xnols83[$m4ac_pzocy3nw]) ? $m4ac_xurp0xnols83[$m4ac_pzocy3nw] : ''; $m4ac_x_1654tdgb = $m4ac_pzocy3nw === 'status' ? $m4ac_u9uhl_ci87[$m4ac_yqah5jzkgcdf]['value'] : $m4ac_x_1654tdgb; $m4ac_yzrsmw3k2hul = $m4ac_pzocy3nw === 'prohibited_action' ? $m4ac_u9uhl_ci87[$m4ac_yqah5jzkgcdf]['value'] : $m4ac_yzrsmw3k2hul; }  static $m4ac_szk5ureoc = false; if( ! $m4ac_szk5ureoc ){ $m4ac_ush6rftjk5i = 'memberium/taxonomy/access'; wp_nonce_field($m4ac_ush6rftjk5i, "_{$m4ac_ush6rftjk5i}_name"); $m4ac_szk5ureoc = true; }  $m4ac_n5dw3y7vlku = 'wpal-taxonomy-access'; $m4ac_o4pf036oac = $m4ac_ywev7t0y6; $m4ac_vbfqaohp_ = 'taxonomy'; echo "</tbody><tbody class=\"memberium-taxonomy-access-tbody\" data-prohibited-action=\"{$m4ac_yzrsmw3k2hul}\">"; echo "<tr><td colspan=\"2\">"; include m4ac_c6rqypiacz4::m4ac_zglmin6r8y4('core-wp-asset-access-meta.php'); echo "</td></tr></tbody>"; } } static 
function m4ac_o_syiog92( $m4ac_ywev7t0y6, $m4ac_nn9uz8jtes6 ){ $m4ac_xurp0xnols83 = []; $m4ac_z273jg8t = []; $m4ac_iimr5ze_j7 = false; $m4ac_w81vfhlna = false; $m4ac_ld06b5vztcj = self::m4ac_lax_9ov1(); if( is_array($m4ac_ld06b5vztcj) && ! empty($m4ac_ld06b5vztcj) ){ $m4ac_zxmlneb5 = isset($_POST['wpal_taxonomy']) ? $_POST['wpal_taxonomy'] : []; $m4ac_z273jg8t = m4ac_rntik2rdq0::m4ac_zw_dhmca()->m4ac__qrg2f4t1ij($m4ac_ywev7t0y6); $m4ac_iimr5ze_j7 = ! empty($m4ac_z273jg8t); $m4ac_xurp0xnols83 = []; $m4ac_x_1654tdgb = 0; $m4ac_yzrsmw3k2hul = '';  foreach ($m4ac_ld06b5vztcj as $m4ac_t365kbjxq => $m4ac_wc9s2dnt4y) { $m4ac_pzocy3nw = $m4ac_wc9s2dnt4y['name']; $m4ac_ihnr7cyv = isset($m4ac_zxmlneb5[$m4ac_pzocy3nw]) ? $m4ac_zxmlneb5[$m4ac_pzocy3nw] : []; $m4ac_y10xi6ef = isset($m4ac_z273jg8t[$m4ac_pzocy3nw]) ? $m4ac_z273jg8t[$m4ac_pzocy3nw] : ''; if( $m4ac_wc9s2dnt4y['type'] === 'select2' && !empty($m4ac_ihnr7cyv) ){ $m4ac_ihnr7cyv = trim($m4ac_ihnr7cyv, ',');  if( $m4ac_pzocy3nw === 'memberships' && !empty($m4ac_ihnr7cyv) ){ $m4ac_mi0uh7e29 = m4ac_bslvmz6poqi3::m4ac_zw_dhmca()->m4ac_xehawo4dq($m4ac_ihnr7cyv); $m4ac_ihnr7cyv = $m4ac_mi0uh7e29 ? $m4ac_mi0uh7e29 : $m4ac_ihnr7cyv; $m4ac_xurp0xnols83['any_membership'] = $m4ac_mi0uh7e29 ? 1 : 0; } } if( $m4ac_ihnr7cyv != $m4ac_y10xi6ef ){ $m4ac_xurp0xnols83[$m4ac_pzocy3nw] = esc_attr($m4ac_ihnr7cyv); $m4ac_w81vfhlna = true; } else{ $m4ac_xurp0xnols83[$m4ac_pzocy3nw] = $m4ac_y10xi6ef; } if( $m4ac_pzocy3nw === 'status' ){ $m4ac_x_1654tdgb = (int)$m4ac_ihnr7cyv; } if( $m4ac_pzocy3nw === 'prohibited_action' ){ $m4ac_ihnr7cyv = empty($m4ac_ihnr7cyv) ? '' : $m4ac_ihnr7cyv; $m4ac_yzrsmw3k2hul = $m4ac_xurp0xnols83[$m4ac_pzocy3nw] = $m4ac_ihnr7cyv; } if( $m4ac_pzocy3nw === 'redirect_url' ){  if( esc_url_raw($m4ac_ihnr7cyv) != $m4ac_ihnr7cyv ){ $m4ac_xurp0xnols83['prohibited_action'] = $m4ac_yzrsmw3k2hul = ''; } } }  if( $m4ac_x_1654tdgb === 1 ){ $m4ac_xurp0xnols83['logged_in_only'] = 1; $m4ac_xurp0xnols83['logged_out_only'] = 0; }  else if( $m4ac_x_1654tdgb === 2 ){ $m4ac_xurp0xnols83['logged_in_only'] = 0; $m4ac_xurp0xnols83['logged_out_only'] = 1; $m4ac_xurp0xnols83 = m4ac_bslvmz6poqi3::m4ac_zw_dhmca()->m4ac_ts0uy6vbi_o($m4ac_xurp0xnols83); }  else{ $m4ac_xurp0xnols83['logged_in_only'] = 0; $m4ac_xurp0xnols83['logged_out_only'] = 0; $m4ac_xurp0xnols83 = m4ac_bslvmz6poqi3::m4ac_zw_dhmca()->m4ac_ts0uy6vbi_o($m4ac_xurp0xnols83); }  if( (int)$m4ac_yzrsmw3k2hul === 0 ){ unset($m4ac_xurp0xnols83['redirect_url']); $m4ac_w81vfhlna = true; } } if($m4ac_w81vfhlna){ $m4ac_x6vpzdgl54 = '_wpal/taxonomy/access';  if( ! array_filter($m4ac_xurp0xnols83) ) {  if($m4ac_iimr5ze_j7){ delete_term_meta($m4ac_ywev7t0y6, $m4ac_x6vpzdgl54); } }  else{ update_term_meta($m4ac_ywev7t0y6, $m4ac_x6vpzdgl54, $m4ac_xurp0xnols83); } } } static 
function m4ac_lax_9ov1(){ static $m4ac_g74unkbch = false; if( $m4ac_g74unkbch ){ return $m4ac_g74unkbch; } $m4ac_g74unkbch = m4ac_bslvmz6poqi3::m4ac_zw_dhmca()->m4ac_i3894xng('taxonomy'); return apply_filters( 'memberium/taxonomy/access/fields', $m4ac_g74unkbch ); } private static $taxonomy;  private static $tag_id;  } }
