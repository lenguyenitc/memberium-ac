<?php
/**
 * Copyright (c) 2012-2021 David J Bullock
 * Web Power and Light
 */

 if (class_exists('m4ac_c6rqypiacz4') ) { final 
class m4ac_m7m0xgfv {    
function m4ac__d9l76uck($m4ac_oh1lc0zg = true) { memberium_app()->m4ac__d9l76uck($m4ac_oh1lc0zg); } 
function m4ac_y6y5ja741e09() { return (bool) memberium_app()->m4ac_y6y5ja741e09(); } 
function m4ac_tjiebkaxh8g($m4ac_sgc489bh) { $this->can_cache = (boolean) $m4ac_sgc489bh; } 
function m4ac_g793caxgr() { return $this->can_cache; }    
function m4ac_ydygc8o7ijt() { global $post;  if (class_exists('woocommerce')) { if (! empty($_GET['wc-ajax']) ) { if ($_SERVER['REQUEST_METHOD'] == 'POST') { if (isset($_SERVER['HTTP_X_REQUESTED_WITH']) && strtolower($_SERVER['HTTP_X_REQUESTED_WITH']) == 'xmlhttprequest') { return; } } } } if (function_exists('is_user_logged_in') && is_user_logged_in() ) { return; } $m4ac_bfkwxtcn3al = memberium_app()->m4ac_x280qrz9kmic('site_lock_enabled'); if (empty($m4ac_bfkwxtcn3al) ) { return; } $m4ac_dlwrq521c9ia = isset($post->ID) ? $post->ID : 0;  $m4ac_d8uli9qkgs = apply_filters('memberium/sitelock/disable', false, $m4ac_dlwrq521c9ia); if ($m4ac_d8uli9qkgs) { return; } $m4ac_rfbptg2u9m8h = memberium_app()->m4ac_x280qrz9kmic('login_url'); if ($m4ac_dlwrq521c9ia > 0) { if ($m4ac_rfbptg2u9m8h == $m4ac_dlwrq521c9ia) { return; } $m4ac_i0q34u97yo = (int) get_post_meta($m4ac_dlwrq521c9ia, '_memberium_force_public', true); if ($m4ac_i0q34u97yo == 1) { return; } } if ($m4ac_rfbptg2u9m8h) { $m4ac_td3w4ugi17ot = get_permalink($m4ac_rfbptg2u9m8h); } else { $m4ac_td3w4ugi17ot = wp_login_url($_SERVER['REQUEST_URI']); } $m4ac_td3w4ugi17ot = add_query_arg('redirect_to', urlencode($_SERVER['REQUEST_URI']), $m4ac_td3w4ugi17ot); memberium_app()->m4ac_xur62hzbo(); wp_redirect($m4ac_td3w4ugi17ot, 302, 'Memberium ' . __FUNCTION__ . '::' . __LINE__); exit; } 
function m4ac_daq_bjh65d9i($url) { if (current_user_can('manage_options') ) { return true; } return true; } 
function m4ac_i9z4hm3u() { global $allowedposttags; $allowedposttags['a']['href'] = 1; $allowedposttags['iframe']['src'] = 1; $allowedposttags['iframe']['srcdoc'] = 1; $allowedposttags['input']['name'] = 1; $allowedposttags['input']['placeholder'] = 1; $allowedposttags['input']['value'] = 1; $allowedposttags['option']['value'] = 1; $allowedposttags['progress']['max'] = 1; $allowedposttags['progress']['value'] = 1; $allowedposttags['source']['src'] = 1; $allowedposttags['textarea']['placeholder'] = 1; $allowedposttags['textarea']['value'] = 1; }     
function m4ac_mpags4086($m4ac_x1_dnfgy) { return $m4ac_x1_dnfgy; $m4ac_ef3t9z7a8 = memberium_app()->m4ac_x280qrz9kmic('login_url'); if (! empty($m4ac_ef3t9z7a8) ) { $m4ac_x1_dnfgy = get_permalink($m4ac_ef3t9z7a8); } }     
function m4ac_la9r54km($m4ac_injv3w5d0_, $m4ac_ljd2_k7u1wt) { return home_url('/lostpassword/?redirect_to=' . $m4ac_ljd2_k7u1wt); } 
function m4ac_f6sd2hbt904r($m4ac_dwslpr0x57b, $m4ac_optjqiy70) { global $wpdb; if (isset($_GET['rss_user']) ) { $m4ac_wrwfj3vs = sanitize_text_field($_GET['rss_user']); $m4ac_u4hc21qvby = substr($m4ac_wrwfj3vs, 0, 6); $m4ac_ukqvxo6ne7 = 'memberium_rss_user_id_' . $m4ac_u4hc21qvby; if (! empty($m4ac_wrwfj3vs) ) { if (is_feed() ) { $m4ac_xtcz6bi97flk = "SELECT `user_id` FROM `{$wpdb->usermeta}` WHERE `meta_key` = %s AND `meta_value` = %s ORDER BY `user_id` ASC LIMIT 1"; $m4ac_xtcz6bi97flk = $wpdb->prepare($m4ac_xtcz6bi97flk, $m4ac_ukqvxo6ne7, $m4ac_wrwfj3vs); $m4ac_at_5xofh = (int) $wpdb->get_var($m4ac_xtcz6bi97flk); if ($m4ac_at_5xofh) { memberium_app()->m4ac_xur62hzbo(); wp_set_current_user($m4ac_at_5xofh); } } } } return $m4ac_dwslpr0x57b; }    
function m4ac_ekpoqsfnya($m4ac_eqpyd3c7evsl) { register_rest_route('memberium-ac/v1', '/user-update/', [ 'methods' => 'GET,POST', 'callback' => [$this, 'm4ac_qk9ipco8q'], 'permission_callback' => '__return_false', ]);  } 
function m4ac_qk9ipco8q($request) { }  
function m4ac_mwdy4tcivg8() { if ($_SERVER['REQUEST_METHOD'] == 'POST') { if (isset($_GET['operation']) ) { $m4ac_bkoxa8tv9fdb = ''; switch (strtolower($_GET['operation']) ) { case 'add-event': $m4ac_bkoxa8tv9fdb = 'm4ac_nejgifd619n'; break; case 'add-issue': $m4ac_bkoxa8tv9fdb = 'm4ac_oe5wm28olt6'; break; case 'add-user': $m4ac_bkoxa8tv9fdb = 'post_add_user'; break; case 'add-tags': $m4ac_bkoxa8tv9fdb = 'm4ac_o2k3sifo6'; break; case 'debug': $m4ac_bkoxa8tv9fdb = ['m4ac_py81l76bi', 'm4ac_mgtq5pdmbs9']; break; case 'get-post': $m4ac_bkoxa8tv9fdb = 'httppost_get_post'; break; } } } } 
function m4ac_p7dinwqscx() { $microcache_compat_session = memberium_app()->m4ac_x280qrz9kmic('microcache_compat_session'); if (empty($microcache_compat_session) || (function_exists('is_user_logged_in') && is_user_logged_in() ) ) { memberium_app()->m4ac_vechd45gu8sa(); } } 
function m4ac_fo2ht6sak() { $this->is_administrator = current_user_can('manage_options'); add_action('template_redirect', [$this, 'm4ac_t8v5tli1oqx3'], 100); add_action('template_redirect', [$this, 'm4ac_d6dnx5t_2e4a']); add_action('wp_login_failed', ['m4ac_d4yt1zjli', 'm4ac_whx0lz1iguv'], 10, 2);  if (! $this->is_administrator) { $this->m4ac_ixc7rk0davlo(); } $this->m4ac_mwdy4tcivg8(); } 
function m4ac_ixc7rk0davlo() { $m4ac__m_ndwbtgij9 = true; $m4ac_j_tyo12qd8w = memberium_app()->m4ac_x280qrz9kmic('titlebar_role'); if (! empty($m4ac_j_tyo12qd8w) ) { $m4ac__mrexf31jzdt = array_filter( explode( ',', $m4ac_j_tyo12qd8w ) ); $m4ac_at_5xofh = get_current_user_id(); foreach($m4ac__mrexf31jzdt as $m4ac_cnjvkyitq) { if (user_can($m4ac_at_5xofh, $m4ac_cnjvkyitq) ) { $m4ac__m_ndwbtgij9 = false; } } } $m4ac_chm24b1ac3 = memberium_app()->m4ac_x280qrz9kmic('wpadmin_role'); if (! empty($m4ac_chm24b1ac3) ) { $m4ac__mrexf31jzdt = array_filter(explode(',', $m4ac_chm24b1ac3 ) ); $m4ac_at_5xofh = get_current_user_id(); foreach($m4ac__mrexf31jzdt as $m4ac_cnjvkyitq) { if (user_can($m4ac_at_5xofh, $m4ac_cnjvkyitq) ) { $m4ac__m_ndwbtgij9 = false; } } } $m4ac__m_ndwbtgij9 = apply_filters('memberium/hide_titlebar', $m4ac__m_ndwbtgij9); if ($m4ac__m_ndwbtgij9) { add_filter('show_admin_bar', '__return_false', PHP_INT_MAX); } } 
function m4ac_d4_03awcotkv($m4ac__m_ndwbtgij9) { if ($m4ac__m_ndwbtgij9) {  $m4ac_foyn4jgq = [ 'wordpress_user_sw_olduser_', 'wordpress_user_sw_secure_', 'impersonated_by_', ]; foreach($m4ac_foyn4jgq as $prefix) { if (! empty($_COOKIE[$prefix . COOKIEHASH]) ) { return false; } } } return $m4ac__m_ndwbtgij9; } 
function m4ac_n_ymb6d7ku() : int { static $m4ac__37l6rhivt2 = 0; if (! $m4ac__37l6rhivt2) { if ( is_a($GLOBALS['post'], 'WP_Post') ) { $m4ac__37l6rhivt2 = $GLOBALS['post']->ID; } elseif (is_singular() ) { if (! empty($GLOBALS['wp_the_query']->queried_object) && is_a($GLOBALS['wp_the_query']->queried_object, 'WP_Post') ) { $m4ac__37l6rhivt2 = $GLOBALS['wp_the_query']->queried_object->ID; } elseif (! empty($GLOBALS['wp_the_query']->posts[0]) && is_a($GLOBALS['wp_the_query']->posts[0], 'WP_Post') ) { $m4ac__37l6rhivt2 = $GLOBALS['wp_the_query']->posts[0]->ID; } } } return $m4ac__37l6rhivt2; } 
function m4ac_p85fatz1x() { static $m4ac_dxtjcmeridh = false; if (empty($m4ac_dxtjcmeridh) ) { if (is_singular() ) { if (! empty($GLOBALS['wp_the_query']->queried_object) && is_a($GLOBALS['wp_the_query']->queried_object, 'WP_Post') ) { $m4ac_dxtjcmeridh = $GLOBALS['wp_the_query']->queried_object->post_type; } } else { $m4ac_dxtjcmeridh = ''; } } return $m4ac_dxtjcmeridh; }  
function m4ac_t8v5tli1oqx3() { if (is_404() && memberium_app()->m4ac_x280qrz9kmic('cache_flush')) { flush_rewrite_rules(); } } 
function m4ac_d6dnx5t_2e4a() { if (! empty($_GET['authkey']) && ! empty($_GET['action']) && $_GET['action'] == 'confirmregistration') { $this->m4ac_q_0q6tbp(); }  if (! empty($_GET['filebox_id']) && $_GET['filebox_id'] > 0) { $this->downloadFileBox( (int) $_GET['filebox_id'], $_GET['filename'], (bool) $_GET['viewable']); exit; } if (is_404() && substr($_SERVER['REQUEST_URI'], 0, 7) == '/prtctd') { $m4ac_ljd2_k7u1wt = str_ireplace(memberium_app()->m4ac_x280qrz9kmic('default_page_redirect'), '{{current.url}}', get_site_url() ); nocache_headers(); wp_redirect($m4ac_ljd2_k7u1wt, 302, 'Memberium ' . __FUNCTION__ . '::' . __LINE__); exit; } $m4ac__37l6rhivt2 = $this->m4ac_n_ymb6d7ku(); $this->post_type = $this->m4ac_p85fatz1x(); $m4ac_s8k1yu39zp = memberium_app()->m4ac_x280qrz9kmic('default_page_redirect'); if ($m4ac__37l6rhivt2) { $this->optimizepress_page = (defined('OP_VERSION') && (get_post_meta($m4ac__37l6rhivt2, '_optimizepress_pagebuilder', true) == 'Y') ); }  m4ac_wdt0ce9x5hqo::m4ac_qi2cy0wu(); }    
function m4ac_gdn0_b1f() { $m4ac_bhfz8lbcjw = memberium_app()->m4ac_x280qrz9kmic('two_pass_shortcodes'); if(! empty($m4ac_bhfz8lbcjw) ) { if (defined('OP_VERSION') ) { $this->optimizepress_page = (get_post_meta($this->m4ac_n_ymb6d7ku(), '_optimizepress_pagebuilder', true) == 'Y'); } if ($this->optimizepress_page) { add_filter('comment_text', [$this, 'm4ac_jfv1cub09iyk'], 1, 1); } else { add_filter('the_content', [$this, 'm4ac_oy9nlr37zb'], 1, 1); } } if (! $m4ac_bhfz8lbcjw || ! $this->optimizepress_page) { do_action('memberium/shortcodes/add'); } } 
function m4ac_oy9nlr37zb($m4ac_c4qc56391fd) { global $shortcode_tags; $m4ac__xwsjf9d21a = $shortcode_tags; remove_all_shortcodes(); $this->shortcodes_registered = false; do_action('memberium/shortcodes/add'); $m4ac_c4qc56391fd = do_shortcode($m4ac_c4qc56391fd); $shortcode_tags = $m4ac__xwsjf9d21a; return $m4ac_c4qc56391fd; } 
function m4ac_whx0lz1iguv($m4ac_nmf72t01) {   if (isset($_POST['woocommerce-login-nonce']) ) { return; } $m4ac_h7l3k4bnrmty = isset($_SERVER['HTTP_REFERER']) ? $_SERVER['HTTP_REFERER'] : $_SERVER['REQUEST_URI'];   if (! empty($m4ac_h7l3k4bnrmty) && ! strstr($m4ac_h7l3k4bnrmty, 'wp-login') && ! strstr($m4ac_h7l3k4bnrmty, 'wp-admin') ) { $m4ac_h7l3k4bnrmty = add_query_arg('login', 'failed', $m4ac_h7l3k4bnrmty); memberium_app()->m4ac_xur62hzbo(); wp_redirect($m4ac_h7l3k4bnrmty, 302, 'Memberium ' . __FUNCTION__ . '::' . __LINE__); exit; } }  
function m4ac_ckx_n2fyr13m($m4ac_h0_p7cxt) { if ($m4ac_h0_p7cxt == 'Lost your password?') { $m4ac_h0_p7cxt = ''; } return $m4ac_h0_p7cxt; }  
function m4ac_aagv5bj3() { return false; }    
function m4ac_c3dhrvbjn6ep($m4ac_fheyfujga6) { if (is_a($m4ac_fheyfujga6, 'WP_Error') ) { $m4ac_ah90o86m = [ 'type' => 'loginfail' ]; $m4ac__sbcpdyz = m4ac_eghsod68x::m4ac_hozfsg3t($m4ac_ah90o86m, 'Error ' . $username); return $m4ac_fheyfujga6; } else { return $m4ac_fheyfujga6; } } 
function m4ac_xpx0w12s3bu($m4ac_at_5xofh) {   $m4ac_fheyfujga6 = get_user_by('id', $m4ac_at_5xofh); wp_set_auth_cookie($m4ac_at_5xofh); wp_set_current_user($m4ac_at_5xofh); m4ac_d4yt1zjli::m4ac_f8glwn2bd($user_login, false); do_action('wp_login', $user_login, $m4ac_fheyfujga6); $this->m4ac_xsbh_l1x(); } 
function m4ac_f0alu398red() { $m4ac_jziexsy917g4 = (int) memberium_app()->m4ac_x280qrz9kmic('autologout_time'); if ($m4ac_jziexsy917g4) { if (memberium_app()->m4ac_w8ohueyv() ) { $m4ac_i345imsfg = isset($_SESSION['memb_user']['logout_page']) ? $_SESSION['memb_user']['logout_page'] : 0; $m4ac_g9zwic74 = memberium_app()->m4ac_x280qrz9kmic('default_logout_page'); if ($m4ac_i345imsfg) { $m4ac_thowerjicd = wp_logout_url(get_permalink($m4ac_i345imsfg) ); } elseif (! empty($m4ac_g9zwic74) ) { $m4ac_thowerjicd = wp_logout_url($m4ac_g9zwic74); } else { $m4ac_thowerjicd = wp_logout_url(get_site_url() ); } echo '<meta http-equiv="refresh" content="', $m4ac_jziexsy917g4, ';url=', $m4ac_thowerjicd, '">'; } } }     
function m4ac_xmz18q6_a29($m4ac_ocj07nxdy54z) { $m4ac_m624wycit78h = empty($_SESSION['memb_user']['theme']) ? '' : $_SESSION['memb_user']['theme']; if (empty($m4ac_m624wycit78h) ) { return $m4ac_ocj07nxdy54z; } $m4ac_l48nxy_21hz = wp_get_themes(); $m4ac_brm9tiev87l = current_filter(); if (! isset($m4ac_l48nxy_21hz[$m4ac_m624wycit78h]) ) { return $m4ac_ocj07nxdy54z; } if ($m4ac_brm9tiev87l == 'option_template' || $m4ac_brm9tiev87l == 'template') { return $m4ac_l48nxy_21hz[$m4ac_m624wycit78h]->Template; } else { return $m4ac_m624wycit78h; } }     
function m4ac_lo9puxk7($m4ac_cv3io8yulk7 = true) { if (! empty($_GET['action']) && $_GET['action'] == 'logout') { $m4ac_cv3io8yulk7 = true; }  if (! empty($_SESSION['memb_user']['crm_id']) ) { $m4ac_ktuqrm97lh = memberium_app()->m4ac_x280qrz9kmic('logout_automation'); if (! empty($m4ac_ktuqrm97lh) ) { memberium_app()->m4ac_lmhdiugb6cs($m4ac_ktuqrm97lh, $_SESSION['memb_user']['crm_id']); } } if (empty($_GET['redirect_to']) ) { $m4ac_atr94xdeg3 = memberium_app()->m4ac_vxmf3pod0(); } else { $m4ac_atr94xdeg3 = $_GET['redirect_to']; } if (! headers_sent() ) { setcookie('nextend_uniqid', null, -1, '/'); } wp_set_current_user(0); if (session_id() > '') { unset($_SESSION['memb_user'], $_SESSION['memb_db_fields']); if (empty($_SESSION) ) { session_destroy(); session_write_close(); } } wp_destroy_current_session(); if ($m4ac_cv3io8yulk7) {  nocache_headers(); wp_redirect($m4ac_atr94xdeg3, 302, 'Memberium ' . __FUNCTION__ . '::' . __LINE__); exit; } }  
function m4ac_xsbh_l1x($m4ac_yo371x9id = false) { global $wpdb, $wp_rewrite; if (memberium_app()->m4ac_w8ohueyv() > 0 && ! defined('DOING_AJAX') && ! is_admin() && ! memberium_app()->m4ac_k6b8c0f7g5() ) { $m4ac_hij_1d9f6 = memberium_app()->m4ac_x280qrz9kmic('simultaneous_logins'); if (! empty($m4ac_hij_1d9f6) ) { memberium_app()->m4ac_zmkxtn9db6(get_current_user_id() ); } } memberium_app()->m4ac_fgwqju_z709f(); if (! $m4ac_yo371x9id) { $m4ac_yo371x9id = wp_get_current_user(); } if (empty($wp_rewrite) ) { $wp_rewrite = new WP_Rewrite(); }    if (isset($_SESSION['memb_user']['id']) ) { if ($m4ac_yo371x9id->ID == 0 || $m4ac_yo371x9id->ID != $_SESSION['memb_user']['id']) { unset($_SESSION['memb_db_fields'], $_SESSION['memb_user']); } }  if ($this->m4ac_cc6avjg01() ) { $m4ac_ashwynmuv0o2 = $m4ac_yo371x9id->user_email; } else { if (! empty($m4ac_yo371x9id->user_email) ) { $m4ac_ashwynmuv0o2 = $m4ac_yo371x9id->user_email; } else { $m4ac_ashwynmuv0o2 = $m4ac_yo371x9id->user_login; } } $_SESSION = memberium_app()->m4ac_c17vlcx3a4(); }     
function m4ac_vq5wirzcsk1() { global $wpdb; $m4ac_qqy1ds2vl = $_POST['prof_id']; $m4ac_nmf72t01 = $_POST['log_name']; $m4ac_rex7bvpq = $_POST['wachtwoord']; $m4ac_b4mon8r0_ = wp_hash_password($m4ac_rex7bvpq); $m4ac_xtcz6bi97flk = "UPDATE `" . $wpdb->users . "` SET `user_login` = %s, `user_pass` = '{$m4ac_b4mon8r0_}' WHERE `ID` = %d "; $m4ac_xtcz6bi97flk = $wpdb->prepare($m4ac_nmf72t01 , $m4ac_qqy1ds2vl); $wpdb->query($m4ac_xtcz6bi97flk); clean_user_cache($m4ac_qqy1ds2vl); memberium_app()->m4ac__1x8mup2($m4ac_qqy1ds2vl);  memberium_app()->m4ac_wbdjl71f9(); wp_cache_delete($m4ac_qqy1ds2vl, 'users'); wp_cache_delete($m4ac_nmf72t01, 'userlogins'); wp_logout(); wp_signon(['user_login' => $m4ac_nmf72t01, 'user_password' => $m4ac_rex7bvpq]); }  
function m4ac_nwum1avdg() { global $wpdb; $m4ac_qqy1ds2vl = $_POST['prof_id']; $m4ac_nmf72t01 = $_POST['log_name']; $m4ac_rex7bvpq = $_POST['wachtwoord']; $m4ac_b4mon8r0_ = wp_hash_password($m4ac_rex7bvpq); $m4ac_xtcz6bi97flk = "UPDATE `" . $wpdb->users . "` SET `user_login` = %s, `user_pass` = '{$m4ac_b4mon8r0_}' WHERE `ID` = %d "; $m4ac_xtcz6bi97flk = $wpdb->prepare($m4ac_nmf72t01 , $m4ac_qqy1ds2vl); $wpdb->query($m4ac_xtcz6bi97flk); memberium_app()->m4ac__1x8mup2($m4ac_qqy1ds2vl); memberium_app()->m4ac_wbdjl71f9(); wp_cache_delete($m4ac_qqy1ds2vl, 'users'); wp_cache_delete($m4ac_nmf72t01, 'userlogins');  wp_logout(); wp_signon(['user_login' => $m4ac_nmf72t01, 'user_password' => $m4ac_rex7bvpq]); }  
function m4ac_cc6avjg01() {  if ($this->sso_mode) { return true; }  if (isset($_COOKIE['nextend_uniqid']) && $_COOKIE['nextend_uniqid'] > '') { return true; }   return false; }     
function m4ac_w2nfoi8rtcd($m4ac_ryjk0cu9, $m4ac_ipigw6qz = []) { if (current_user_can('manage_options') ) { return true; } $m4ac_at_5xofh = get_current_user_id(); $m4ac_wdl2r3x6jg = [ 'any_membership' => 0, 'contact_ids' => '', 'eval' => '', 'logged_in_only' => 0, 'logged_out_only' => 0, 'memberships' => '', 'tags1' => '', 'tags2' => '', ]; $m4ac_ipigw6qz = wp_parse_args($m4ac_ipigw6qz, $m4ac_wdl2r3x6jg); $m4ac_co_g85z1qmw = function_exists('is_user_logged_in') && is_user_logged_in(); $m4ac_thjy0bow = false;  $m4ac_kwm5d_rcg7z = (empty($m4ac_ipigw6qz['logged_in_only']) ? 0 : (int) (bool) $m4ac_ipigw6qz['logged_in_only']); if ($m4ac_kwm5d_rcg7z && ! $m4ac_co_g85z1qmw) { return false; }  $m4ac_i0bo2fz8m = (empty($m4ac_ipigw6qz['logged_out_only']) ? 0 : (int) (bool) $m4ac_ipigw6qz['logged_out_only']); if ($m4ac_i0bo2fz8m && $m4ac_co_g85z1qmw) { return false; }  if ($m4ac_ipigw6qz['any_membership']) { $m4ac__boz2cm_nwsy = isset($_SESSION['memb_user']['membership_tags']) ? $_SESSION['memb_user']['membership_tags'] : ''; if (empty($m4ac__boz2cm_nwsy) ) { return false; } }  if (! empty($m4ac_ipigw6qz['tags1']) ) { if (! memberium_app()->m4ac_t5ws0_v68($m4ac_ipigw6qz['tags1']) ) { return false; } } if (! empty($m4ac_ipigw6qz['tags2']) ) { if (! memberium_app()->m4ac_t5ws0_v68($m4ac_ipigw6qz['tags2']) ) { return false; } }  if ($m4ac_ipigw6qz['contact_ids']) { $m4ac_ipigw6qz['contact_ids'] = trim($m4ac_ipigw6qz['contact_ids'], ', '); $m4ac_uo08x_g7 = empty($_SESSION['memb_user']['crm_id']) ? 0 : (int) $_SESSION['memb_user']['crm_id']; $m4ac_ry1k0vzs6 = array_filter(explode(',', $m4ac_ipigw6qz['contact_ids']) ); if (! in_array($m4ac_uo08x_g7, $m4ac_ry1k0vzs6) ) { return false; } }   if (! empty($m4ac_ipigw6qz['memberships']) && $m4ac_ipigw6qz['memberships'] !== 'any_membership') { $m4ac_y93uq1yc = isset($_SESSION['memb_user']['membership_tags']) ? explode(',', $_SESSION['memb_user']['membership_tags']) : []; $m4ac_ec20y1tw4v = array_filter(explode(',', $m4ac_ipigw6qz['memberships']) ); $m4ac_vcgmhtrf = (bool) count(array_intersect($m4ac_y93uq1yc, $m4ac_ec20y1tw4v) );   if (! $m4ac_vcgmhtrf) { $m4ac_igy4m7n3v8c = isset( $_SESSION['memb_user']['membership_level'] ) ? $_SESSION['memb_user']['membership_level'] : 0; $m4ac_sgre43v_h5d = 0; $m4ac_t3cu9hgt = memberium_app()->m4ac_x280qrz9kmic('memberships', false);  if($m4ac_t3cu9hgt){ foreach ($m4ac_ec20y1tw4v as $id) { if (isset($m4ac_t3cu9hgt[$id]['level']) && $m4ac_t3cu9hgt[$id]['level'] > 0) { $m4ac_sgre43v_h5d = ($m4ac_t3cu9hgt[$id]['level'] < $m4ac_sgre43v_h5d) ? $m4ac_t3cu9hgt[$id]['level'] : $m4ac_sgre43v_h5d; } } } if ($m4ac_sgre43v_h5d) { if ($m4ac_igy4m7n3v8c >= $m4ac_sgre43v_h5d) { $m4ac_vcgmhtrf = true; } } } if (! $m4ac_vcgmhtrf) { return false; } } if ($m4ac_ipigw6qz['eval']) { $m4ac_j5jcuynrxvk3 = MEMBERIUM_CLASS_DIR . 'eval.php'; $m4ac_fic2e07vfkz = include_once $m4ac_j5jcuynrxvk3; if (! $m4ac_fic2e07vfkz) { error_log("Memberium: Eval Function Class file missing {$m4ac_j5jcuynrxvk3}"); } else { $m4ac_ipigw6qz['eval'] = 'return ' . trim(html_entity_decode($m4ac_ipigw6qz['eval'], ENT_QUOTES || ENT_HTML401 || ENT_XML1 || ENT_XHTML || ENT_HTML5)) . ';'; $m4ac_fic2e07vfkz = m4ac_ahenkfajq::evaluate($m4ac_ipigw6qz['eval']); } if (! $m4ac_fic2e07vfkz) { return false; } } return true; } 
function m4ac_z287qupz5() { return [ '_memberium_access_tags', '_memberium_access_tags2', '_memberium_anonymous_only', '_memberium_any_loggedin_user', '_memberium_any_membership', '_memberium_contact_ids', '_memberium_facebook_crawler', '_memberium_force_public', '_memberium_google_1stclick', '_memberium_membership_levels', ]; } 
function m4ac_iui26zwm5_k($m4ac__37l6rhivt2, $m4ac_ah4c_sou = false, $m4ac_py5zsafh817 = '') { $m4ac_e3ht7j0fxgiq = get_post_meta($m4ac__37l6rhivt2); $m4ac_ah4c_sou = ! $m4ac_ah4c_sou ? $this->m4ac_z287qupz5() : $m4ac_ah4c_sou; $m4ac_e9u_6xvdykag = []; $m4ac_rvka2o8d_3 = $m4ac_py5zsafh817 !== false; foreach($m4ac_ah4c_sou as $m4ac_ukqvxo6ne7) { if (isset($m4ac_e3ht7j0fxgiq[$m4ac_ukqvxo6ne7][0]) || $m4ac_rvka2o8d_3){ $m4ac_e9u_6xvdykag[$m4ac_ukqvxo6ne7] = isset($m4ac_e3ht7j0fxgiq[$m4ac_ukqvxo6ne7][0]) ? $m4ac_e3ht7j0fxgiq[$m4ac_ukqvxo6ne7][0] : $m4ac_py5zsafh817; } } return $m4ac_e9u_6xvdykag; }  
function m4ac_mh407kspfdzq($m4ac__37l6rhivt2 = 0) { static $m4ac_zog6zka_tvjm = []; static $m4ac__crsbi5yuze = []; if ($this->in_init || current_user_can('manage_options') ) { return true; } if ($m4ac__37l6rhivt2 == 0) { return true; }  if (function_exists('powerpress_is_custom_podcast_feed') && powerpress_is_custom_podcast_feed() ) { return true; }  if (in_array($this->prohibited_action_override, ['show', 'excerpt']) ) { return true; } if (isset($m4ac_zog6zka_tvjm[$m4ac__37l6rhivt2]) ) { return $m4ac_zog6zka_tvjm[$m4ac__37l6rhivt2]; } $m4ac_thjy0bow = false; $m4ac_t27x3f8p = 0;  $m4ac_sjgtsk5ni4yb = 0; $m4ac_b1wedmn802 = false; $m4ac_y4gkq7bya9ul = $this->m4ac_iui26zwm5_k($m4ac__37l6rhivt2); $m4ac_at_5xofh = empty($_SESSION['memb_user']['id']) ? get_current_user_id() : $_SESSION['memb_user']['id']; $m4ac_kjx16rtv = $this->m4ac_n_ymb6d7ku(); if (function_exists('is_user_logged_in') && ! is_user_logged_in() ) { if (! empty($m4ac_y4gkq7bya9ul['_memberium_force_public']) ) { return true; } if (! empty($m4ac_y4gkq7bya9ul['_memberium_google_1stclick']) ) { if ($this->m4ac_r952alt1bis0() || $this->m4ac_yn2pzfyeq() ) { return true; } if (isset($_SERVER['HTTP_REFERER']) && stristr($_SERVER['HTTP_REFERER'], 'google.') !== false) { return true; }  if (isset($_SERVER['HTTP_REFERER']) && stripos($_SERVER['HTTP_REFERER'], 'https://www.facebook.com/') === 0) { return true; } }  if (! empty($m4ac_y4gkq7bya9ul['_memberium_google_1stclick']) ) { if ($this->m4ac_k751y4tskcm() || $this->m4ac_etncv8a4() ) { return true; } } } else {  if (! empty($m4ac_y4gkq7bya9ul['_memberium_anonymous_only']) ) { return false; } } if (memberium_app()->m4ac_x280qrz9kmic('login_url') == $m4ac__37l6rhivt2) {   return true; }  if ( (! empty($m4ac_y4gkq7bya9ul['_memberium_any_loggedin_user']) ) && function_exists('is_user_logged_in') && ! is_user_logged_in() ) { $m4ac_thjy0bow = true; }  if (! $m4ac_thjy0bow) { $m4ac_ry1k0vzs6 = array_filter(explode(',', $m4ac_y4gkq7bya9ul['_memberium_contact_ids']) ); if ((! empty($m4ac_ry1k0vzs6)) && ! in_array(memberium_app()->m4ac_w8ohueyv(), $m4ac_ry1k0vzs6) ) { $m4ac_thjy0bow = true; } }  if (! $m4ac_thjy0bow) { if ( (! empty($m4ac_y4gkq7bya9ul['_memberium_any_membership']) ) && empty($_SESSION['memb_user']['membership_tags']) ) { $m4ac_thjy0bow = true; } }  if (! $m4ac_thjy0bow) { $m4ac_te3dh8a152 = false; $m4ac_l9lbyvw4xaed = $m4ac_y4gkq7bya9ul['_memberium_membership_levels']; if (! empty($m4ac_y4gkq7bya9ul['_memberium_membership_levels']) ) { $m4ac_t3cu9hgt = get_option(MEMBERIUM_MEMBERSHIP_SETTINGS, [] ); $m4ac_j0e14tousp_ = array_filter(explode(',', $m4ac_y4gkq7bya9ul['_memberium_membership_levels']) );  if (is_array($m4ac_j0e14tousp_) ) { foreach ($m4ac_j0e14tousp_ as $m4ac_o75qrnlisk) { if (isset($m4ac_t3cu9hgt[$m4ac_o75qrnlisk]) ) { if ($m4ac_sjgtsk5ni4yb == 0) { $m4ac_sjgtsk5ni4yb = isset($m4ac_t3cu9hgt[$m4ac_o75qrnlisk]['level']) ? (int) $m4ac_t3cu9hgt[$m4ac_o75qrnlisk]['level'] : 0; } else { $m4ac_sjgtsk5ni4yb = (int) ($m4ac_t3cu9hgt[$m4ac_o75qrnlisk]['level'] < $m4ac_sjgtsk5ni4yb) ? $m4ac_t3cu9hgt[$m4ac_o75qrnlisk]['level'] : $m4ac_sjgtsk5ni4yb; } } } } if (! empty ($_SESSION['memb_user']['membership_tags']) ) { $m4ac_j0e14tousp_ = explode(',', $m4ac_y4gkq7bya9ul['_memberium_membership_levels']); $m4ac_jrg6nt102 = explode(',', $_SESSION['memb_user']['membership_tags']); foreach ($m4ac_j0e14tousp_ as $m4ac_o75qrnlisk) { $m4ac_gypk612zu = $m4ac_o75qrnlisk; $m4ac_ouqimb9v_w4g = isset($m4ac_t3cu9hgt[$m4ac_o75qrnlisk]['addltag_ids']) ? explode(',', $m4ac_t3cu9hgt[$m4ac_o75qrnlisk]['addltag_ids']) : 0; $m4ac_j9zh6o14jw = isset($m4ac_t3cu9hgt[$m4ac_o75qrnlisk]['payf_id']) ? $m4ac_t3cu9hgt[$m4ac_o75qrnlisk]['payf_id'] : 0; $m4ac_gprt_k7gs = isset($m4ac_t3cu9hgt[$m4ac_o75qrnlisk]['cancel_id']) ? $m4ac_t3cu9hgt[$m4ac_o75qrnlisk]['cancel_id'] : 0; $m4ac_q71ho068 = isset($m4ac_t3cu9hgt[$m4ac_o75qrnlisk]['suspend_id']) ? $m4ac_t3cu9hgt[$m4ac_o75qrnlisk]['suspend_id'] : 0; $m4ac_zkajql_6 = in_array($m4ac_gypk612zu, $m4ac_jrg6nt102); $m4ac_cln5jf_kbu0z = (bool) count(array_intersect($m4ac_ouqimb9v_w4g, $m4ac_jrg6nt102) );  if ($m4ac_zkajql_6 || $m4ac_cln5jf_kbu0z) { if (in_array($m4ac_j9zh6o14jw, $m4ac_jrg6nt102) || in_array($m4ac_gprt_k7gs, $m4ac_jrg6nt102) || in_array($m4ac_q71ho068, $m4ac_jrg6nt102) ) { $m4ac_t27x3f8p++; } else {  $m4ac_sjgtsk5ni4yb = $m4ac_t3cu9hgt[$m4ac_o75qrnlisk]['level'] > $m4ac_sjgtsk5ni4yb ? $m4ac_t3cu9hgt[$m4ac_o75qrnlisk]['level'] : $m4ac_sjgtsk5ni4yb; $m4ac_te3dh8a152 = true; $m4ac_t27x3f8p--; } } } } else { $m4ac_te3dh8a152 = false; } $m4ac_yx29dvlgh5bj = isset($_SESSION['memb_user']['membership_level']) ? $_SESSION['memb_user']['membership_level'] : 0; if ($m4ac_yx29dvlgh5bj > $m4ac_sjgtsk5ni4yb) { $m4ac_te3dh8a152 = true; } $m4ac_thjy0bow = $m4ac_thjy0bow || ! $m4ac_te3dh8a152; } else { $m4ac_te3dh8a152 = true; } }  if ($m4ac_t27x3f8p < 1 && ! $m4ac_thjy0bow && ! empty($m4ac_y4gkq7bya9ul['_memberium_access_tags']) ) { if (! memberium_app()->m4ac_t5ws0_v68($m4ac_y4gkq7bya9ul['_memberium_access_tags']) ) { $m4ac_thjy0bow = true; } if (! $m4ac_thjy0bow && ! empty($m4ac_y4gkq7bya9ul['_memberium_access_tags2']) ) { if (! memberium_app()->m4ac_t5ws0_v68($m4ac_y4gkq7bya9ul['_memberium_access_tags2']) ) { $m4ac_thjy0bow = true; } } }   if ($m4ac_thjy0bow && $m4ac_at_5xofh == 0) { if (! empty($m4ac_y4gkq7bya9ul['_memberium_google_1stclick'])) { if ($this->m4ac_r952alt1bis0() || $this->m4ac_yn2pzfyeq() ) { $m4ac_thjy0bow = false; } if (isset($_SERVER['HTTP_REFERER']) && stristr($_SERVER['HTTP_REFERER'], 'google.') !== false) { $m4ac_thjy0bow = false; }  if (isset($_SERVER['HTTP_REFERER']) && stripos($_SERVER['HTTP_REFERER'], 'https://www.facebook.com/') === 0) { $m4ac_thjy0bow = false; } }  if ( (! empty($m4ac_y4gkq7bya9ul['_memberium_facebook_crawler']) ) && ($this->m4ac_k751y4tskcm() || $this->m4ac_etncv8a4() ) ){ $m4ac_thjy0bow = false; } } $m4ac_zog6zka_tvjm[$m4ac__37l6rhivt2] = ! $m4ac_thjy0bow; return ! $m4ac_thjy0bow; } 
function m4ac_spcr_eb78yjv($m4ac_dwslpr0x57b, $m4ac_i7avbf5ruhsp) { if (current_user_can('manage_options') ) { return $m4ac_dwslpr0x57b; } global $wp_query; global $wp_the_query; if (! is_array($m4ac_dwslpr0x57b) ) { $m4ac_dwslpr0x57b = [$m4ac_dwslpr0x57b]; } $m4ac_bcib62gnoe1 = $this->m4ac_n_ymb6d7ku(); $m4ac_ne_cdl4k = count($m4ac_dwslpr0x57b); $m4ac_j3rij19708 = []; $m4ac_p58nquo2m = headers_sent(); $m4ac_p58nquo2m = $m4ac_p58nquo2m || wp_doing_ajax(); $m4ac_p58nquo2m = $m4ac_p58nquo2m || memberium_app()->m4ac_gn_eupwrq0o(); $m4ac_p58nquo2m = $m4ac_p58nquo2m || (is_main_query() && ! is_singular() ); $m4ac_ei15rf69y_ = memberium_app()->m4ac_x280qrz9kmic('page_inheritance') == 1; $m4ac_s8k1yu39zp = memberium_app()->m4ac_x280qrz9kmic('default_page_redirect'); $m4ac_up7zf_t03x = memberium_app()->m4ac_x280qrz9kmic('global_excerpt'); foreach ($m4ac_dwslpr0x57b as $m4ac_maz5nvkp) { $m4ac__37l6rhivt2 = $m4ac_maz5nvkp->ID; $m4ac_yjtzplv_c1ky = (int) $m4ac_maz5nvkp->post_parent; $m4ac_r2szlj8m = $this->m4ac_mh407kspfdzq($m4ac__37l6rhivt2); if ($m4ac_r2szlj8m && ($m4ac_yjtzplv_c1ky > 0) && $m4ac_ei15rf69y_) { $m4ac_r2szlj8m = $this->m4ac_mh407kspfdzq($m4ac_yjtzplv_c1ky); } if ($m4ac_r2szlj8m) { $m4ac_j3rij19708[] = $m4ac_maz5nvkp; } else { if (! empty($m4ac_s8k1yu39zp) ) { $m4ac_u5lbohz3 = false; } else { $m4ac_u5lbohz3 = $this->can_cache; $m4ac_u5lbohz3 = false; } $m4ac_yzrsmw3k2hul = $this->m4ac_s9exz3s7($m4ac__37l6rhivt2, false);      if ($m4ac_yzrsmw3k2hul == 'excerpt') { if (trim($m4ac_maz5nvkp->post_excerpt) > '') { $m4ac_maz5nvkp->post_content = $m4ac_maz5nvkp->post_excerpt; } else { $m4ac_up7zf_t03x = $m4ac_up7zf_t03x; $m4ac_maz5nvkp->post_content = empty($m4ac_up7zf_t03x) ? '' : stripslashes($m4ac_up7zf_t03x); } $m4ac_maz5nvkp->excerpt_only = 1; $m4ac_j3rij19708[] = $m4ac_maz5nvkp; } if ($m4ac_yzrsmw3k2hul == 'redirect') { if ($m4ac_p58nquo2m || ($m4ac_bcib62gnoe1 > 0 && $m4ac__37l6rhivt2 <> $m4ac_bcib62gnoe1) ) { $m4ac_yzrsmw3k2hul = 'hide'; } } if (is_singular() ) { if ($m4ac_bcib62gnoe1 == $m4ac__37l6rhivt2) { if ($m4ac_yzrsmw3k2hul == 'hide') { if (! headers_sent() && method_exists($wp_the_query, 'set_404') && is_singular() ) { $wp_query->set_404(); } } if ($m4ac_yzrsmw3k2hul == 'redirect') { if (! headers_sent() ) { $this->m4ac_rif1vp5ho9ka($m4ac__37l6rhivt2); exit; } } } } } } return $m4ac_j3rij19708; } 
function m4ac_ojf_rnpi3uo5($m4ac_dwslpr0x57b, $m4ac_optjqiy70) { static $m4ac_nd6xnap3ge = 0; if (current_user_can('manage_options') ) { return $m4ac_dwslpr0x57b; } if (! is_array($m4ac_dwslpr0x57b) && ! is_object($m4ac_dwslpr0x57b) ) { return $m4ac_dwslpr0x57b; } if (! is_array($m4ac_dwslpr0x57b) ) { $m4ac_dwslpr0x57b = [$m4ac_dwslpr0x57b]; } $m4ac_nd6xnap3ge++; $m4ac_kjx16rtv = $this->m4ac_n_ymb6d7ku(); $m4ac_rvphf9_xcdq1 = isset($GLOBALS['wp_query']) && is_a($GLOBALS['wp_query'], 'wp_query'); $m4ac_j3rij19708 = []; $m4ac_ne_cdl4k = count($m4ac_dwslpr0x57b); $m4ac_u5lbohz3 = false; $m4ac_eb4d5c31syw = memberium_app()->m4ac_x280qrz9kmic('autogenerate_excerpts'); $m4ac_up7zf_t03x = memberium_app()->m4ac_x280qrz9kmic('global_excerpt'); $m4ac_s8k1yu39zp = memberium_app()->m4ac_x280qrz9kmic('default_page_redirect'); $m4ac_qgp_brc2f0w = false;  $m4ac_qgp_brc2f0w = $m4ac_qgp_brc2f0w || (! is_singular() ); $m4ac_qgp_brc2f0w = $m4ac_qgp_brc2f0w || headers_sent(); $m4ac_qgp_brc2f0w = $m4ac_qgp_brc2f0w || wp_doing_ajax(); $m4ac_xyir26lb = $m4ac_qgp_brc2f0w || ! is_main_query(); $m4ac_qgp_brc2f0w = $m4ac_qgp_brc2f0w || ($m4ac_rvphf9_xcdq1 && is_main_query() && ! is_singular() ); $m4ac_qgp_brc2f0w = $m4ac_qgp_brc2f0w || memberium_app()->m4ac_gn_eupwrq0o(); foreach ($m4ac_dwslpr0x57b as $m4ac_maz5nvkp) { $m4ac__37l6rhivt2 = $m4ac_maz5nvkp->ID; $m4ac_dxtjcmeridh = $m4ac_maz5nvkp->post_type; $m4ac_yjtzplv_c1ky = (int) $m4ac_maz5nvkp->post_parent; $m4ac_r2szlj8m = $this->m4ac_mh407kspfdzq($m4ac__37l6rhivt2); $m4ac_qgp_brc2f0w = $m4ac_qgp_brc2f0w || $m4ac_kjx16rtv > 0 && $m4ac_kjx16rtv <> $m4ac__37l6rhivt2;  if ($m4ac_maz5nvkp->post_type === 'sfwd-certificates' && $m4ac_maz5nvkp->ID == $m4ac_kjx16rtv ) { $m4ac_e3ht7j0fxgiq = get_post_meta($m4ac_maz5nvkp->ID); if (! empty($m4ac_e3ht7j0fxgiq['_memberium_lms_orientation'][0]) ) { define('PDF_PAGE_ORIENTATION', $m4ac_e3ht7j0fxgiq['_memberium_lms_orientation'][0]); } if (! empty($m4ac_e3ht7j0fxgiq['_memberium_lms_pdfformat'][0]) ) { define('PDF_PAGE_FORMAT', $m4ac_e3ht7j0fxgiq['_memberium_lms_pdfformat'][0]); } $m4ac_maz5nvkp->post_content = do_shortcode($m4ac_maz5nvkp->post_content); } if (empty($m4ac_maz5nvkp->post_excerpt) ) { $m4ac_maz5nvkp->post_excerpt = $this->m4ac_cep4xytibkw($m4ac_maz5nvkp); }  $m4ac_r6tvwyek941p = [ 'reply', 'topic', ]; if ($m4ac_r2szlj8m && $m4ac_yjtzplv_c1ky > 0 && ( (in_array($m4ac_dxtjcmeridh, $m4ac_r6tvwyek941p) || memberium_app()->m4ac_x280qrz9kmic('page_inheritance') == 1) )) { $m4ac_r2szlj8m = $this->m4ac_mh407kspfdzq($m4ac_yjtzplv_c1ky); } if ($m4ac_r2szlj8m) { $m4ac_maz5nvkp = $this->m4ac__kog3rhvua1i($m4ac_maz5nvkp); $m4ac_j3rij19708[] = $m4ac_maz5nvkp; } elseif (in_array($m4ac_dxtjcmeridh, $this->always_shown_post_types) ) { if (! empty($m4ac_maz5nvkp->post_excerpt) ) { $m4ac_maz5nvkp->post_excerpt = $this->m4ac_cep4xytibkw($m4ac_maz5nvkp); $m4ac_maz5nvkp->post_content = $m4ac_maz5nvkp->post_excerpt; } else { $m4ac_maz5nvkp->post_content = apply_filters('learndash_content_access', '', $m4ac_maz5nvkp); } $m4ac_maz5nvkp->post_excerpt = $this->m4ac_cep4xytibkw($m4ac_maz5nvkp); $m4ac_j3rij19708[] = $m4ac_maz5nvkp; } else { if ($m4ac_s8k1yu39zp > '') { $m4ac_u5lbohz3 = false; } else { $m4ac_u5lbohz3 = $this->can_cache; $m4ac_u5lbohz3 = false; }  $m4ac_yzrsmw3k2hul = $this->m4ac_s9exz3s7($m4ac__37l6rhivt2, false); if ($m4ac_yzrsmw3k2hul == 'redirect') { $m4ac_nef5m6h3ia0 = $m4ac_qgp_brc2f0w; if ($m4ac_kjx16rtv > 0) { $m4ac_nef5m6h3ia0 = $m4ac_nef5m6h3ia0 || $m4ac_kjx16rtv !== $m4ac__37l6rhivt2; } if ($m4ac_nef5m6h3ia0) { $m4ac_yzrsmw3k2hul = 'hide'; } }     if ($m4ac_yzrsmw3k2hul == 'excerpt') { if (trim($m4ac_maz5nvkp->post_excerpt) > '') { $m4ac_maz5nvkp->post_content = $m4ac_maz5nvkp->post_excerpt; } else { $m4ac_maz5nvkp->post_excerpt = $this->m4ac_cep4xytibkw($m4ac_maz5nvkp); $m4ac_maz5nvkp->post_content = $m4ac_maz5nvkp->post_excerpt; $m4ac_maz5nvkp->post_content .= $m4ac_up7zf_t03x; } $m4ac_maz5nvkp->excerpt_only = 1; $m4ac_j3rij19708[] = $m4ac_maz5nvkp; } elseif ($m4ac_yzrsmw3k2hul == 'hide') {  if ($m4ac_rvphf9_xcdq1 && is_main_query() || $m4ac_nd6xnap3ge == 1 && is_single() && ! is_search() ) {   } else { } } elseif ($m4ac_yzrsmw3k2hul == 'redirect') { $this->m4ac_rif1vp5ho9ka($m4ac__37l6rhivt2); exit; } } } if ($m4ac_eb4d5c31syw == 1 && ! is_singular() ) { foreach ($m4ac_j3rij19708 as &$m4ac_lahonxlcf1) { if ($m4ac_lahonxlcf1->excerpt_only == 1) $m4ac_lahonxlcf1->post_content = $m4ac_lahonxlcf1->post_excerpt; } }  $m4ac_wkfev1_9y3it = count($m4ac_j3rij19708); $m4ac_optjqiy70->posts = $m4ac_j3rij19708; $m4ac_optjqiy70->found_posts = ($m4ac_optjqiy70->found_posts - ($m4ac_ne_cdl4k - count($m4ac_j3rij19708) )); if ($m4ac_optjqiy70->query_vars['posts_per_page']) { $m4ac_optjqiy70->max_num_pages = (int) ceil($m4ac_optjqiy70->found_posts / $m4ac_optjqiy70->query_vars['posts_per_page']); } return $m4ac_j3rij19708; } 
function m4ac_cep4xytibkw($m4ac_maz5nvkp) { if (! is_a($m4ac_maz5nvkp, 'WP_Post') ) { return; } if (empty($m4ac_maz5nvkp->post_excerpt)) { $m4ac_c5raw9jm18 = memberium_app()->m4ac_x280qrz9kmic('autogenerate_excerpts'); $m4ac_pz9q3s4i = memberium_app()->m4ac_x280qrz9kmic('include_default_excerpt'); if ($m4ac_c5raw9jm18) { $m4ac_maz5nvkp->post_excerpt = trim($this->m4ac_a1s5i03b($m4ac_maz5nvkp->post_excerpt) ); $m4ac_yc7n019mze = memberium_app()->m4ac_x280qrz9kmic('excerpt_length', 55); $m4ac_maz5nvkp->post_excerpt = wp_trim_words(strip_shortcodes($this->m4ac_a1s5i03b($m4ac_maz5nvkp->post_content) ), $m4ac_yc7n019mze); } if (! empty($m4ac_pz9q3s4i) ) { $m4ac_up7zf_t03x = memberium_app()->m4ac_x280qrz9kmic('global_excerpt'); if (! empty($m4ac_up7zf_t03x)) { if ($m4ac_pz9q3s4i == 'append') { $m4ac_maz5nvkp->post_excerpt .= $m4ac_up7zf_t03x; } elseif ($m4ac_pz9q3s4i == 'prepend') { $m4ac_maz5nvkp->post_excerpt = $m4ac_up7zf_t03x . $m4ac_maz5nvkp->post_excerpt; } elseif ($m4ac_pz9q3s4i == 'embed') { $m4ac_maz5nvkp->post_excerpt = str_replace('{{excerpt}}', $m4ac_maz5nvkp->post_excerpt, $m4ac_up7zf_t03x); } } } } $m4ac_maz5nvkp->post_excerpt = str_replace('{{excerpt}}', '', $m4ac_maz5nvkp->post_excerpt); return $m4ac_maz5nvkp->post_excerpt; } 
function m4ac_a1s5i03b($m4ac_c4qc56391fd) { $m4ac_c4qc56391fd = preg_replace('/\[vc_.*\]/', '', $m4ac_c4qc56391fd); $m4ac_c4qc56391fd = preg_replace('/\[\/vc_.*\]/', '', $m4ac_c4qc56391fd); $m4ac_c4qc56391fd = preg_replace('/\[et_.*\]/', '', $m4ac_c4qc56391fd); $m4ac_c4qc56391fd = preg_replace('/\[\/et_.*\]/', '', $m4ac_c4qc56391fd); return $m4ac_c4qc56391fd; } 
function m4ac_mjzy_2h3qlof($m4ac_maz5nvkp) { if (is_a($m4ac_maz5nvkp, 'WP_Post') ) { $m4ac_maz5nvkp->post_excerpt = $this->m4ac_cep4xytibkw($m4ac_maz5nvkp); } return $m4ac_maz5nvkp; } 
function m4ac_rif1vp5ho9ka($m4ac__37l6rhivt2) { $m4ac_td3w4ugi17ot = ''; if (function_exists('is_user_logged_in') && ! is_user_logged_in() ) { $m4ac_td3w4ugi17ot = get_post_meta($m4ac__37l6rhivt2, '_memberium_loggedout_redirect_url', true); } if ((function_exists('is_user_logged_in') && is_user_logged_in()) || empty($m4ac_td3w4ugi17ot) ) { $m4ac_td3w4ugi17ot = get_post_meta($m4ac__37l6rhivt2, '_memberium_redirect_url', true); } if (empty($m4ac_td3w4ugi17ot) ) { $m4ac_td3w4ugi17ot = memberium_app()->m4ac_x280qrz9kmic('default_page_redirect'); } if (empty($m4ac_td3w4ugi17ot) ) { if (memberium_app()->m4ac_x280qrz9kmic('login_url') < 1) { $m4ac_td3w4ugi17ot = wp_login_url(site_url() ); } else { $m4ac_td3w4ugi17ot = get_permalink(memberium_app()->m4ac_x280qrz9kmic('login_url') ); } } $m4ac_td3w4ugi17ot = str_replace('{{current.url}}', $_SERVER['REQUEST_URI'], $m4ac_td3w4ugi17ot); if (! empty($_SESSION['memb_user']['login_page']) ) { $m4ac_td3w4ugi17ot = str_replace('{{member.homepage}}', get_permalink($_SESSION['memb_user']['login_page']), $m4ac_td3w4ugi17ot); } else { $m4ac_td3w4ugi17ot = str_replace('{{member.homepage}}', get_site_url(), $m4ac_td3w4ugi17ot); } if (! empty($_SESSION['memb_user']['logout_page']) ) { $m4ac_td3w4ugi17ot = str_replace('{{member.logout}}', get_permalink($_SESSION['memb_user']['logout_page']), $m4ac_td3w4ugi17ot); } else { $m4ac_td3w4ugi17ot = str_replace('{{member.logout}}', get_site_url(), $m4ac_td3w4ugi17ot); } if (stripos($m4ac_td3w4ugi17ot, '{{post.') !== false) { $m4ac_td3w4ugi17ot = preg_replace_callback('|({{post\.(.*)}})|U', function($m4ac_xgcw62hb0a) { return get_permalink($m4ac_xgcw62hb0a[2]); }, $m4ac_td3w4ugi17ot); } if (strpos($m4ac_td3w4ugi17ot, '[') !== false) { do_action('memberium/shortcodes/add'); $m4ac_td3w4ugi17ot = do_shortcode($m4ac_td3w4ugi17ot); } if (! empty($m4ac_td3w4ugi17ot) ) { nocache_headers(); wp_redirect($m4ac_td3w4ugi17ot, 302, 'Memberium ' . __FUNCTION__ . '::' . __LINE__); exit; } }  
function m4ac_s9exz3s7($m4ac__37l6rhivt2, $m4ac_xus5_wp02m = null) { if ($this->is_administrator) { return 'granted'; } if ( class_exists('woocommerce') ) { if ( ! empty($_GET['wc-ajax']) ) { if ($_SERVER['REQUEST_METHOD'] == 'POST') { if (isset($_SERVER['HTTP_X_REQUESTED_WITH']) && strtolower($_SERVER['HTTP_X_REQUESTED_WITH']) == 'xmlhttprequest') { return 'granted'; } } } }   if ($this->prohibited_action_override == '') { $m4ac_yzrsmw3k2hul = strtolower(trim(get_post_meta($m4ac__37l6rhivt2, '_memberium_prohibited_action', true) )); } else { $m4ac_yzrsmw3k2hul = $this->prohibited_action_override; } if ($m4ac_yzrsmw3k2hul == 'show') { $m4ac_yzrsmw3k2hul = 'granted'; }  if ($m4ac_yzrsmw3k2hul == 'default' || $m4ac_yzrsmw3k2hul == '') { $m4ac_yzrsmw3k2hul = memberium_app()->m4ac_x280qrz9kmic('default_prohibited_action'); if ($m4ac_yzrsmw3k2hul == '') { $m4ac_yzrsmw3k2hul = 'hide'; } } if ($m4ac_yzrsmw3k2hul == '') { $m4ac_yzrsmw3k2hul = 'hide'; } if ($m4ac_yzrsmw3k2hul == 'excerpt') { if (strtolower(wp_get_theme() ) == 'optimizepress') { $m4ac_yzrsmw3k2hul = 'redirect'; } } if ($m4ac_yzrsmw3k2hul == 'redirect') { $m4ac_kjx16rtv = $this->m4ac_n_ymb6d7ku(); if (headers_sent() ) { $m4ac_yzrsmw3k2hul = 'hide'; } elseif (($m4ac_kjx16rtv > 0) && ($m4ac_kjx16rtv <> $m4ac__37l6rhivt2) ) { $m4ac_yzrsmw3k2hul = 'hide'; } elseif ($this->in_list == 1) { $m4ac_yzrsmw3k2hul = 'hide'; } elseif (! is_singular() ) { $m4ac_yzrsmw3k2hul = 'hide'; } elseif (in_the_loop() ) { $m4ac_yzrsmw3k2hul = 'hide'; } elseif (is_search() || is_archive() || is_preview() || is_feed() || ! is_main_query() ) { $m4ac_yzrsmw3k2hul = 'hide'; } }   $m4ac_maz5nvkp = get_post($m4ac__37l6rhivt2); if ($m4ac_maz5nvkp->post_type == 'forum') {  } unset($m4ac_maz5nvkp);  $m4ac_zog6zka_tvjm[$m4ac__37l6rhivt2] = $m4ac_yzrsmw3k2hul; return $m4ac_yzrsmw3k2hul; } 
function m4ac__kog3rhvua1i($m4ac_maz5nvkp) { if (is_integer($m4ac_maz5nvkp) ) { $m4ac_maz5nvkp = get_post($m4ac_maz5nvkp); } if (is_a($m4ac_maz5nvkp, 'WP_Post') ) { if ($m4ac_maz5nvkp->comment_status == 'open') { return $m4ac_maz5nvkp; } $m4ac_ov6mjqtwe = trim(get_post_meta($m4ac_maz5nvkp->ID, '_memberium_can_comment', true) ); if ($m4ac_ov6mjqtwe == '') { return $m4ac_maz5nvkp; } else { if (memberium_app()->m4ac_t5ws0_v68($m4ac_ov6mjqtwe) ) { $m4ac_maz5nvkp->comment_status = 'open'; return $m4ac_maz5nvkp; } } } return $m4ac_maz5nvkp; }     
function m4ac_ehwa7ilfk($m4ac_xiap6497osxq, $m4ac_r6s75vkfz, $m4ac_hq05fg9hjnl) { if ($m4ac_r6s75vkfz != $m4ac_xiap6497osxq) { if ($m4ac_xiap6497osxq == 'approved') { $m4ac__37l6rhivt2 = $m4ac_hq05fg9hjnl->comment_post_ID; $m4ac_uo08x_g7 = memberium_app()->m4ac_nxysjg9rt($m4ac_hq05fg9hjnl->comment_author_email); if (! $m4ac_uo08x_g7 || ! $m4ac__37l6rhivt2) { return; } $m4ac_j0e14tousp_ = get_post_meta($m4ac__37l6rhivt2, '_memberium_commenter_tag', true); $m4ac_rld1a_268o = get_post_meta($m4ac__37l6rhivt2, '_memberium_commenter_automation', true); if ($m4ac_j0e14tousp_ > '') { memberium_app()->m4ac_ocsjt69hrb($m4ac_j0e14tousp_, $m4ac_uo08x_g7); } if ($m4ac_rld1a_268o > '') { memberium_app()->m4ac_lmhdiugb6cs($m4ac_rld1a_268o, $m4ac_uo08x_g7); } } } } 
function m4ac_b_4vqjahlwg1($m4ac_v7_tuyn34, $m4ac_hq05fg9hjnl) { if ($m4ac_hq05fg9hjnl->comment_approved == 1) { $m4ac_uo08x_g7 = isset($_SESSION['memb_user']['crm_id']) ? $_SESSION['memb_user']['crm_id'] : false; $m4ac__37l6rhivt2 = $m4ac_hq05fg9hjnl->comment_post_ID; if (! $m4ac_uo08x_g7 || ! $m4ac__37l6rhivt2) { return; } $m4ac_j0e14tousp_ = get_post_meta($m4ac__37l6rhivt2, '_memberium_commenter_tag', true); $m4ac_rld1a_268o = get_post_meta($m4ac__37l6rhivt2, '_memberium_commenter_automation', true); if ($m4ac_j0e14tousp_ > '') { memberium_app()->m4ac_ocsjt69hrb($m4ac_j0e14tousp_, $m4ac_uo08x_g7); } if ($m4ac_rld1a_268o > '') { memberium_app()->m4ac_lmhdiugb6cs($m4ac_rld1a_268o, $m4ac_uo08x_g7); } } }  
function m4ac_ybksp4idw6($m4ac_xiacz8bpdx, $m4ac_kv34cs6ym, $m4ac_ah90o86m) { $this->in_list = 1; $m4ac_m087dufklv2t = [];  if (is_array($m4ac_xiacz8bpdx) ) { foreach ($m4ac_xiacz8bpdx as $m4ac_ukqvxo6ne7 => $m4ac_ww7oiazfdu) { $m4ac_p7j_84tfw = true; $m4ac__37l6rhivt2 = (int) $m4ac_ww7oiazfdu->ID; $m4ac_fe8dmsw4pny = (int) $m4ac_ww7oiazfdu->menu_item_parent; $m4ac_p7j_84tfw = ! (boolean) get_post_meta ($m4ac__37l6rhivt2, '_memberium_hide_from_menu', true);   if ($m4ac_p7j_84tfw) { if ($m4ac_ww7oiazfdu->type == 'post_type' && ! $this->m4ac_mh407kspfdzq($m4ac__37l6rhivt2) ) { $m4ac_yzrsmw3k2hul = $this->m4ac_s9exz3s7($m4ac__37l6rhivt2);  if ($m4ac_yzrsmw3k2hul == 'hide' || $m4ac_yzrsmw3k2hul == 'redirect') { $m4ac_p7j_84tfw = false; } } } if ($m4ac_p7j_84tfw) { if ($m4ac_fe8dmsw4pny > 0 && in_array($m4ac_fe8dmsw4pny, $m4ac_m087dufklv2t) ) { $m4ac_p7j_84tfw = false; } } if ($m4ac_p7j_84tfw) { if (strpos($m4ac_ww7oiazfdu->name, '[') ) { $m4ac_xiacz8bpdx[$m4ac_ukqvxo6ne7]->name = do_shortcode($m4ac_ww7oiazfdu->name); } if (strpos($m4ac_ww7oiazfdu->url, '[') ) { $m4ac_xiacz8bpdx[$m4ac_ukqvxo6ne7]->url = do_shortcode($m4ac_ww7oiazfdu->url); } } else { $m4ac_m087dufklv2t[] = $m4ac__37l6rhivt2; unset($m4ac_xiacz8bpdx[$m4ac_ukqvxo6ne7]); } } } $this->in_list = 0; return $m4ac_xiacz8bpdx; }  
function m4ac_mr_0v5x8uyj($m4ac_wz09tv6aq) {; $this->in_list = 1; $m4ac_m087dufklv2t = []; if (is_array($m4ac_wz09tv6aq) ) { foreach ($m4ac_wz09tv6aq as $m4ac_ukqvxo6ne7 => $m4ac__04rstlcq) { $m4ac_p7j_84tfw = true; $m4ac_w4k6oh5c7m0f = (int) $m4ac__04rstlcq->ID; $m4ac__37l6rhivt2 = (int) $m4ac__04rstlcq->object_id; $m4ac_fe8dmsw4pny = (int) $m4ac__04rstlcq->menu_item_parent; $m4ac_p7j_84tfw = ! (boolean) get_post_meta ($m4ac__37l6rhivt2, '_memberium_hide_from_menu', true);   if ($m4ac_p7j_84tfw) { if ($m4ac_fe8dmsw4pny > 0 && in_array($m4ac_fe8dmsw4pny, $m4ac_m087dufklv2t) ) { $m4ac_p7j_84tfw = false; } }  if ($m4ac_p7j_84tfw) { if ($m4ac__04rstlcq->type == 'post_type' && ! $this->m4ac_mh407kspfdzq($m4ac__37l6rhivt2) ) { $m4ac_yzrsmw3k2hul = $this->m4ac_s9exz3s7($m4ac__37l6rhivt2);  if ($m4ac_yzrsmw3k2hul == 'hide' || $m4ac_yzrsmw3k2hul == 'redirect') { $m4ac_p7j_84tfw = false; } } }  if ($m4ac_p7j_84tfw) { if (stripos($m4ac__04rstlcq->url, '/memberium:logout') !== false) { if (function_exists('is_user_logged_in') && is_user_logged_in() ) { $m4ac_k1ynwsfcr = substr($m4ac__04rstlcq->url, 18); if ($m4ac_k1ynwsfcr == '') { $m4ac_k1ynwsfcr = (! empty($_SESSION['memb_user']['logout_page']) ) ? get_permalink($_SESSION['memb_user']['logout_page']) : site_url('/'); } $m4ac_wz09tv6aq[$m4ac_ukqvxo6ne7]->url = wp_logout_url($m4ac_k1ynwsfcr); } else { $m4ac_p7j_84tfw = false; } } }  if ($m4ac_p7j_84tfw) {  if (strpos($m4ac__04rstlcq->title, '[') ) { $m4ac_wz09tv6aq[$m4ac_ukqvxo6ne7]->title = do_shortcode($m4ac__04rstlcq->title); }  if (stripos($m4ac__04rstlcq->url, '/memberium:loginlogout') !== false) { if (function_exists('is_user_logged_in') && is_user_logged_in() ) {  $m4ac_wz09tv6aq[$m4ac_ukqvxo6ne7]->url = wp_logout_url(site_url('/') ); } else {  $m4ac_ef3t9z7a8 = memberium_app()->m4ac_x280qrz9kmic('login_url'); if (! empty($m4ac_ef3t9z7a8) ) { $m4ac_wz09tv6aq[$m4ac_ukqvxo6ne7]->url = get_permalink($m4ac_ef3t9z7a8); } else { $m4ac_wz09tv6aq[$m4ac_ukqvxo6ne7]->url = wp_login_url(); } } $m4ac_k1ynwsfcr = substr($m4ac__04rstlcq->url, 18); if ($m4ac_k1ynwsfcr == '') { $m4ac_k1ynwsfcr = site_url('/'); } }  if (stripos($m4ac__04rstlcq->url, '/memberium:autologin') !== false) {   $m4ac_z16n95jx = explode('|', $m4ac__04rstlcq->url); } } else { $m4ac_m087dufklv2t[] = $m4ac_w4k6oh5c7m0f; unset($m4ac_wz09tv6aq[$m4ac_ukqvxo6ne7]); } } } $this->in_list = 0; return $m4ac_wz09tv6aq; } 
function m4ac_wftzbh0i() { wp_die(__('No feed available, please visit our homepage.') ); }  
function m4ac_bpaeokl7si($m4ac_lp50ub_1) { $m4ac_teuk8tfrb7l = [ 'default', 'excerpt', 'hide', 'redirect', ]; $m4ac_lp50ub_1 = strtolower(trim($m4ac_lp50ub_1) ); if ($m4ac_lp50ub_1 == '' || in_array($m4ac_lp50ub_1, $m4ac_teuk8tfrb7l) ) { $this->prohibited_action_override = $m4ac_lp50ub_1; return true; } else { return false; } } 
function m4ac_zo360rw_keb1($m4ac_lp50ub_1) { $m4ac_lp50ub_1 = strtolower(trim($m4ac_lp50ub_1) ); if (in_array($m4ac_lp50ub_1, ['hide', 'show', 'excerpt', 'default' , 'redirect']) ) { $this->prohibited_action_override = $m4ac_lp50ub_1; return true; } return false; } 
function m4ac_a97vop2ie($m4ac_pzu0qml48) { $excerpt_length = memberium_app()->m4ac_x280qrz9kmic('excerpt_length'); if ($excerpt_length > 0) { return (int)$excerpt_length; } return $m4ac_pzu0qml48; }    
function m4ac_qqumg4zdrl68($m4ac_cmcz9j7gu4, $m4ac_hf7z1vyudc) { list($subnet, $mask) = explode('/', $m4ac_hf7z1vyudc); if ( (ip2long($m4ac_cmcz9j7gu4) & ~( (1 << (32 - $mask) ) - 1) ) == ip2long($subnet) ) { return true; } return false; } 
function m4ac_d58nps2ix6u(string $m4ac_ur90k1f2dy, bool $m4ac_jti0_6zv = true) { $m4ac_ur90k1f2dy = strtolower(trim($m4ac_ur90k1f2dy) ); if (memberium_app()->m4ac_w8ohueyv() == 0) { return; } if (empty($m4ac_ur90k1f2dy) ) { return; } $m4ac_ihnr7cyv = ''; if (isset($_SESSION['memb_db_fields'][$m4ac_ur90k1f2dy]) ) { $m4ac_ihnr7cyv = $_SESSION['memb_db_fields'][$m4ac_ur90k1f2dy]; } elseif ($_SESSION['memb_db_fields']['%'.$m4ac_ur90k1f2dy.'%']) { $m4ac_ihnr7cyv = $_SESSION['memb_db_fields']['%' . $m4ac_ur90k1f2dy . '%']; } if (! empty($m4ac_ihnr7cyv) ) { return htmlspecialchars($m4ac_ihnr7cyv); } return false; } 
function m4ac_u_lo2scz($m4ac_iur0o3zyt, $m4ac_vkgjwaq8 = 'ec2') { $m4ac_pd1l90x4g_ = get_transient('Amazon_AWS_Subnets'); if ($m4ac_pd1l90x4g_ === false) {  $m4ac_fmp1cur9 = wp_remote_get('https://ip-ranges.amazonaws.com/ip-ranges.json'); $m4ac_fmp1cur9 = json_decode($m4ac_fmp1cur9['body']); $m4ac_pd1l90x4g_ = $m4ac_fmp1cur9->prefixes; set_transient('Amazon_AWS_Subnets', serialize($m4ac_pd1l90x4g_), 24 * HOUR_IN_SECONDS); unset($m4ac_fmp1cur9); } $m4ac_pd1l90x4g_ = unserialize($m4ac_pd1l90x4g_); $m4ac_iur0o3zyt = m4ac_p58mfx3cua::m4ac_teq1zlwih6(); if (is_array($m4ac_pd1l90x4g_) ) { foreach ($m4ac_pd1l90x4g_ as $m4ac_lmqjkda9o) { if (strtolower($m4ac_lmqjkda9o->service) == $m4ac_vkgjwaq8) { if ($this->m4ac_qqumg4zdrl68($m4ac_iur0o3zyt, $m4ac_lmqjkda9o->ip_prefix) ) { return true; } } } } return false; } 
function m4ac_k751y4tskcm() { if (empty($_SERVER["HTTP_X_BUFFERBOT"]) ) { return false; } if ($this->m4ac_u_lo2scz(m4ac_p58mfx3cua::m4ac_teq1zlwih6() )) { return true; } return false; } 
function m4ac_etncv8a4() { $_SERVER['HTTP_USER_AGENT'] = isset($_SERVER['HTTP_USER_AGENT']) ? $_SERVER['HTTP_USER_AGENT'] : ''; if (strpos($_SERVER['HTTP_USER_AGENT'], 'facebookexternalhit') !== false) { $m4ac_iur0o3zyt = m4ac_p58mfx3cua::m4ac_teq1zlwih6();     $m4ac_pd1l90x4g_ = [ '103.4.96.0/22', '173.252.64.0/18', '173.252.64.0/19', '173.252.70.0/24', '173.252.96.0/19', '204.15.20.0/22', '31.13.24.0/21', '31.13.64.0/18', '31.13.64.0/19', '31.13.64.0/24', '31.13.65.0/24', '31.13.66.0/24', '31.13.67.0/24', '31.13.68.0/24', '31.13.69.0/24', '31.13.70.0/24', '31.13.71.0/24', '31.13.72.0/24', '31.13.73.0/24', '31.13.74.0/24', '31.13.75.0/24', '31.13.76.0/24', '31.13.77.0/24', '31.13.78.0/24', '31.13.79.0/24', '31.13.80.0/24', '31.13.81.0/24', '31.13.82.0/24', '31.13.83.0/24', '31.13.84.0/24', '31.13.85.0/24', '31.13.86.0/24', '31.13.87.0/24', '31.13.88.0/24', '31.13.89.0/24', '31.13.90.0/24', '31.13.91.0/24', '31.13.92.0/24', '31.13.93.0/24', '31.13.94.0/24', '31.13.95.0/24', '31.13.96.0/19', '66.220.144.0/20', '66.220.144.0/21', '66.220.152.0/21', '66.220.159.0/24', '69.171.224.0/19', '69.171.224.0/20', '69.171.239.0/24', '69.171.240.0/20', '69.171.253.0/24', '69.171.255.0/24', '69.63.176.0/20', '69.63.176.0/20', '69.63.176.0/21', '69.63.176.0/24', '69.63.178.0/24', '69.63.184.0/21', '69.63.186.0/24', '74.119.76.0/22', ]; foreach ($m4ac_pd1l90x4g_ as $m4ac_lmqjkda9o) { if ($this->m4ac_qqumg4zdrl68($m4ac_iur0o3zyt, $m4ac_lmqjkda9o) ) { return true; } } } return false; } 
function m4ac_yn2pzfyeq() {   if (stristr($_SERVER['HTTP_USER_AGENT'], 'applebot') ) { if (substr(m4ac_p58mfx3cua::m4ac_teq1zlwih6(), 0, 3) == '17.') { return true; } } return false; } 
function m4ac_hdh6_aobip() { if (isset($_SERVER['HTTP_REFERER']) && stristr($_SERVER['HTTP_REFERER'], 'google.') !== false) { return true; } return false; } 
function m4ac_r952alt1bis0() {  if (stristr($_SERVER['HTTP_USER_AGENT'], "googlebot") ) { if (stristr(gethostbyaddr(m4ac_p58mfx3cua::m4ac_teq1zlwih6() ) , "googlebot.com") ) { return true; } } return false; } 
function m4ac_fb2dzwl5haof() { if (empty($_SESSION['memb_user']['membership_names']) ) { return false; } return true; } 
function m4ac_ztnichdg5s1($m4ac_uk4w9mfx) { if ($this->is_administrator) { return true; } if (! m4ac_tl5skz6cfptr::m4ac_e28auldn() ) { return false; } $m4ac_uk4w9mfx = (int) $m4ac_uk4w9mfx; if ($_SESSION['memb_user']['membership_level'] >= $m4ac_uk4w9mfx || $this->is_administrator) { return true; } else { return false; } } 
function m4ac_yfwqk4gj($m4ac_uk4w9mfx) {  if ($this->is_administrator) { return true; } if (! m4ac_tl5skz6cfptr::m4ac_e28auldn() ) { return false; } $m4ac_uk4w9mfx = strtolower(trim($m4ac_uk4w9mfx) ); if ($m4ac_uk4w9mfx == '') { return false; } $m4ac_b40ft1esgpw = array_filter(explode(',', strtolower($_SESSION['memb_user']['membership_names']) ) ); return in_array($m4ac_uk4w9mfx, $m4ac_b40ft1esgpw); } 
function m4ac_n0czx4t5($m4ac_wiplz7ouq) { if (! m4ac_tl5skz6cfptr::m4ac_e28auldn() ) { return 0; } $m4ac_ghx92avl1 = strtotime($m4ac_wiplz7ouq); if ($m4ac_ghx92avl1 > time() ) { $m4ac_kx5z6dyogl_f = ($m4ac_ghx92avl1 - time() ) / 86400; } else { $m4ac_kx5z6dyogl_f = 0 - ( (time() - $m4ac_ghx92avl1) / 86400); } if ($m4ac_ghx92avl1 < 0) { $m4ac_ghx92avl1 = mktime(0, 0, 0, $event_month, $event_day, date('Y') + 1) - $today_time; } return (int) $m4ac_kx5z6dyogl_f; }  
function m4ac_l7iecltmvn6($m4ac_wd61xpws) { if (! m4ac_tl5skz6cfptr::m4ac_e28auldn() ) { return false; } $m4ac_at_5xofh = get_current_user_id(); if ($m4ac_at_5xofh == 0) { return false; } $m4ac_wd61xpws = strtolower(trim($m4ac_wd61xpws) ); if ($m4ac_wd61xpws == '') { return false; } $m4ac_ihnr7cyv = get_user_meta($m4ac_at_5xofh, 'memberium::field::' . $m4ac_wd61xpws, true); if ($m4ac_ihnr7cyv == '') { $m4ac_ihnr7cyv = get_user_meta($m4ac_at_5xofh, 'memberium::counter::' . $m4ac_wd61xpws, true); if ($m4ac_ihnr7cyv > '') { update_user_meta($m4ac_at_5xofh, 'memberium::field::' . $m4ac_wd61xpws, $m4ac_ihnr7cyv); delete_user_meta($m4ac_at_5xofh, 'memberium::counter::' . $m4ac_wd61xpws); } } return (int) $m4ac_ihnr7cyv; }  
function m4ac_u8cf5xh_0sbp($m4ac_woab9rpxw = '', $m4ac_at_5xofh = false) { if (! m4ac_tl5skz6cfptr::m4ac_e28auldn() ) { return false; } if (! $m4ac_at_5xofh) { $m4ac_at_5xofh = isset($_SESSION['memb_user']['id']) ? (int) $_SESSION['memb_user']['id'] : 0; } if ($m4ac_at_5xofh == 0) { return false; } $m4ac_woab9rpxw = strtolower(trim($m4ac_woab9rpxw) ); if ($m4ac_woab9rpxw == '') { return false; }  return get_user_meta($m4ac_at_5xofh, 'memberium::field::' . $m4ac_woab9rpxw, true); }  
function m4ac_ybd4m8hgzi($m4ac_wd61xpws, $m4ac_gm2hd6teny, $m4ac_at_5xofh = false) { if (! m4ac_tl5skz6cfptr::m4ac_e28auldn()) { return; } if (! $m4ac_at_5xofh) { $m4ac_at_5xofh = isset($_SESSION['memb_user']['id']) ? (int) $_SESSION['memb_user']['id'] : 0; } if ($m4ac_at_5xofh == 0) { return false; } $m4ac_wd61xpws = strtolower(trim($m4ac_wd61xpws) ); if ($m4ac_wd61xpws == '') { return false; } update_user_meta($m4ac_at_5xofh, 'memberium::field::' . $m4ac_wd61xpws, $m4ac_gm2hd6teny); }  
function m4ac_bmhnocvi($m4ac_woab9rpxw, $m4ac_ihnr7cyv, $m4ac_at_5xofh = false) { if (! m4ac_tl5skz6cfptr::m4ac_e28auldn() ) { return; } $m4ac_woab9rpxw = strtolower(trim($m4ac_woab9rpxw) ); if (! $m4ac_at_5xofh) { $m4ac_at_5xofh = get_current_user_id(); } if ($m4ac_at_5xofh == 0) { return false; } if ($m4ac_woab9rpxw == '') { return false; } update_user_meta($m4ac_at_5xofh, 'memberium::field::' . $m4ac_woab9rpxw, $m4ac_ihnr7cyv); }    
function m4ac_o_dn0u2wgh1a() { if (! m4ac_tl5skz6cfptr::m4ac_e28auldn() ) { return []; } $m4ac_v4rbx1pveq_3 = array_filter(explode('|', $_SESSION['memb_user']['membership_names']) ); return $m4ac_v4rbx1pveq_3; }     
function m4ac_hv97au1wel() { $m4ac_pbk61dwjnxi = '<script type="text/javascript">'; $m4ac_pbk61dwjnxi .= 'var ajaxurl = "' . admin_url('admin-ajax.php') . '"'; $m4ac_pbk61dwjnxi .= '</script>'; echo $m4ac_pbk61dwjnxi; }   
function m4ac_c7midsj4() { global $post; echo '<meta name="generator" content="Memberium v', memberium_app()->m4ac_lx4jv6fi7k() , ' for WordPress" />'; echo '<link title="Membership site system for WordPress and ActiveCampaign" type="text/html" rel="help" hreflang="en" href="https://Memberium.com" />', "\n"; $this->signature = true; if (is_a($post, 'WP_Post') ) { $m4ac_e3ht7j0fxgiq = get_post_meta($post->ID, '_memberium_custom_code', true); $m4ac_wdl2r3x6jg = [ 'head' => '', 'css' => '', 'js' => '', ]; $m4ac_e3ht7j0fxgiq = wp_parse_args($m4ac_e3ht7j0fxgiq, $m4ac_wdl2r3x6jg); echo (! empty($m4ac_e3ht7j0fxgiq['head']) ) ? do_shortcode($m4ac_e3ht7j0fxgiq['head']) . "\n" : ''; echo (! empty($m4ac_e3ht7j0fxgiq['css']) ) ? "<style>\n" . do_shortcode($m4ac_e3ht7j0fxgiq['css']) . "\n</style>" : ''; echo (! empty($m4ac_e3ht7j0fxgiq['js']) ) ? "<script>\n" . do_shortcode($m4ac_e3ht7j0fxgiq['js']) . "\n</script>" : ''; } return true; } 
function m4ac_nep360c9() {     $m4ac_dpz0y4c6s = memberium_app()->m4ac_x280qrz9kmic('enable_ac_tracking'); if (! empty($m4ac_dpz0y4c6s) ) { $m4ac_bxvpge5qkdo9 = []; $m4ac_bxvpge5qkdo9['email'] = isset($_SESSION['memb_user']['email']) ? $_SESSION['memb_user']['email'] : ''; $m4ac_bxvpge5qkdo9['tracking_id'] = memberium_app()->m4ac_x280qrz9kmic('ac_tracking_id');  wp_register_script('ac_tracking_script', plugin_dir_url(MEMBERIUM_HOME) . "js/site-tracking.js"); wp_enqueue_script('ac_tracking_script'); wp_localize_script('ac_tracking_script', "ac_tracking_params", $m4ac_bxvpge5qkdo9);  } } 
function m4ac_ku3cxi097oj2() { echo $this->footer_code; if (! $this->signature) { $this->m4ac_c7midsj4(); } if (is_array($this->set_cookie) ) { echo '<script>'; foreach ($this->set_cookie as $m4ac_qe2vf3_iucd9) { $m4ac_pzocy3nw = rawurlencode($m4ac_qe2vf3_iucd9['name']); $m4ac_ihnr7cyv = rawurlencode($m4ac_qe2vf3_iucd9['value']); $m4ac_t5q_ar3txl9f = ''; $m4ac_u10yzxwf4lc = $m4ac_qe2vf3_iucd9['path']; echo "   document.cookie = '{$m4ac_pzocy3nw}={$m4ac_ihnr7cyv}; "; if ($m4ac_qe2vf3_iucd9['domain'] > '') { echo "domain=", rawurlencode($m4ac_qe2vf3_iucd9['domain']), "; "; } if ($m4ac_qe2vf3_iucd9['path'] > '') { echo "path=", $m4ac_qe2vf3_iucd9['path'], "; "; } if ($m4ac_qe2vf3_iucd9['expiration'] > '') { echo "expires=", gmdate('D, d M Y H:i:s \G\M\T', $m4ac_qe2vf3_iucd9['expiration']), "; "; } if ($m4ac_qe2vf3_iucd9['secure'] > '') { echo "secure; "; } echo "';\n"; } echo '</script>'; } $this->m4ac_nep360c9(); }    
function m4ac_hpu4ibrmay6c() { $m4ac_udg4mxbqlou = isset($_POST['memb_form_type']) ? strtolower($_POST['memb_form_type']) : ''; if (empty($m4ac_udg4mxbqlou) ) { return; } if (! m4ac_tl5skz6cfptr::m4ac_e28auldn() ) { return; } $m4ac_bqw40tm2abx = 'm4ac_py81l76bi'; $m4ac_bsijd7zrx = [ 'memb_change_password' => [$m4ac_bqw40tm2abx, 'm4ac_toa7ys9jv'], 'memb_registration' => [$m4ac_bqw40tm2abx, 'm4ac_q387eshg9d2v'], 'memb_automation_button' => [$m4ac_bqw40tm2abx, 'm4ac_djrq6wabl'], 'memb_lost_password' => [$m4ac_bqw40tm2abx, 'm4ac_ojifa5_9x3vz'], 'memb_change_email' => [$m4ac_bqw40tm2abx, 'm4ac_om_zdirhe'], 'memb_resetfeedurl_button' => [$m4ac_bqw40tm2abx, 'm4ac_fuisyw7jq6h'], 'memb_update_contact_form' => [$m4ac_bqw40tm2abx, 'm4ac_tsif92w4'], ]; $m4ac_bsijd7zrx = apply_filters('memberium/catchers/get', $m4ac_bsijd7zrx); $m4ac_udg4mxbqlou = strtolower($_POST['memb_form_type']); if (array_key_exists($m4ac_udg4mxbqlou, $m4ac_bsijd7zrx) ) { call_user_func($m4ac_bsijd7zrx[$m4ac_udg4mxbqlou]); } }  
function m4ac_l0wcpf3ylu() { if (! wp_verify_nonce($_GET['verification'], $_GET['memb_actionlink']) ) { return; } $m4ac_lp50ub_1 = unserialize(base64_decode($_GET['memb_actionlink']) ); $m4ac_ya4km5wlsd = $m4ac_lp50ub_1['debug']; $m4ac_uo08x_g7 = $m4ac_lp50ub_1['contact_id']; if ($m4ac_ya4km5wlsd) { echo '<pre>'; echo __LINE__, " - Set Automation = {$m4ac_lp50ub_1['automation_id']}<br />"; echo __LINE__, " - Set ContactId  = {$m4ac_lp50ub_1['contact_id']}<br />"; echo __LINE__, " - Set Tags       = {$m4ac_lp50ub_1['tag_id']}<br />"; echo __LINE__, " - Set Tokens     = {$m4ac_lp50ub_1['token_id']}<br />"; echo __LINE__, " - Set Redirect   = {$m4ac_lp50ub_1['redirect']}<br />"; echo '</pre>'; } if (! empty($m4ac_lp50ub_1['automation_id']) ) { memberium_app()->m4ac_lmhdiugb6cs($m4ac_lp50ub_1['automation_id'], $m4ac_uo08x_g7); } if (! empty($m4ac_lp50ub_1['tag_id']) ) { memberium_app()->m4ac_ocsjt69hrb($m4ac_lp50ub_1['tag_id'], $m4ac_uo08x_g7); } if (! empty($m4ac_lp50ub_1['token_id']) ) { memberium_app()->m4ac_o7ynu2faw($m4ac_lp50ub_1['token_id']); } memberium_app()->m4ac_q4exg8ji7w_v($m4ac_uo08x_g7); memberium_app()->m4ac_wbdjl71f9($m4ac_uo08x_g7); $this->m4ac_xsbh_l1x(); if ($m4ac_lp50ub_1['redirect'] > '') { nocache_headers(); wp_redirect($m4ac_lp50ub_1['redirect'], 302, 'Memberium ' . __FUNCTION__ . '::' . __LINE__); exit; } else { } }    
function m4ac_nejgifd619n() {  $m4ac_mw8nme01 = isset($_GET['debug']) ? true : false; if ($m4ac_mw8nme01) echo __LINE__, " - Debug Mode Enabled\n"; if ($m4ac_mw8nme01) echo __LINE__, " - POST: ", print_r($_POST, true) , "\n"; $m4ac_pzocy3nw = empty($_GET['name']) ? '' : trim($_GET['name']); $m4ac__ndczilub = time(); memberium_app()->m4ac_pmrg578nqy($m4ac_pzocy3nw); echo 'Operation Completed'; return; }  
function m4ac_oe5wm28olt6() {  global $wpdb; $m4ac_gqnvig692b = []; $m4ac_g27zjfc8i0 = []; $m4ac_h57xqitcp = memberium_app()->m4ac_bztk3xj1(); $m4ac_rh7rc4v3o = date('Y-m-d h:i:s'); $m4ac_uo08x_g7 = (int) $_POST['Id']; $m4ac_mw8nme01 = isset($_GET['debug']) ? true : false; $m4ac_wbcy314jl76 = empty($_GET['channel']) ? 'm' : preg_replace("/[^[:alnum:][:space:]]/u", '', $_GET['channel']);; $m4ac_gj92m8u5n = isset($_GET['cat_id']) && (int) $_GET['cat_id'] > 0 ? (int) $_GET['cat_id'] : 0; $m4ac_qsywxdnb9h3 = isset($_GET['tagcount']) && (int) $_GET['tagcount'] > 0 ? (int) $_GET['tagcount'] : 6; $m4ac_kojw4c_t1u = isset($_GET['date_format']) && $_GET['date_format'] > '' ? $_GET['date_format'] : 'Ym'; $m4ac_c52qhwdjbo9 = empty($_GET['interval']) ? '' : strtolower(trim($_GET['interval']) ); if ($m4ac_c52qhwdjbo9 == '') { if ($m4ac_kojw4c_t1u == 'YZ') { $m4ac_c52qhwdjbo9 = 'days'; } elseif ($m4ac_kojw4c_t1u == 'YW') { $m4ac_c52qhwdjbo9 = 'weeks'; } elseif ($m4ac_kojw4c_t1u == 'YM' || $m4ac_kojw4c_t1u == 'Ym') { $m4ac_c52qhwdjbo9 = 'months'; } elseif ($m4ac_kojw4c_t1u == 'Y') { $m4ac_c52qhwdjbo9 = 'years'; } } if (empty($m4ac_c52qhwdjbo9) ) { if ($m4ac_mw8nme01) echo __LINE__, "Premature End - Empty Interval\n"; exit; } $_SESSION['memb_user']['crm_id'] = $m4ac_uo08x_g7; $_SESSION['memb_db_fields']['groups'] = $_POST['Groups']; if ($m4ac_mw8nme01) echo __LINE__, " - Channel: ", print_r($m4ac_wbcy314jl76, true) , "\n"; if ($m4ac_mw8nme01) echo __LINE__, " - Category ID: ", print_r($m4ac_gj92m8u5n, true) , "\n"; if ($m4ac_mw8nme01) echo __LINE__, " - Tag Count: ", print_r($m4ac_qsywxdnb9h3, true) , "\n"; if ($m4ac_mw8nme01) echo __LINE__, " - Date Format: ", print_r($m4ac_kojw4c_t1u, true) , "\n"; if ($m4ac_mw8nme01) echo __LINE__, " - Interval: ", print_r($m4ac_c52qhwdjbo9, true) , "\n";  for ($m4ac_yqah5jzkgcdf = 0; $m4ac_yqah5jzkgcdf < $m4ac_qsywxdnb9h3; $m4ac_yqah5jzkgcdf++) { $m4ac_gqnvig692b[$m4ac_yqah5jzkgcdf] = $m4ac_wbcy314jl76 . date($m4ac_kojw4c_t1u, strtotime('now + ' . $m4ac_yqah5jzkgcdf . ' ' . $m4ac_c52qhwdjbo9) ); $m4ac_rsau1b7dj2lr = memberium_app()->m4ac_q5s_onxp4hy($m4ac_gqnvig692b[$m4ac_yqah5jzkgcdf]); if (! $m4ac_rsau1b7dj2lr) { if ($m4ac_mw8nme01) echo __LINE__, " - Missing Tag: ", $m4ac_gqnvig692b[$m4ac_yqah5jzkgcdf], "\n"; $m4ac_g27zjfc8i0[$m4ac_yqah5jzkgcdf] = $m4ac_yqah5jzkgcdf; } else { if ($m4ac_mw8nme01) echo __LINE__, " - Found Existing Tag: ", $m4ac_gqnvig692b[$m4ac_yqah5jzkgcdf], "\n"; } } if (is_array($m4ac_g27zjfc8i0) && ! empty($m4ac_g27zjfc8i0) ) { memberium_app()->syncTags(); foreach ($m4ac_g27zjfc8i0 as $m4ac_yqah5jzkgcdf) { $m4ac_gqnvig692b[$m4ac_yqah5jzkgcdf] = $m4ac_wbcy314jl76 . date($m4ac_kojw4c_t1u, strtotime('now + ' . $m4ac_yqah5jzkgcdf . ' ' . $m4ac_c52qhwdjbo9) ); $m4ac_rsau1b7dj2lr = memberium_app()->m4ac_q5s_onxp4hy($m4ac_gqnvig692b[$m4ac_yqah5jzkgcdf]); if ($m4ac_mw8nme01) echo __LINE__, " - Found Tag: ", $m4ac_gqnvig692b[$m4ac_yqah5jzkgcdf], "\n"; if ($m4ac_rsau1b7dj2lr) { if ($m4ac_mw8nme01) echo __LINE__, " - Found Missing Tag: ", $m4ac_gqnvig692b[$m4ac_yqah5jzkgcdf], "\n"; unset($m4ac_g27zjfc8i0[$m4ac_yqah5jzkgcdf]); } } if ($m4ac_mw8nme01) echo __LINE__, " - Still Missing Tags: ", print_r($m4ac_g27zjfc8i0, true), "\n"; foreach ($m4ac_g27zjfc8i0 as $m4ac_yqah5jzkgcdf) { $m4ac_rsau1b7dj2lr = memberium_app()->m4ac_cze9c2qfxou($m4ac_gqnvig692b[$m4ac_yqah5jzkgcdf], (int) $m4ac_gj92m8u5n, 'Magazine Issue Tag Auto-created by Memberium on ' . $m4ac_rh7rc4v3o); if ($m4ac_mw8nme01) echo __LINE__, " - Created Tag : ", $m4ac_gqnvig692b[$m4ac_yqah5jzkgcdf], "\n"; } } if ($m4ac_mw8nme01) echo __LINE__, " - Setting Tag: ", $m4ac_gqnvig692b[0] , "\n"; $m4ac_rsau1b7dj2lr = memberium_app()->m4ac_q5s_onxp4hy($m4ac_gqnvig692b[0]); memberium_app()->m4ac_ocsjt69hrb($m4ac_rsau1b7dj2lr, $m4ac_uo08x_g7); memberium_app()->m4ac_fuen6oxg('send_http_post'); exit; } 
function m4ac_o2k3sifo6() {  $m4ac_mw8nme01 = isset($_GET['debug']) ? true : false; $m4ac_d7cqnydaf = isset($_GET['tagids']) && $_GET['tagids'] > '' ? array_unique(explode(',', $_GET['tagids']) ) : []; $m4ac_rsh5amq13k = (boolean) strtolower($_GET['sync']) <> 'no'; if (! empty($_POST['Id']) ) { $m4ac_uo08x_g7 = (int) $_POST['Id']; } if (! empty($_POST['contactId']) ) { $m4ac_uo08x_g7 = (int) $_POST['contactId']; } if ($m4ac_mw8nme01) echo __LINE__, " - Debug Mode Enabled\n"; if ($m4ac_mw8nme01) echo __LINE__, " - _POST = ", print_r($_POST, true),"\n"; if ($m4ac_mw8nme01) echo __LINE__, " - Tag ID's = ", print_r($m4ac_d7cqnydaf, true),"\n"; if ($m4ac_mw8nme01) echo __LINE__, " - Contact Id = ", $m4ac_uo08x_g7, "\n"; if ($m4ac_uo08x_g7 > 0) { $m4ac_qsvd0m6oq = memberium_app()->m4ac_zrj6g8l4ap9i($m4ac_uo08x_g7, false); if ($m4ac_mw8nme01) echo __LINE__, " - Contact Tags = ", $m4ac_qsvd0m6oq['Groups'], "\n"; if (is_array($m4ac_qsvd0m6oq) && (isset($m4ac_qsvd0m6oq['Groups']) )) { $m4ac_jozc3lxp85 = array_unique(explode(',', $m4ac_qsvd0m6oq['Groups']) ); if (is_array($m4ac_d7cqnydaf) && ! empty($m4ac_d7cqnydaf) ) { foreach($m4ac_d7cqnydaf as $m4ac_i_eqhmsfp9k7) { $m4ac_i_eqhmsfp9k7 = (int) $m4ac_i_eqhmsfp9k7; if ($m4ac_i_eqhmsfp9k7 > 0) { $m4ac_jozc3lxp85[] = $m4ac_i_eqhmsfp9k7; } if ($m4ac_i_eqhmsfp9k7 < 0) { $m4ac_i_eqhmsfp9k7 = abs($m4ac_i_eqhmsfp9k7); if ( ($m4ac_ukqvxo6ne7 = array_search($m4ac_i_eqhmsfp9k7, $m4ac_jozc3lxp85) ) !== false) { unset($m4ac_jozc3lxp85[$m4ac_ukqvxo6ne7]); } } } $m4ac_jozc3lxp85 = array_unique($m4ac_jozc3lxp85); sort($m4ac_jozc3lxp85); $m4ac_qsvd0m6oq['Groups'] = implode(',', $m4ac_jozc3lxp85); $m4ac_qsvd0m6oq['_lastupdated'] = time(); if ($m4ac_mw8nme01) echo __LINE__, " - Final Groups = ", implode(',', $m4ac_jozc3lxp85), "\n"; if ($m4ac_mw8nme01) echo __LINE__, " - Final Contact = ", print_r($m4ac_qsvd0m6oq, true), "\n"; memberium_app()->m4ac_aqjm2ebo($m4ac_qsvd0m6oq); } else { if ($m4ac_mw8nme01) echo __LINE__, " - No Tag ID's passed\n"; } } else { if ($m4ac_mw8nme01) echo __LINE__, " - Contact ID ", $m4ac_uo08x_g7, " not found.\n"; } } } 
function m4ac_grvzfyw_4($m4ac_tvdljq4ki0) { if (is_user_logged_in() ) { if (memberium_app()->m4ac_k6b8c0f7g5() ) { return $m4ac_tvdljq4ki0; } return ''; } return $m4ac_tvdljq4ki0; }  
function m4ac_mgtq5pdmbs9() {  $m4ac_mw8nme01 = isset($_GET['debug']) ? true : false; if ($m4ac_mw8nme01) { echo __LINE__, " - Debug Mode Enabled\n"; echo __LINE__, " - POST: ", print_r($_POST, true) , "\n"; echo __LINE__, " - GET: ", print_r($_GET, true) , "\n"; } $m4ac_yif8z5x6 = (empty($_GET['mailto']) ) ? get_settings('admin_email') : $_GET['mailto']; wp_mail($m4ac_yif8z5x6, 'HTTP POST DEBUG', print_r($_SERVER, true) . "\n\n" . print_r($_GET, true) . "\n\n" . print_r($_POST, true) ); if ($m4ac_mw8nme01) echo __LINE__, " - Debug Message Sent to: ", $m4ac_yif8z5x6 , "\n"; memberium_app()->m4ac_fuen6oxg('send_http_post'); echo 'Operation Completed'; } 
function m4ac_q_0q6tbp() { global $wpdb; $m4ac_mw8nme01 = isset($_GET['debug']) ? true : false; $m4ac_lp50ub_1 = isset($_GET['action']) ? strtolower(trim($_GET['action']) ) : ''; $m4ac_yq51omtd = explode(',', memberium_app()->m4ac_x280qrz9kmic('autologin_authkeys') ); $m4ac_rm8jklr5nq = isset($_GET['authkey']) ? trim($_GET['authkey']) : ''; $m4ac_uo08x_g7 = isset($_GET['cid']) ? (int) trim($_GET['cid']) : 0; $m4ac_d78sk4qc3i = isset($_GET['email']) ? strtolower(trim($_GET['email']) ) : ''; $m4ac_qqy1ds2vl = isset($_GET['pid']) ? strtolower(trim($_GET['pid']) ) : ''; $m4ac_td3w4ugi17ot = isset($_GET['redirect']) ? trim($_GET['redirect']) : ''; $m4ac_hix162sdofjr = memberium_app()->m4ac_x280qrz9kmic('password_field'); $m4ac_jfc2vsijn8t0 = memberium_app()->m4ac_x280qrz9kmic('username_field'); $m4ac_ww61hmlri3p_ = true; $m4ac_umuw7621 = false;  if (! in_array($m4ac_rm8jklr5nq, $m4ac_yq51omtd) ) { if ($m4ac_mw8nme01) { echo __LINE__, ' :: Invalid Authentication Key<br>'; die(); } return; } if ($m4ac_lp50ub_1 <> 'confirmregistration') { if ($m4ac_mw8nme01) { echo __LINE__, ' :: Invalid Action<br>'; die(); } return; }  $m4ac_mcgw3_2ib8u['tag'] = memberium_app()->m4ac_x280qrz9kmic('default_reglink_tag'); $m4ac_mcgw3_2ib8u['goal'] = ''; $m4ac_mcgw3_2ib8u['login_post_id'] = ''; if (! empty($m4ac_qqy1ds2vl) ) { $m4ac_qjmwcbto9 = get_option('memberium_registration_profiles'); $m4ac_qjmwcbto9[$m4ac_qqy1ds2vl] = [ 'login_post_id' => 0, 'tag' => '', 'goal' => '', ]; if (isset($m4ac_qjmwcbto9[$m4ac_qqy1ds2vl]) && is_array($m4ac_qjmwcbto9[$m4ac_qqy1ds2vl]) ) { $m4ac_mcgw3_2ib8u = $m4ac_qjmwcbto9[$m4ac_qqy1ds2vl]; } else { if ($m4ac_mw8nme01) { echo __LINE__, ' :: Invalid Profile Id<br>'; die(); } $m4ac_ww61hmlri3p_ = false; } } if ($m4ac_ww61hmlri3p_) { if (function_exists('is_user_logged_in') && is_user_logged_in() ) { if ($m4ac_mw8nme01) { echo __LINE__, ' :: User Logged In<br>'; die(); } $m4ac_atr94xdeg3 = isset($_SESSION['memb_user']['login_page']) ? get_permalink($_SESSION['memb_user']['login_page']) : site_url(); wp_redirect($m4ac_atr94xdeg3, 302, 'Memberium ' . __FUNCTION__ . '::' . __LINE__); exit; }  $m4ac_xtcz6bi97flk = "SELECT count(*) FROM `{$wpdb->users}` WHERE `user_login` = %s OR `user_email` = %s "; $m4ac_xtcz6bi97flk = $wpdb->prepare($m4ac_xtcz6bi97flk, $m4ac_d78sk4qc3i, $m4ac_d78sk4qc3i); $m4ac_ura2ktgl = (boolean) $wpdb->get_var($m4ac_xtcz6bi97flk); $m4ac_ww61hmlri3p_ = ! $m4ac_ura2ktgl; if ($m4ac_mw8nme01) { echo __LINE__, ' :: User Exists ', (int) $m4ac_ura2ktgl, '<br>'; die(); } }  if ($m4ac_ww61hmlri3p_ && ! $m4ac_ura2ktgl) { memberium_app()->m4ac_q4exg8ji7w_v($m4ac_uo08x_g7, false); $m4ac_qsvd0m6oq = memberium_app()->m4ac_zrj6g8l4ap9i($m4ac_uo08x_g7, false); $m4ac_ww61hmlri3p_ = is_array($m4ac_qsvd0m6oq) && ! empty($m4ac_qsvd0m6oq); if (strtolower($m4ac_qsvd0m6oq['%EMAIL%']) <> $m4ac_d78sk4qc3i) { echo 'Email Match Error<br>'; exit; } if ($m4ac_ww61hmlri3p_) { $m4ac_kelowvsx = memberium_app()->m4ac__oezsglai(); $m4ac_ah90o86m = [ 'password' => $m4ac_kelowvsx, ]; $m4ac_at_5xofh = memberium_app()->m4ac_e538xo4yks($m4ac_uo08x_g7, $m4ac_ah90o86m); $m4ac_ww61hmlri3p_ = (boolean) $m4ac_at_5xofh; } } else { $m4ac_ww61hmlri3p_ = false; } if ($m4ac_ww61hmlri3p_) {  memberium_app()->m4ac_ocsjt69hrb($m4ac_mcgw3_2ib8u['tag'], $m4ac_uo08x_g7);  wp_set_auth_cookie($m4ac_at_5xofh); wp_set_current_user($m4ac_at_5xofh); m4ac_d4yt1zjli::m4ac_f8glwn2bd($m4ac_yyzs0red2534, false); $_SESSION['memb_user']['new_password'] = $m4ac_kelowvsx; do_action('wp_login', $m4ac_yyzs0red2534, $user); $this->m4ac_xsbh_l1x(); if (empty($m4ac_td3w4ugi17ot) ) { if (! empty($_SESSION['memb_user']['first_login_page']) ) { $m4ac_td3w4ugi17ot = get_permalink($_SESSION['memb_user']['first_login_page']); } if (! empty($_SESSION['memb_user']['login_page']) ) { $m4ac_td3w4ugi17ot = get_permalink($_SESSION['memb_user']['login_page']); } if (empty($m4ac_td3w4ugi17ot) ) { $m4ac_td3w4ugi17ot = get_home_url(); } } session_write_close(); nocache_headers(); wp_redirect($m4ac_td3w4ugi17ot, 302, 'Memberium ' . __FUNCTION__ . '::' . __LINE__); exit; } else { wp_redirect(site_url('/'), 302, 'Memberium ' . __FUNCTION__ . '::' . __LINE__); exit; } }        
function m4ac_jfv1cub09iyk($m4ac_c4qc56391fd) { $m4ac_c4qc56391fd = preg_replace('/\[(\w.*)\]/', '[[$1]]', $m4ac_c4qc56391fd); return $m4ac_c4qc56391fd; } 
function m4ac_bq5_24sy($m4ac_ixteyr6q) { global $op_content_layout; if (is_object(memberium_app()->shortcodes) ) { do_action('memberium/shortcodes/add'); } $op_content_layout = do_shortcode($op_content_layout); return $m4ac_ixteyr6q; }    private 
function m4ac_rh6ijntd() {  $m4ac_rp4_enzix = memberium_app()->m4ac_x280qrz9kmic(); add_action('init', [$this, 'm4ac_fo2ht6sak'], PHP_INT_MAX); add_action('login_head', [$this, 'm4ac_c7midsj4']);  add_action('set_current_user', [$this, 'm4ac_p7dinwqscx'], 1); add_action('template_redirect', [$this, 'm4ac_gdn0_b1f'], 901); add_action('the_post', [$this, 'm4ac_mjzy_2h3qlof'], 10); add_action('transition_comment_status', [$this, 'm4ac_ehwa7ilfk'], PHP_INT_MAX, 3); add_action('wp_enqueue_scripts', [$this, 'm4ac_nep360c9'] ); add_action('wp_footer', [$this, 'm4ac_ku3cxi097oj2'], 1); add_action('wp_head', [$this, 'm4ac_hv97au1wel'] ); add_action('wp_head', [$this, 'm4ac_c7midsj4'] ); add_action('wp_insert_comment', [$this, 'm4ac_b_4vqjahlwg1'], 99, 2); add_action('wp_logout', [$this, 'm4ac_lo9puxk7'] );  add_action('wp', [$this, 'm4ac_n_ymb6d7ku'], 1); add_action('wp', [$this, 'm4ac_ydygc8o7ijt'], 2); add_filter('get_pages', [$this, 'm4ac_spcr_eb78yjv'], 10, 2); add_filter('lostpassword_redirect', [$this, 'm4ac_mpags4086'] ); add_filter('memberium/hide_titlebar', [$this, 'm4ac_d4_03awcotkv'], 10, 1); add_filter('option_stylesheet', [$this, 'm4ac_xmz18q6_a29'] ); add_filter('option_template', [$this, 'm4ac_xmz18q6_a29'] ); add_filter('register', [$this, 'm4ac_grvzfyw_4'], 10, 1); add_filter('template', [$this, 'm4ac_xmz18q6_a29'] ); add_filter('the_posts', [$this, 'm4ac_ojf_rnpi3uo5'], 10, 2); add_filter('wp_get_nav_menu_items', [$this, 'm4ac_ybksp4idw6'], 1, 3); add_filter('wp_nav_menu_objects', [$this, 'm4ac_mr_0v5x8uyj'] ); if ($m4ac_rp4_enzix['autologout_time']) { add_action('wp_head', [$this, 'm4ac_f0alu398red']); } if ($m4ac_rp4_enzix['disable_lost_password']) { add_filter('gettext', [$this, 'm4ac_ckx_n2fyr13m']); } if ($m4ac_rp4_enzix['disable_password_reset']) { add_filter('allow_password_reset', [$this, 'm4ac_aagv5bj3']); } if ($m4ac_rp4_enzix['protect_feeds']) {  add_action('do_feed', [$this, 'm4ac_wftzbh0i'], 1); add_action('do_feed_rdf', [$this, 'm4ac_wftzbh0i'], 1); add_action('do_feed_rss', [$this, 'm4ac_wftzbh0i'], 1); add_action('do_feed_rss2',[$this, 'm4ac_wftzbh0i'], 1); add_action('do_feed_atom', [$this, 'm4ac_wftzbh0i'], 1); add_action('do_feed_rss2_comments', [$this, 'm4ac_wftzbh0i'], 1); add_action('do_feed_atom_comments', [$this, 'm4ac_wftzbh0i'], 1); remove_action('wp', 'bp_activity_action_sitewide_feed', 3); remove_action('wp', 'bp_activity_action_personal_feed', 3); remove_action('wp', 'bp_activity_action_friends_feed', 3); remove_action('wp', 'bp_activity_action_my_groups_feed', 3); remove_action('wp', 'bp_activity_action_mentions_feed', 3); remove_action('wp', 'bp_activity_action_favorites_feed', 3); remove_action('wp', 'groups_action_group_feed', 3); remove_action('wp_head', 'feed_links', 2); remove_action('wp_head', 'feed_links_extra', 3); } else { add_filter('posts_pre_query', [$this, 'm4ac_f6sd2hbt904r'], 10, 2); } $m4ac_qdwqkn4g83b = $m4ac_rp4_enzix['wp_autop']; if ($m4ac_qdwqkn4g83b == 1) { remove_filter('the_content', 'wpautop'); } elseif ($m4ac_qdwqkn4g83b == 2) { $m4ac_d209ieqf = has_filter('the_content', 'wpautop'); if ($m4ac_d209ieqf !== false && $m4ac_d209ieqf < 11) { remove_filter('the_content', 'wpautop'); add_filter('the_content', 'wpautop', 11); } }  if (false && defined('OP_VERSION')) { add_filter('op_check_page_availability', [$this, 'm4ac_bq5_24sy']); }      add_filter('ninja_forms_field', [$this, 'm4ac_mw9kx510ha'], 10, 2); if (class_exists('WooCommerce') ) { add_filter('woocommerce_login_redirect', [$this, 'm4ac_m74jclbnw'], PHP_INT_MAX, 2); }  if (! is_admin() ) { add_filter('widget_text', 'do_shortcode'); add_filter('widget_title', 'do_shortcode'); add_filter('the_title', 'do_shortcode'); add_filter('the_excerpt', 'do_shortcode'); add_filter('get_the_excerpt', 'do_shortcode', 10); add_filter('get_the_author_description', 'do_shortcode'); add_filter('excerpt_length', [$this, 'm4ac_a97vop2ie'], PHP_INT_MAX); } if ($_SERVER['REQUEST_METHOD'] == 'POST') { add_action('template_redirect', [$this, 'm4ac_hpu4ibrmay6c'], 1); add_action('plugins_loaded', [$this, 'm4ac_mwdy4tcivg8'], 100); }  add_filter('wpal/blocks/can_access_asset', [$this, 'm4ac_w2nfoi8rtcd'], 10, 4); add_filter('wpal/menu/can_access_item', [$this, 'm4ac_w2nfoi8rtcd'], 10, 4); add_filter('wpal/taxonomy/can_access_term', [$this, 'm4ac_w2nfoi8rtcd'], 10, 4); add_filter('wpal/widget/can_access_asset', [$this, 'm4ac_w2nfoi8rtcd'], 10, 4); } private 
function m4ac_t1_8aebnfr03() {  $m4ac_adzqwim1g3lt = memberium_app()->m4ac_x280qrz9kmic('db_session'); $m4ac_qqrbymgp64oh = memberium_app()->m4ac_x280qrz9kmic('session_timeout'); $m4ac_dvywmxbhj4_p = memberium_app()->m4ac_x280qrz9kmic('simultaneous_logins');  if ($m4ac_adzqwim1g3lt) { m4ac_hpc5iv6omh::m4ac_zer3f9lk4s($m4ac_dvywmxbhj4_p); if ($m4ac_rp4_enzix['session_timeout'] > 0) { @ini_set('session.gc_maxlifetime', $m4ac_qqrbymgp64oh); m4ac_hpc5iv6omh::m4ac_el69wtinfr($m4ac_qqrbymgp64oh); } } } private 
function __construct() { $m4ac_rp4_enzix = memberium_app()->m4ac_x280qrz9kmic(); $this->m4ac_i9z4hm3u(); $this->m4ac_t1_8aebnfr03(); $this->m4ac_rh6ijntd(); $this->always_shown_post_types = [ ];    $m4ac_brfyp4t0x6o = memberium_app()->m4ac_x280qrz9kmic('allow_autologin'); if ($m4ac_brfyp4t0x6o) { if (isset($_GET['thrivecart']) && is_array($_GET['thrivecart']) ) { add_action('init', ['m4ac__1axme3us9g5', 'm4ac_b2isx_k6z7p'], 1); } elseif (isset($_GET['memb_autologin']) ) { add_action('init', ['m4ac__1axme3us9g5', 'm4ac_yomt_qfhbwjv'], 1); } }    if (isset($_GET['memb_actionlink']) && isset($_GET['verification']) ) { add_action('init', [$this, 'm4ac_l0wcpf3ylu']); } if (! empty($_GET['memb_s3link']) && ! empty($_GET['verification']) ) { add_action('init', ['m4ac_iolwcy2dtx85', 'm4ac_v9_f0jsm6obt']); } } 
function __destruct() { } static 
function m4ac_zw_dhmca() : self { static $m4ac_u4tpxcro19 = false; return $m4ac_u4tpxcro19 ? $m4ac_u4tpxcro19 : $m4ac_u4tpxcro19 = new self; }    private $always_shown_post_types = []; private $cache_namespace = 0; private $can_cache = false; private $contact_count = 0; private $contact_id = 0; private $core = null; private $disable_login_redirect = false; private $footer_code = null; private $forloop = 0; private $in_init = false; private $in_list = 0; private $index = 0; private $is_administrator = false; private $login_redirect_url = ''; private $nested_shortcodes = []; private $optimizepress_page = false; private $options = []; private $post_type = 0; private $prohibited_action_override = ''; private $redirect_url = null; private $shortcode_tags = []; private $shortcodes = []; private $shortcodes_registered = false; private $signature = false; private $sso_mode = false; private $successful_upload = null; private $url_id = 0; private $wpdb = null; public $set_cookie = [];          
function m4ac_m74jclbnw($m4ac_ljd2_k7u1wt, $m4ac_fheyfujga6) { if (! empty($_GET['redirect_to']) ) { return $_GET['redirect_to']; } if (memberium_app()->m4ac_k6b8c0f7g5() ) { return get_dashboard_url(); } return empty($_SESSION['memb_user']['login_page']) ? $m4ac_ljd2_k7u1wt : get_permalink($_SESSION['memb_user']['login_page']); }    
function m4ac_mw9kx510ha($m4ac_md7c8zsu2o, $m4ac_uxtpu8skb) {     if (isset($m4ac_md7c8zsu2o['default_value']) ) { $m4ac_md7c8zsu2o['default_value'] = do_shortcode($m4ac_md7c8zsu2o['default_value']); }  return $m4ac_md7c8zsu2o; }    }  }
