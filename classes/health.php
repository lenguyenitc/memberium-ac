<?php
/**
 * Copyright (c) 2018-2021 David J Bullock
 * Web Power and Light
 */

 if (class_exists('m4ac_c6rqypiacz4') ) { final 
class m4ac_zl6pbja3 { static 
function m4ac_mdlvfgoh() { self::$m4ac_at_5xofh = get_current_user_id(); self::m4ac_vejo65mr2t(); self::m4ac_hdxqjv2zm_gf(); self::m4ac_xyg2m0oj(); self::m4ac_nt3lxa2gye();  self::m4ac_vlvzaig4nfx(); self::m4ac_uykbe_4pf(); self::m4ac_r07gdbyaj(); self::m4ac_pl5g7zkfp6(); self::m4ac_vqslw9dzp8(); self::m4ac_ogl231e84(); self::m4ac_g4c81mb_hn(); self::m4ac_pk8s0e9b(); self::m4ac_kjxumaihpe();  self::m4ac_jbfegy36n(); self::m4ac_i19wegmz(); self::m4ac_n3mbjf9_1g(); self::m4ac_bybu3ievwqxp(); self::m4ac_lqa15v8dlxo6(); } private static 
function m4ac_vejo65mr2t() { } private static 
function m4ac_hdxqjv2zm_gf() { if (defined('KINSTAMU_VERSION') ) { $m4ac_ukqvxo6ne7 = 'kinsta'; if (! get_user_meta(self::$m4ac_at_5xofh, "memberium_ignore_notice_{$m4ac_ukqvxo6ne7}", true) ) { $m4ac_tvdljq4ki0 = m4ac_s126v0fexga::m4ac_edy9vx5gzpc($m4ac_ukqvxo6ne7); $m4ac_eohq7wvlb0i = 'notice notice-error'; $m4ac_oemjasi0tp = '<h3>Kinsta Hosting</h3>' . "<p>Some sites may experience issues with Kinsta's server-level caching which may include displaying content to users that should otherwise not be displayed. " . "If this behavior is seen, you can reach out and contact the Kinsta support team and request that they enable 'Removing cookies from cached responses' in their NGINX configuration.</p>" . "<div><p><a class='button-primary' href='{$m4ac_tvdljq4ki0}'>Stop Reminding Me</a></p></div>"; echo "<div class='{$m4ac_eohq7wvlb0i} is-dismissible'>{$m4ac_oemjasi0tp}</div>"; } } } private static 
function m4ac_lqa15v8dlxo6() { if (m4ac_tl5skz6cfptr::m4ac_efe5yorv('payf') ) { $m4ac_tvdljq4ki0 = '<strong><a href="https://memberium.com/members/" target="_blank">https://memberium.com/members/</a></strong>'; $m4ac_oemjasi0tp = '<h3>There\'s been a failed payment with your Memberium account.</h3>'; $m4ac_oemjasi0tp .= "<p>To make sure your membership site or course stays up and running, please have the primary account holder log in to {$m4ac_tvdljq4ki0} and update a new card.</p>"; $m4ac_oemjasi0tp .= '<p>Otherwise, you risk having your Memberium site shut off due to non-payment.</p>'; $m4ac_oemjasi0tp .= '<p>If you need any help, please email <a href="mailto:support@memberium.com" target="_blank">support@memberium.com</a> for assistance.</p>'; $m4ac_oemjasi0tp .= '<p><form method="post" target="_blank" action="https://memberium.com/members/"><input type="submit" value="Update Your Memberium Account Here"></form></p>'; $m4ac_eohq7wvlb0i = 'notice notice-error'; echo "<div class='{$m4ac_eohq7wvlb0i}'>{$m4ac_oemjasi0tp}</div>"; } } private static 
function m4ac_xyg2m0oj() { $m4ac_lhsv2bcj94 = get_option('default_role', true); $m4ac_fvwzlkf8hjxc = get_role($m4ac_lhsv2bcj94)->capabilities; $m4ac_wfmcts5op = false; $m4ac_vmkua7q3d2vx = [ 'activate_plugins', 'customize', 'edit_others_pages', 'edit_others_posts', 'edit_pages', 'manage_options', 'moderate_comments', 'promote_users', 'switch_themes', 'update_plugins', ]; foreach($m4ac_vmkua7q3d2vx as $m4ac_c169cy8zn) { if (! empty($m4ac_fvwzlkf8hjxc[$m4ac_c169cy8zn]) ) { $m4ac_wfmcts5op = true; break; } } if ($m4ac_wfmcts5op) { $message = '<h3>Default Role Problem</h3>'; $message .= "<p>Your default role ({$m4ac_lhsv2bcj94}) for new users is set too high.  New users will be created with administrative access.   Please review your default user role under Settings->General in WordPress.</p>"; $class = 'notice notice-error'; echo "<div class='{$class}'>{$message}</div>"; } } private static 
function m4ac_jbfegy36n() { $file_version = get_plugin_data( MEMBERIUM_HOME, false, false)['Version']; if ($file_version !== memberium_app()->m4ac_lx4jv6fi7k() ) { $message = '<h3>Plugin Configuration Issue</h3>'; $message .= '<p>The version number constant does not match the plugin data block.</p>'; $class = 'notice notice-error'; echo "<div class='{$class}'>{$message}</div>"; } } private static 
function m4ac_o9op8z6fnj0e() { $m4ac_m_a0fron9m = get_option('cron', [] ); $m4ac_eh4salybc = [ 'memberium_license_check' => 1, 'memberium_maintenance' => 1, 'memberium_maintenance12' => 1, ]; foreach($m4ac_m_a0fron9m as $m4ac_egl6dkai => $m4ac_y2mw1xc6rq) { if (is_array($m4ac_y2mw1xc6rq) ) { foreach($m4ac_y2mw1xc6rq as $m4ac_uewvask3f0 => $m4ac_fyikrpdqg) { unset($m4ac_eh4salybc[$m4ac_uewvask3f0]); } } } if (! empty($m4ac_eh4salybc) ) { $m4ac_oemjasi0tp = '<h3>Cron Failure</h3>'; $m4ac_oemjasi0tp .= '<p>Memberium has detected that your WordPress maintenance system may not be running scheduled tasks.  This may cause problems getting software updates, renwewing your license, generating member passwords, or other maintenance functions.</p>'; $m4ac_oemjasi0tp .= '<p>The following Memberium cron functions are showing as not being scheduled in the future:</p>'; foreach($m4ac_eh4salybc as $m4ac_egl6dkai => $m4ac_y2mw1xc6rq) { $m4ac_oemjasi0tp .= "<p>{$m4ac_egl6dkai}</p>"; } $m4ac_oemjasi0tp .= 'If this message does not go away after a few page loads, then please contact <a href="https://memberium.com/support/">Memberium support</a> for assistance to further diagnose and fix this issue.</p>'; $m4ac_eohq7wvlb0i = 'notice notice-error'; echo "<div class='{$m4ac_eohq7wvlb0i} is-dismissible'>{$m4ac_oemjasi0tp}</div>"; } } private static 
function m4ac_kjxumaihpe() { $m4ac_ukqvxo6ne7 = 'operating_system';  if (in_array(php_uname('s'), ['Windows NT']) ) { if (! get_user_meta($user_id, "memberium_ignore_notice_{$m4ac_ukqvxo6ne7}") ) { $m4ac_tvdljq4ki0 = m4ac_s126v0fexga::m4ac_edy9vx5gzpc($m4ac_ukqvxo6ne7); $message = '<h3>Operating System</h3>'; $message .= '<p>Memberium has detected that you are running on a Windows NT based web hosting plan.</p><p>We recommend using Linux based hosting for maximum compatibillity, performance, and reliability.</p>'; $message .= '<p style="text-align:right;"><a class="button-primary" href="'. $m4ac_tvdljq4ki0 .'">Hide this Notice</a></p>'; $class = 'notice notice-error'; echo "<div class=\"$class is-dismissible\">$message</div>"; } } } private static 
function m4ac_pl5g7zkfp6() {  if (defined('WP_HTTP_BLOCK_EXTERNAL') && intval(WP_HTTP_BLOCK_EXTERNAL) == 1) { $m4ac_z0y2zjw14p = defined('WP_ACCESSIBLE_HOSTS') ? strtolower(WP_ACCESSIBLE_HOSTS) : ''; $m4ac_hicam8byku = array_filter(explode(',', $m4ac_z0y2zjw14p) ); $m4ac_hicam8byku = array_filter($m4ac_hicam8byku); $m4ac_iwnxpevu = [ 'licenseserver.memberium.com', 'licenseserver.webpowerandlight.com', memberium_app()->m4ac_bztk3xj1() . '.activehosted.com' ]; foreach($m4ac_iwnxpevu as $m4ac_egl6dkai => $m4ac_y2mw1xc6rq) { if (in_array($m4ac_y2mw1xc6rq, $m4ac_hicam8byku) ) { unset($m4ac_iwnxpevu[$m4ac_egl6dkai]); } } if (! empty($m4ac_iwnxpevu) ) { $m4ac_oemjasi0tp = '<h3>External Hosts Blocked</h3>'; $m4ac_oemjasi0tp .= '<p>Memberium has detected that you are blocking access to external hosts, through your wp-config.php file.'; $m4ac_oemjasi0tp .= 'You will either need to remove the <strong>WP_HTTP_BLOCK_EXTERNAL</strong> setting, or add our hosts to the <strong>WP_ACCESSIBLE_HOSTS</strong> setting.'; $m4ac_oemjasi0tp .= 'Leaving this problem unaddressed will cause your plugin to stop working.</p>'; $m4ac_oemjasi0tp .= "<p style='font-family:\"courier new\",monospace;font-size:120%;'>define('WP_ACCESSIBLE_HOSTS', '" . trim($m4ac_z0y2zjw14p . "," . implode(',', $m4ac_iwnxpevu), ',') . "');</p>"; $m4ac_oemjasi0tp .= '<p>If you would like assistance, please contact <a href="https://memberium.com/support/">Memberium Support.</a></p>'; $m4ac_eohq7wvlb0i = 'notice notice-error'; echo "<div class='{$m4ac_eohq7wvlb0i} is-dismissible'>{$m4ac_oemjasi0tp}</div>"; } } } private static 
function m4ac_kh0wgdmrqcat() {   $m4ac_qzcwbodvs1q = false; $m4ac_o3kw2_4u1y = phpversion(); $m4ac_bpf_oblxq = []; $m4ac_upb_275a9 = [ '7.3' => ['active_support' => 'December 6, 2020', 'security_support' => 'December 6, 2021'], '7.2' => ['active_support' => 'November 30, 2019', 'security_support' => 'December 30, 2020'], '7.1' => ['active_support' => 'December 1, 2018', 'security_support' => 'December 1, 2019'], '7.0' => ['active_support' => 'December 3, 2017', 'security_support' => 'December 3, 2018'], '5.6' => ['active_support' => 'December 31, 2016', 'security_support' => 'December 31, 2018'], '5.5' => ['active_support' => 'July 21, 2016', 'security_support' => 'July 21, 2016'], '5.4' => ['active_support' => 'September 3, 2015', 'security_support' => 'September 3, 2015'], '5.3' => ['active_support' => 'August 14, 2014', 'security_support' => 'August 14, 2014'], ]; foreach($m4ac_upb_275a9 as $m4ac_cwimbugn => $m4ac_prgo_5x8ai) { if (version_compare($m4ac_o3kw2_4u1y, $m4ac_cwimbugn, '>=') ) { $m4ac_bpf_oblxq['version'] = $m4ac_cwimbugn; $m4ac_bpf_oblxq = $m4ac_prgo_5x8ai; $m4ac_otx5m3quosj9 = (bool) (time() < strtotime($m4ac_prgo_5x8ai['security_support']) ); $m4ac_gxqag32jfy = (bool) (time() < strtotime($m4ac_prgo_5x8ai['active_support']) ); $m4ac_qzcwbodvs1q = (bool) ($m4ac_otx5m3quosj9 || $bugfix_udpates); break; } } if (! $m4ac_qzcwbodvs1q) { $m4ac_ukqvxo6ne7 = 'php_version_' . $m4ac_o3kw2_4u1y; if (! get_user_meta($user_id, 'memberium_ignore_notice_' . $m4ac_ukqvxo6ne7) ) { $m4ac_eohq7wvlb0i = 'notice notice-warning'; $m4ac_oemjasi0tp = '<h3>Older PHP Version Detected</h3>'; $m4ac_oemjasi0tp .= '<p>Memberium has detected that you are running an older version of PHP (<strong>PHP ' .$m4ac_o3kw2_4u1y . '</strong>).'; $m4ac_oemjasi0tp .= '<p>You can learn more about <a href="https://secure.php.net/supported-versions.php" target="_blank">PHP support here</a></p>'; if (! $m4ac_otx5m3quosj9) { $m4ac_oemjasi0tp .= '<p>Support for this version of PHP was terminated on <strong>' . $m4ac_prgo_5x8ai['security_support'] . '</strong></p>'; $m4ac_oemjasi0tp .= '<p>Upgrading PHP is <em style="font-weight:bold;color:red;">strongly recommended</em> for best performance, security, and compatibility with future Memberium releases.</p>'; } elseif (! $m4ac_gxqag32jfy) { $m4ac_oemjasi0tp .= '<p>Support for bug fixes, performance improvements, and new features was ended for this version of PHP on <strong>' . $m4ac_prgo_5x8ai['active_support'] . '</strong>.  '; $m4ac_oemjasi0tp .= 'This version will continue to get security fixes until <strong>' . $m4ac_prgo_5x8ai['security_support'] . '</strong>.</p>'; $m4ac_oemjasi0tp .= '<p>Upgrading PHP is <strong">recommended</strong> for best performance, security, and compatibility with future Memberium releases.</p>'; } $m4ac_oemjasi0tp .= '<p><strong>To Fix This Issue:</strong></p>'; $m4ac_oemjasi0tp .= '<p>Please contact your web host to see if they support a newer version of PHP.</p>'; if (time() > strtotime($m4ac_prgo_5x8ai['security_support']) ) { $m4ac_eohq7wvlb0i = 'notice notice-error'; } else { $m4ac_eohq7wvlb0i = 'notice notice-warning'; $m4ac_oemjasi0tp .= '<p>If you do not wish to update your site at this time, you can temporarily hide this reminder by clicking the button below.</p>'; $m4ac_oemjasi0tp .= '<div style="text-align:right;"><p><a class="button-primary" href="'. m4ac_s126v0fexga::m4ac_edy9vx5gzpc($m4ac_ukqvxo6ne7) .'">Hide this Notice</a></p></div>'; } echo "<div class='{$m4ac_eohq7wvlb0i} xis-dismissible'>{$m4ac_oemjasi0tp}</div>"; } } }  private static 
function m4ac_ti48l9ota() { if (get_option('users_can_register', false) ) { if (! get_user_meta(self::$m4ac_at_5xofh, 'memberium_ignore_notice_open_registration') ) { $m4ac_oemjasi0tp = '<h3>Open Registration Detected</h3>'; $m4ac_oemjasi0tp .= '<p>Memberium has detected that you have configured WordPress to allow any user to register.  '; $m4ac_oemjasi0tp .= 'Generally for a membership site we recommend you disable this setting, and use yoru CRM to handle new user registrations.</p>'; $m4ac_oemjasi0tp .= '<p>You can change this setting <a href="options-general.php">here</a>, by unchecking "<strong>Anyone can register</strong>".</p>'; $m4ac_oemjasi0tp .= '<p style="text-align:right;"><a class="button-primary" href="'. m4ac_s126v0fexga::m4ac_edy9vx5gzpc('open_registration') .'">Hide this Notice</a></p>'; $m4ac_eohq7wvlb0i = 'notice notice-error'; echo "<div class='{$m4ac_eohq7wvlb0i} is-dismissible'>{$m4ac_oemjasi0tp}</div>"; } } }  private static 
function m4ac_uykbe_4pf() { if (defined('FLYWHEEL_CONFIG_DIR') || defined('FLYWHEEL_DEFAULT_PROTOCOL') || defined('FLYWHEEL_PLUGIN_DIR') ) { if (! get_user_meta(self::$m4ac_at_5xofh, 'memberium_ignore_notice_flywheel_hosting') ) { $m4ac_oemjasi0tp = '<h3>FlyWheel Hosting</h3>'; $m4ac_oemjasi0tp .= '<p>Memberium has detected that your site may be running on FlyWheel WordPress hosting.</p>'; $m4ac_oemjasi0tp .= '<p>This hosting service has caching features which may cause the wrong content to be delivered to your viewers, or for functionality to break.  We recommend reaching out to FlyWheel support and asking them to disable caching for any sensitive URL\'s.  You can also enable development mode for short periods in order to disable all caching.<br /><br />Please contact FlyWheel Support or Memberium support if you have questions or need assistance.</p>'; $m4ac_oemjasi0tp .= '<div style="text-align:right;"><p><a class="button-primary" href="'. m4ac_s126v0fexga::m4ac_edy9vx5gzpc('flywheel_hosting') .'">Hide this Notice</a></p></div>'; $m4ac_eohq7wvlb0i = 'notice notice-warning'; echo "<div class='{$m4ac_eohq7wvlb0i} is-dismissible'>{$m4ac_oemjasi0tp}</div>"; } } } private static 
function m4ac_r07gdbyaj() { if (defined('GD_VIP') && defined('REDIS_SOCKET') ) { if (! get_user_meta(self::$m4ac_at_5xofh, 'memberium_ignore_notice_gd_managed_hosting') ) { $m4ac_oemjasi0tp = '<h3>Incompatible Hosting</h3>'; $m4ac_oemjasi0tp .= '<p>Memberium has detected that your site may be running on GoDaddy Managed WordPress hosting.</p>'; $m4ac_oemjasi0tp .= '<p>This hosting service has caching features which cannot be disabled, and may cause the wrong content to be delivered to your viewers.</p>'; $m4ac_oemjasi0tp .= '<p>For managed services, we recommend WP Engine.  If you wish to stay with GoDaddy, We recommend you transfer your site to GoDaddy\'s Cpanel hosting.</p>'; $m4ac_oemjasi0tp .= '<div style="text-align:right;"><p><a class="button-primary" href="'. m4ac_s126v0fexga::m4ac_edy9vx5gzpc('gd_managed_hosting') .'">Hide this Notice</a></p></div>'; $m4ac_eohq7wvlb0i = 'notice notice-warning'; echo "<div class='{$m4ac_eohq7wvlb0i} is-dismissible'>{$m4ac_oemjasi0tp}</div>"; } } }  private static 
function m4ac_n3mbjf9_1g() { if (defined('WPE_WHITELABEL') || isset($_SERVER['WPENGINE_PHPSESSIONS']) ) { if (! get_user_meta(self::$m4ac_at_5xofh, 'memberium_ignore_notice_wpengine') ) { $m4ac_oemjasi0tp = '<h3>WPEngine Optimization</h3>'; $m4ac_oemjasi0tp .= '<p><strong>Congratulations!</strong>  Memberium has detected that you are installed on the WPEngine Digital Experience Platform.'; $m4ac_oemjasi0tp .= '<p>Please see the <a target="_blank" href="' . self::DOCUMENTATION_HOST . '?p=3864">Memberium online documentation</a> to ensure that your WPEngine is properly configured.</p>'; $m4ac_oemjasi0tp .= '<p>Once you contact WP Engine, click the button on the bottom right to make this notice go away.</p>'; $m4ac_oemjasi0tp .= '<div style="text-align:right;"><p><a class="button-primary" href="'. m4ac_s126v0fexga::m4ac_edy9vx5gzpc('wpengine') .'">Hide this Notice</a></p></div>'; $m4ac_eohq7wvlb0i = 'notice notice-success'; echo "<div class='{$m4ac_eohq7wvlb0i} is-dismissible'>{$m4ac_oemjasi0tp}</div>"; } } }  private static 
function m4ac_nt3lxa2gye() { if (isset($_SERVER['HTTP_CF_RAY']) ) { if (! get_user_meta(self::$m4ac_at_5xofh, 'memberium_ignore_notice_cloudflare') ) { $m4ac_oemjasi0tp = '<h3>CloudFlare Warning</h3>'; $m4ac_oemjasi0tp .= '<p>Memberium has detected that you are using CloudFlare.</p>'; $m4ac_oemjasi0tp .= '<p>Please see the <a target="_blank" href="' . self::DOCUMENTATION_HOST . '?p=7904">Memberium online documentation</a> to ensure that your CloudFlare is properly configured.</p>'; $m4ac_oemjasi0tp .= '<div style="text-align:right;"><a class="button-primary" href="'. m4ac_s126v0fexga::m4ac_edy9vx5gzpc('cloudflare') .'">Hide this Notice</a></div>'; $m4ac_eohq7wvlb0i = 'notice notice-warning'; echo "<div class='{$m4ac_eohq7wvlb0i} is-dismissible'>{$m4ac_oemjasi0tp}</div>"; } } }  private static 
function m4ac_i19wegmz() { if (defined('WP_ROCKET_VERSION') ) { if (! get_user_meta(self::$m4ac_at_5xofh, 'memberium_ignore_notice_wprocket') ) { $m4ac_oemjasi0tp = '<h3>WP Rocket Detected</h3>'; $m4ac_oemjasi0tp .= '<p>Memberium has detected that you are using WP Rocket.</p>'; $m4ac_oemjasi0tp .= '<p>Plugins that cache your pages  will cause serious problems with your membership site.  '; $m4ac_oemjasi0tp .= 'This plugin will cause personal pages and billing information to be deivered to the wrong member.</p>'; $m4ac_oemjasi0tp .= '<div style="text-align:right;"><a class="button-primary" href="'. m4ac_s126v0fexga::m4ac_edy9vx5gzpc('wprocket') .'">Hide this Notice</a></div>'; $m4ac_eohq7wvlb0i = 'notice notice-warning'; echo "<div class='{$m4ac_eohq7wvlb0i} is-dismissible'>{$m4ac_oemjasi0tp}</div>"; } } }  private static 
function m4ac_vlvzaig4nfx() { if (function_exists('wp_get_environment_type') && wp_get_environment_type() !== 'production') { return; } if (! MEMBERIUM_DEBUG) { if (in_array(strtolower(ini_get('display_errors') ), [1, 'on', 'true'] ) ) { if (! get_user_meta(self::$m4ac_at_5xofh, 'memberium_ignore_notice_display_errors') ) { $m4ac_oemjasi0tp = '<h3>Security Vulnerability Detected</h3>'; $m4ac_oemjasi0tp .= '<p>Memberium has detected that your website is misconfigured to display errors to the browser. '; $m4ac_oemjasi0tp .= 'This can be caused by several things, including a misconfigured cpanel or php.ini setting, or another '; $m4ac_oemjasi0tp .= 'plugin or theme on your site turning the setting back on.</p>'; $m4ac_oemjasi0tp .= '<p>Leaving this setting in place will create a security risk for your server, as well as potential problems with logins and cookies failing.</p>'; $m4ac_oemjasi0tp .= 'If you would like assistance, please contact <a href="https://memberium.com/support/">Memberium support</a> to further diagnose and help fix this issue.</p>';  $m4ac_eohq7wvlb0i = 'notice notice-error'; echo "<div class='{$m4ac_eohq7wvlb0i} is-dismissible'>{$m4ac_oemjasi0tp}</div>"; } } } }  private static 
function m4ac_g4c81mb_hn() { $m4ac_kk6w4geb3 = wp_convert_hr_to_bytes(WP_MEMORY_LIMIT); if ($m4ac_kk6w4geb3 <= 41943040) { if (! get_user_meta(self::$m4ac_at_5xofh, 'memberium_ignore_notice_wp_memory_warning') ) { $m4ac_oemjasi0tp = '<h3>Possible Low Memory Issue</h3>'; $m4ac_oemjasi0tp .= '<p>Memberium has detected that your site is configured with a memory limit of ' . WP_MEMORY_LIMIT . '.</p>'; $m4ac_oemjasi0tp .= '<p>You can increase your WordPress memory limit by adding or updating the following line in your wp-config.php:</p>'; $m4ac_oemjasi0tp .= '<code>define(\'WP_MEMORY_LIMIT\', \'64M\');</code>'; $m4ac_oemjasi0tp .= '<p>For sites with many or complex plugins or themes, you may want to set it to 96M, 128M, 160M or more.</p>'; $m4ac_oemjasi0tp .= '<div style="text-align:right;"><p><a class="button-primary" href="'. m4ac_s126v0fexga::m4ac_edy9vx5gzpc('wp_memory_warning') .'">Hide this Notice</a></p></div>'; $m4ac_eohq7wvlb0i = 'notice notice-error'; echo "<div class='{$m4ac_eohq7wvlb0i} is-dismissible'>{$m4ac_oemjasi0tp}</div>"; } } }  private static 
function m4ac_ogl231e84() { if (MEMBERIUM_BETA) { $m4ac_oemjasi0tp = '<h3>Development Mode</h3>'; $m4ac_oemjasi0tp .= '<p>Memberium is running in development mode.</p>'; $m4ac_eohq7wvlb0i = 'notice notice-info'; echo "<div class='{$m4ac_eohq7wvlb0i} is-dismissible'>{$m4ac_oemjasi0tp}</div>"; } }  private static 
function m4ac_pk8s0e9b() { global $wpdb; $m4ac_xtcz6bi97flk = 'SHOW STORAGE ENGINES;'; $m4ac_f92tkhgnzfcb = $wpdb->get_results($m4ac_xtcz6bi97flk, ARRAY_A); $myisam = false; $innodb = false; if (is_array($m4ac_f92tkhgnzfcb) ) { foreach($m4ac_f92tkhgnzfcb as $m4ac_lsxa90fgqk) { $m4ac_lsxa90fgqk['Engine'] = strtolower($m4ac_lsxa90fgqk['Engine']); $m4ac_lsxa90fgqk['Support'] = strtolower($m4ac_lsxa90fgqk['Support']); if ($m4ac_lsxa90fgqk['Engine'] == 'innodb' && in_array($m4ac_lsxa90fgqk['Support'], ['yes', 'default']) ) { $innodb = true; } elseif ($m4ac_lsxa90fgqk['Engine'] == 'myisam' && in_array($m4ac_lsxa90fgqk['Support'], ['yes', 'default']) ) { $myisam = true; } } } if ( (! $myisam) || (! $innodb) ) { $m4ac_oemjasi0tp = '<h3>Database Configuration Error</h3>'; $m4ac_oemjasi0tp .= '<p>Memberium has detected a database configuration error.  One or more of your database engines appears to be missing or disabled.</p>'; if (! $myisam){ $m4ac_oemjasi0tp .= '<p>Your <strong>MyISAM</strong> database storage engine is missing or disabled.</p>'; } if (! $innodb) { $m4ac_oemjasi0tp .= '<p>Your <strong>InnoDB</strong> database storage engine is missing or disabled.</p>'; } $m4ac_oemjasi0tp .= '<p>Please contact your webhost and notify them of this problem.  Proper operation of your Membership site will be affected until this is fixed.</p>'; $m4ac_eohq7wvlb0i = 'notice notice-error'; echo "<div class='{$m4ac_eohq7wvlb0i} is-dismissible'>{$m4ac_oemjasi0tp}</div>"; } }  private static 
function m4ac_vqslw9dzp8() { $m4ac_z_6opwls0e7 = m4ac_tl5skz6cfptr::m4ac_a9x5p_oeaqu1(); $m4ac_us5k0l_jb = m4ac_tl5skz6cfptr::m4ac_gd1pbm4e(); $m4ac_imw7f62su5c1 = 'https://memberium.com/activecampaign/pricing/'; $m4ac_tka29j1o = 'https://memberium.com/support/'; if (! $m4ac_z_6opwls0e7['valid']) { $m4ac_oemjasi0tp = '<h3>License not Found</h3>' . '<p>You do not yet have a valid <em>Memberium</em> license for this install.</p>' . '<p>If you own a license and this is a new install, please <a href="admin.php?page=memberium-support&tab=dashboard">click here</a> to go to the dashboard and click the "Renew License" button.</p>' . '<p>If this does not resolve the problem, please contact Memberium support and provide both your site URL and ActiveCampaign application name.</p>' . "<p>If you have not yet purchased a license, please <a href='{$m4ac_imw7f62su5c1}' target='_blank'>click here</a>.</p>"; $m4ac_eohq7wvlb0i = 'notice notice-error'; } else { if (! $m4ac_z_6opwls0e7['active']) { $m4ac_oemjasi0tp = '<h3>License Inactive</h3>' . '<p>You do not yet have a valid <em>Memberium</em> license for this install.</p>' . '<p>If you own a license and this is a new install, please <a href="admin.php?page=memberium-support&tab=dashboard">click here</a> to go to the dashboard and click the "Renew License" button.</p>' . '<p>If this does not resolve the problem, please contact Memberium support and provide both your site URL and ActiveCampaign application name.</p>' . "<p>If you have not yet purchased a license, please <a href='{$m4ac_imw7f62su5c1}' target='_blank'>click here</a>.</p>"; $m4ac_eohq7wvlb0i = 'notice notice-error'; } $m4ac_s2wlka0j_9 = round($m4ac_us5k0l_jb / $m4ac_z_6opwls0e7['max_users'], 2) * 100; $m4ac_hkcy2zi0 = $m4ac_z_6opwls0e7['max_users'] - $m4ac_us5k0l_jb; if ($m4ac_z_6opwls0e7['trial_mode']) { $m4ac_oemjasi0tp = '<h3>Trial License</h3>' . "<p>Your site currently has a <em>Memberium</em> trial license limited to {$m4ac_z_6opwls0e7['max_users']} users.</p>"; $m4ac_eohq7wvlb0i = 'notice notice-error'; } if ($m4ac_s2wlka0j_9 > 50 && $m4ac_s2wlka0j_9 <= 100) { $m4ac_oemjasi0tp = '<h3>User Capacity Warning</h3>' . "<p>Your current <em>Memberium</em> license is for {$m4ac_z_6opwls0e7['max_users']} users.</p>" . "<p>Your site currently has {$m4ac_us5k0l_jb} users, and is at {$m4ac_s2wlka0j_9}% capacity.  You have only {$m4ac_hkcy2zi0} user seats left.</p>" . "<p>In order to avoid any service interruptions, please consider <a href='{$m4ac_tka29j1o}' target='_blank'>contacting support</a> to upgrade to an unlimited user Domain or Pro license.</p>"; $m4ac_eohq7wvlb0i = 'notice notice-warning'; } elseif ($m4ac_s2wlka0j_9 > 100) { $m4ac_oemjasi0tp = '<h3>User Limit Exceeded</h3>' . "<p>Your current <em>Memberium</em> license is for {$m4ac_z_6opwls0e7['max_users']} users.</p>" . "<p>Your site currently has {$m4ac_us5k0l_jb} users, and is over capacity.  Member logins are disabled.</p>" . "<p>In order to reactivate member logins, please either delete users or <a href='{$m4ac_tka29j1o}' target='_blank'>contact support</a> to upgrade to an unlimited user Domain or Pro license.</p>"; $m4ac_eohq7wvlb0i = 'notice notice-error'; } } if (! empty($m4ac_oemjasi0tp)) { echo "<div class='{$m4ac_eohq7wvlb0i}'>{$m4ac_oemjasi0tp}</div>"; } if (defined('MEPR_PLUGIN_NAME') ) { $m4ac_oemjasi0tp = '<h3>Conflicting Membership Plugin Installed</h3>'; $m4ac_oemjasi0tp .= '<p>MemberPress is installed. Please deactivate.</p>'; $m4ac_eohq7wvlb0i = 'notice notice-error'; echo "<div class='{$m4ac_eohq7wvlb0i}'>{$m4ac_oemjasi0tp}</div>"; } } private static 
function m4ac_bybu3ievwqxp() { if (function_exists('wp_get_environment_type') && wp_get_environment_type() !== 'production') { return; } $m4ac_r6xmof3u = false; $m4ac_weunyvx6pq = false; $m4ac_y2qgpsabwt = array_diff(scandir(ABSPATH), ['.', '..'] ); $m4ac_phxd0nqmlbs = []; $m4ac_weunyvx6pq = in_array('debuglog.txt', $m4ac_y2qgpsabwt); $m4ac_uysepq43xl = 128; foreach($m4ac_y2qgpsabwt as $m4ac_ixteyr6q) { $m4ac_ixteyr6q = ABSPATH . $m4ac_ixteyr6q; if (is_file($m4ac_ixteyr6q) ) { if (stripos(file_get_contents($m4ac_ixteyr6q, false, null, 0, $m4ac_uysepq43xl), '<?') !== false) { if (stripos(file_get_contents($m4ac_ixteyr6q, false, null, 0, $m4ac_uysepq43xl), 'phpinfo(') !== false) { $m4ac_r6xmof3u = true; $m4ac_phxd0nqmlbs[] = $m4ac_ixteyr6q; } } } } if ($m4ac_weunyvx6pq || $m4ac_r6xmof3u) { $m4ac_oemjasi0tp = '<h3>Security Vulnerability Detected</h3>'; if ($m4ac_weunyvx6pq) { $m4ac_oemjasi0tp .= '<p>A debug log has been detected.  '; $m4ac_oemjasi0tp .= 'Debug logs can contain sensitive data and should be removed as soon as possible.</p>'; $m4ac_phxd0nqmlbs[] = ABSPATH . 'debuglog.txt'; } if ($m4ac_r6xmof3u) { $m4ac_oemjasi0tp .= '<p>A phpinfo file has been detected in your top level directory.  '; $m4ac_oemjasi0tp .= 'These files can expose sensitive server data putting your site at risk, and should be removed as soon as possible.</p>'; } $m4ac_oemjasi0tp .= '<p>Files to review and delete:</p>'; foreach ($m4ac_phxd0nqmlbs as $filename) { $m4ac_oemjasi0tp .= "{$filename}<br />"; } $m4ac_oemjasi0tp .= '<p>Please contact your web host support department if you would like assistance removing this file.  This notice will automatically go away when this has been completed.</p>'; $m4ac_eohq7wvlb0i = 'notice notice-error'; echo "<div class='{$m4ac_eohq7wvlb0i}'>{$m4ac_oemjasi0tp}</div>"; } } const DOCUMENTATION_HOST = 'https://activecampaign.memberium.com/'; static $m4ac_at_5xofh = 0;  } }
