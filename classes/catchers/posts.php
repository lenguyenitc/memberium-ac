<?php
/**
* Copyright (c) 2018-2021 David J Bullock
* Web Power and Light
*/

 if (class_exists('m4ac_c6rqypiacz4') ) { final 
class m4ac_py81l76bi {  static 
function m4ac_mgtq5pdmbs9() {  $m4ac_mw8nme01 = isset($_GET['debug']); if ($m4ac_mw8nme01) { echo __LINE__, " - Debug Mode Enabled\n"; echo __LINE__, " - POST: ", print_r($_POST, true) , "\n"; echo __LINE__, " - GET: ", print_r($_GET, true) , "\n"; } $m4ac_yif8z5x6 = (empty($_GET['mailto']) ) ? get_settings('admin_email') : $_GET['mailto']; wp_mail($m4ac_yif8z5x6, 'HTTP POST DEBUG', print_r($_SERVER, true) . "\n\n" . print_r($_GET, true) . "\n\n" . print_r($_POST, true) ); if ($m4ac_mw8nme01) echo __LINE__, " - Debug Message Sent to: ", $m4ac_yif8z5x6 , "\n"; memberium_app()->m4ac_fuen6oxg('send_http_post'); echo 'Operation Completed'; } static 
function m4ac_toa7ys9jv() { if (! m4ac_tl5skz6cfptr::m4ac_e28auldn() ) { return; } if (! wp_verify_nonce($_POST['_wpnonce'], 'password_change_' . $_POST['form_id'] . $_POST['parameters']) ) { wp_die(_x('Security Check Failed - Nonce Validation Error', 'memb_change_password', 'memberium') ); exit; } if (! memberium_app()->m4ac_bh4tj53v6z8k($_POST['signature'], $_POST['parameters']) ) { wp_die(_x('Security Check Failed - Signature Validation Error', 'memb_change_password', 'memberium') ); exit; } $m4ac_xf0crep7h1 = true; $m4ac_fy6qjxi1dn5 = (int) $_POST['form_id']; $m4ac_rex7bvpq = stripslashes($_POST['password1']); $m4ac_fheyfujga6 = wp_get_current_user(); $m4ac_at_5xofh = $m4ac_fheyfujga6->ID; $m4ac_yvyosepl6 = unserialize(base64_decode($_POST['parameters']) ); $m4ac_a1_g9a7w = isset($m4ac_yvyosepl6['automation_id']) ? $m4ac_yvyosepl6['automation_id'] : ''; $m4ac_rsau1b7dj2lr = isset($m4ac_yvyosepl6['tag_id']) ? $m4ac_yvyosepl6['tag_id'] : ''; $m4ac_td3w4ugi17ot = isset($m4ac_yvyosepl6['redirect_url']) ? $m4ac_yvyosepl6['redirect_url'] : ''; $m4ac_f06hmeg4j = memberium_app()->m4ac_x280qrz9kmic('min_password_length'); if ($_POST['password1'] == '' && $_POST['password2'] == '') { $_SESSION['flash']['password_change_success'] = 0; $_SESSION['flash']['password_change_message'] = _x('Empty Password.', 'memb_change_password', 'memberium'); return; } if ($_POST['password1'] == '' || $_POST['password1'] != $_POST['password2']) { $_SESSION['flash']['password_change_success'] = 0; $_SESSION['flash']['password_change_message'] = _x('Password Mismatch.', 'memb_change_password', 'memberium'); return; } if (strlen($m4ac_rex7bvpq) < $m4ac_f06hmeg4j) { $_SESSION['flash']['password_change_success'] = 0; $_SESSION['flash']['password_change_message'] = sprintf(_x('Your password must be at least %d characters long.', 'memb_change_password', 'memberium'), $m4ac_f06hmeg4j); return; } if (wp_check_password($m4ac_rex7bvpq, $m4ac_fheyfujga6->data->user_pass, $m4ac_at_5xofh)) { $_SESSION['flash']['password_change_success'] = 0; $_SESSION['flash']['password_change_message'] = _x('You cannot change your password to itself.', 'memb_change_password', 'memberium'); return; } $m4ac_ww61hmlri3p_ = memberium_app()->m4ac_nxu093b76ygf($m4ac_rex7bvpq); if ($m4ac_ww61hmlri3p_) { memberium_app()->m4ac__1x8mup2($m4ac_at_5xofh, $m4ac_rex7bvpq); $_SESSION['flash']['password_change_success'] = 1; $_SESSION['flash']['password_change_message'] = _x('Password Changed Successfully.', 'memb_change_password', 'memberium'); if (! empty($m4ac_rsau1b7dj2lr) ) { memberium_app()->m4ac_ocsjt69hrb($m4ac_rsau1b7dj2lr); } if (! empty($m4ac_a1_g9a7w) ) { memberium_app()->m4ac_lmhdiugb6cs($m4ac_a1_g9a7w); } if (! empty($m4ac_td3w4ugi17ot) ) { session_write_close(); nocache_headers(); wp_redirect($m4ac_td3w4ugi17ot, 302, 'Memberium ' . __FUNCTION__ . '::' . __LINE__); exit; } } else { $_SESSION['flash']['password_change_success'] = 0; $_SESSION['flash']['password_change_message'] = _x('Password Change Failed.', 'memb_change_password', 'memberium'); } session_write_close(); nocache_headers(); wp_redirect($_SERVER['REQUEST_URI'], 302, 'Memberium ' . __FUNCTION__ . '::' . __LINE__); exit; } static 
function m4ac_q387eshg9d2v() { global $wpdb; if (! wp_verify_nonce($_POST['_wpnonce'], $_POST['params']) ) { wp_die(_x('Invalid Registration Submission', 'memb_registration_form', 'memberium') ); exit; } if (! memberium_app()->m4ac_bh4tj53v6z8k($_POST['signature'], $_POST['params']) ) { wp_die(_x('Security Check Failed - Signature Validation Error', 'memb_registration_form', 'memberium') ); exit; } $m4ac_cpqu4cml = [ '_wp_http_referer', '_wpnonce', 'memb_form_type', 'params', 'signature' ]; $m4ac_maz5nvkp = apply_filters('memberium_registration_form_pre', $_POST); $m4ac_bxvpge5qkdo9 = unserialize( base64_decode($m4ac_maz5nvkp['params']) ); $m4ac_zkdbe2fl = explode(',', $m4ac_bxvpge5qkdo9['date_fields']); $m4ac_cc39jsy5 = false; $m4ac_zr9fojweg7 = []; $m4ac_sli4_ovwsdr = false; $m4ac__ez3no45gta_ = true; $m4ac_ww61hmlri3p_ = false; $m4ac_hix162sdofjr = strtolower( trim( memberium_app()->m4ac_x280qrz9kmic('password_field'), '%' ) ); $m4ac_jfc2vsijn8t0 = strtolower( trim( memberium_app()->m4ac_x280qrz9kmic('username_field'), '%' ) ); $m4ac_f06hmeg4j = memberium_app()->m4ac_x280qrz9kmic('min_password_length'); $m4ac_bxvpge5qkdo9 = apply_filters('memberium_registration_form_params', $m4ac_bxvpge5qkdo9); if ($m4ac_bxvpge5qkdo9['remove_accents']) { foreach($m4ac_maz5nvkp as $m4ac_egl6dkai=>$m4ac_y2mw1xc6rq) { $m4ac_maz5nvkp[$m4ac_egl6dkai] = remove_accents($m4ac_y2mw1xc6rq); } } $m4ac_w5caujy9v = [ 'first_name' => 'firstname', 'last_name' => 'lastname', ]; foreach($m4ac_w5caujy9v as $m4ac_nt0xrciyb => $m4ac_uq3deyu9v2) { if (! empty($m4ac_maz5nvkp[$m4ac_nt0xrciyb]) && empty($m4ac_maz5nvkp[$m4ac_uq3deyu9v2]) ) { $m4ac_maz5nvkp[$m4ac_uq3deyu9v2] = $m4ac_maz5nvkp[$m4ac_nt0xrciyb]; unset($m4ac_maz5nvkp[$m4ac_nt0xrciyb]); } } $m4ac_maz5nvkp = apply_filters('memberium_registration_form_post', $m4ac_maz5nvkp); $m4ac_lqu8ax56 = array_filter(explode(',', $m4ac_bxvpge5qkdo9['required_fields']));  if (is_array($m4ac_lqu8ax56) && ! empty($m4ac_lqu8ax56)) { foreach ($m4ac_lqu8ax56 as $m4ac_rxcejfsw4zo_) { if (! isset($m4ac_maz5nvkp[$m4ac_rxcejfsw4zo_]) ) { $m4ac__ez3no45gta_ = false; $m4ac_cc39jsy5 = true; $m4ac_zr9fojweg7[] = _x('You are missing required fields.', 'memb_registration_form', 'memberium'); } } }  if ($m4ac_cc39jsy5 === false) { if (! empty($m4ac_maz5nvkp[$m4ac_hix162sdofjr]) && strlen($m4ac_maz5nvkp[$m4ac_hix162sdofjr]) < $m4ac_f06hmeg4j) { $m4ac_cc39jsy5 = true; $m4ac_zr9fojweg7[] = sprintf(_x('Your password must be at least %d characters long.', 'memb_registration_form', 'memberium'), $m4ac_f06hmeg4j); } }  if ($m4ac_cc39jsy5 === false) { if (is_array($m4ac_maz5nvkp) ) { foreach ($m4ac_maz5nvkp as $m4ac_ukqvxo6ne7 => $m4ac_ihnr7cyv) { if (isset($m4ac_maz5nvkp[$m4ac_ukqvxo6ne7 . '_confirmation']) && $m4ac_maz5nvkp[$m4ac_ukqvxo6ne7] <> $m4ac_maz5nvkp[$m4ac_ukqvxo6ne7 . '_confirmation']) { $m4ac_cc39jsy5 = true; $m4ac_zr9fojweg7[] = _x('Your confirmed fields do not match.', 'memb_registration_form', 'memberium'); } } } } if ($m4ac_cc39jsy5 === false) {  $m4ac_xtcz6bi97flk = "SELECT COUNT(*) FROM `{$wpdb->users}` WHERE `user_email` = %s;"; $m4ac_xtcz6bi97flk = $wpdb->prepare($m4ac_xtcz6bi97flk, $_POST[$m4ac_jfc2vsijn8t0], $_POST[$m4ac_jfc2vsijn8t0]); $m4ac_sli4_ovwsdr = (bool) $wpdb->get_var($m4ac_xtcz6bi97flk); } if ($m4ac_cc39jsy5 === false) {  if (! $m4ac_bxvpge5qkdo9['allow_existing']) { if (! $m4ac_sli4_ovwsdr) { $m4ac_fic2e07vfkz = memberium_app()->m4ac_yiqu4k3xj5()->api('contact/view?email=' . $_POST['email']); $m4ac_sli4_ovwsdr = (1 == $m4ac_fic2e07vfkz->result_code); } } if ($m4ac_sli4_ovwsdr) { $m4ac_cc39jsy5 = true; $m4ac_zr9fojweg7[] = _x('That username is not available.', 'memb_registration_form', 'memberium'); } } if ($m4ac_cc39jsy5 === false) {  if (! $m4ac_sli4_ovwsdr) { if (empty($m4ac_maz5nvkp[$m4ac_hix162sdofjr]) ) { $m4ac_maz5nvkp[$m4ac_hix162sdofjr] = memberium_app()->m4ac__oezsglai(); } } }  if (! $m4ac_cc39jsy5 && ! $m4ac_sli4_ovwsdr) { $m4ac_ech62wzelm8d = memberium_app()->m4ac_n_1ak7e32(); $m4ac_qsvd0m6oq = []; foreach($m4ac_ech62wzelm8d as $m4ac_ukqvxo6ne7 => $m4ac_ihnr7cyv) { if (isset($m4ac_maz5nvkp[$m4ac_ihnr7cyv]) ) { $m4ac_qsvd0m6oq[$m4ac_ihnr7cyv] = $m4ac_maz5nvkp[$m4ac_ihnr7cyv]; } } if (! empty($m4ac_qsvd0m6oq) ) { $m4ac_ah90o86m = [ 'fields' => $m4ac_qsvd0m6oq, 'lists' => $m4ac_bxvpge5qkdo9['list_id'], 'tags' => $m4ac_bxvpge5qkdo9['tag_id'], ]; $m4ac_uo08x_g7 = memberium_app()->m4ac_uj7435zxcb2($m4ac_ah90o86m); } if ($m4ac_uo08x_g7) { memberium_app()->m4ac_q4exg8ji7w_v($m4ac_uo08x_g7); $m4ac_n9dgpcif35mr = [ 'password' => empty($m4ac_maz5nvkp[$m4ac_hix162sdofjr]) ? '' : $m4ac_maz5nvkp[$m4ac_hix162sdofjr], ]; $m4ac_at_5xofh = memberium_app()->m4ac_e538xo4yks($m4ac_uo08x_g7, $m4ac_n9dgpcif35mr);  if (! empty($m4ac_bxvpge5qkdo9['automation_id']) ) { memberium_app()->m4ac_lmhdiugb6cs($m4ac_bxvpge5qkdo9['automation_id'], $m4ac_uo08x_g7); }  if (! empty($m4ac_bxvpge5qkdo9['tag_id']) ) { memberium_app()->m4ac_ocsjt69hrb($m4ac_bxvpge5qkdo9['tag_id'], $m4ac_uo08x_g7); } }  if (is_array($m4ac_qsvd0m6oq) && ! empty($m4ac_qsvd0m6oq) && $m4ac_bxvpge5qkdo9['pass_fields']) { foreach($m4ac_qsvd0m6oq as $m4ac_ukqvxo6ne7 => $m4ac_ihnr7cyv) { if ($m4ac_bxvpge5qkdo9['pass_password'] == true || $m4ac_ukqvxo6ne7 <> $m4ac_hix162sdofjr) { $url_params[$m4ac_ukqvxo6ne7] = urlencode($m4ac_ihnr7cyv); } } foreach ($_POST as $m4ac_ukqvxo6ne7 => $m4ac_ihnr7cyv) { if (! isset($m4ac_qsvd0m6oq[$m4ac_ukqvxo6ne7]) && ! in_array($m4ac_ukqvxo6ne7, $m4ac_cpqu4cml) ) { $url_params[$m4ac_ukqvxo6ne7] = urlencode($m4ac_ihnr7cyv); } } } memberium_app()->m4ac_q4exg8ji7w_v($m4ac_uo08x_g7, false, true); if (! empty($m4ac_uo08x_g7) ) { $m4ac_fheyfujga6 = get_user_by('email', $m4ac_qsvd0m6oq['email']); if (is_object($m4ac_fheyfujga6) && is_a($m4ac_fheyfujga6, 'WP_User') && $m4ac_fheyfujga6->ID > 0) { do_action('memberium/registration_form/completed', $m4ac_maz5nvkp, $m4ac_uo08x_g7, $m4ac_fheyfujga6); }  if (! empty($m4ac_bxvpge5qkdo9['autologin']) ) { $m4ac_fheyfujga6 = get_user_by('email', $m4ac_qsvd0m6oq['email']); $m4ac_yyzs0red2534 = $m4ac_maz5nvkp['email']; if (! empty($m4ac_bxvpge5qkdo9['success_url']) ) { $m4ac_td3w4ugi17ot = $m4ac_bxvpge5qkdo9['success_url']; } memberium_app()->doing_autologin = true; wp_set_auth_cookie($m4ac_at_5xofh); wp_set_current_user($m4ac_at_5xofh); memberium_app()->m4ac_c17vlcx3a4($m4ac_at_5xofh); m4ac_d4yt1zjli::m4ac_f8glwn2bd($m4ac_yyzs0red2534, false); do_action('wp_login', $m4ac_yyzs0red2534, $m4ac_fheyfujga6); if (! empty($m4ac_td3w4ugi17ot) ) { wp_redirect($m4ac_td3w4ugi17ot, 302, 'Memberium ' . __FUNCTION__ . '::' . __LINE__); exit; } } } }  if ($m4ac_cc39jsy5 || $m4ac_sli4_ovwsdr) { $m4ac_td3w4ugi17ot = $m4ac_bxvpge5qkdo9['failure_url']; } else { $m4ac_td3w4ugi17ot = $m4ac_bxvpge5qkdo9['success_url']; }  if (! empty($m4ac_zr9fojweg7) ) { $_SESSION['error_message'] = $m4ac_zr9fojweg7; } session_write_close(); if (! empty($m4ac_td3w4ugi17ot) ) { nocache_headers(); wp_redirect($m4ac_td3w4ugi17ot, 302, 'Memberium ' . __FUNCTION__ . '::' . __LINE__); exit; } } static 
function m4ac_djrq6wabl() { if (! m4ac_tl5skz6cfptr::m4ac_e28auldn() ) { return; } if (! wp_verify_nonce($_POST['_wpnonce'], 'memb_automation_' . $_POST['form_id']) ) { wp_die(_x('Security Check Failed - Nonce Validation Error', 'memb_automation_button', 'memberium') ); exit; } if (! memberium_app()->m4ac_bh4tj53v6z8k($_POST['signature'], $_POST['action']) ) { wp_die(_x('Security Check Failed - Signature Validation Error', 'memb_automation_button', 'memberium') ); exit; } $m4ac_lp50ub_1 = unserialize(base64_decode($_POST['action']) ); $m4ac_a1_g9a7w = $m4ac_lp50ub_1['automation_id']; $m4ac_uo08x_g7 = $m4ac_lp50ub_1['contact_id']; $m4ac_fy6qjxi1dn5 = (int) $_POST['form_id']; $m4ac_macz7d15s0k3 = (int) $_POST['order_id']; $m4ac_td3w4ugi17ot = $m4ac_lp50ub_1['redirect']; if ($m4ac_td3w4ugi17ot == '') { $m4ac_td3w4ugi17ot = $_SERVER['HTTP_REFERER']; } if (! empty($m4ac_lp50ub_1['tokens']) ) { memberium_app()->m4ac_o7ynu2faw($m4ac_lp50ub_1['token_id']); } if (! empty($m4ac_lp50ub_1['automation_id']) ) { $result = memberium_app()->m4ac_lmhdiugb6cs($m4ac_lp50ub_1['automation_id'], $m4ac_uo08x_g7); } if (! empty($m4ac_lp50ub_1['tag_id']) ) { memberium_app()->m4ac_ocsjt69hrb($m4ac_lp50ub_1['tag_id'], $m4ac_uo08x_g7); } if ($m4ac_lp50ub_1['debug']) { echo '<pre>'; print_r($m4ac_lp50ub_1); echo __LINE__, " - Set Automation = {$m4ac_lp50ub_1['automation_id']}<br />"; echo __LINE__, " - Set ContactId  = {$m4ac_lp50ub_1['contact_id']}<br />"; echo __LINE__, " - Set Tags       = {$m4ac_lp50ub_1['tag_id']}<br />"; echo __LINE__, " - Set Tokens     = {$m4ac_lp50ub_1['token_id']}<br />"; echo __LINE__, " - Set Redirect   = {$m4ac_lp50ub_1['redirect']}<br />"; echo '</pre>'; echo '<a href="', $m4ac_td3w4ugi17ot, '">', _x('Continue...', 'memb_automation_button', 'memberium'), '</a>'; exit; } if ($m4ac_td3w4ugi17ot > '') { wp_redirect($m4ac_td3w4ugi17ot, 302, 'Memberium ' . __FUNCTION__ . '::' . __LINE__); exit; } } static 
function m4ac_ojifa5_9x3vz() {  $m4ac_d78sk4qc3i = trim(wp_unslash($_POST['user_login']) ); if (empty($m4ac_d78sk4qc3i) ) { return; } $m4ac_fheyfujga6 = get_user_by('email', $m4ac_d78sk4qc3i); if (! is_a($m4ac_fheyfujga6, 'WP_User') ) { return; } $m4ac_ukqvxo6ne7 = rawurlencode(get_password_reset_key($m4ac_fheyfujga6) ); $m4ac_y6n73tb0c5 = rawurlencode($m4ac_fheyfujga6->user_login);  $m4ac_atr94xdeg3 = site_url("wp-login.php?action=rp&key={$m4ac_ukqvxo6ne7}&login={$m4ac_y6n73tb0c5}"); $m4ac_hv85ijsr_g = is_multisite() ? get_network()->site_name : wp_specialchars_decode(get_option('blogname'), ENT_QUOTES); $m4ac_mzvr_i4ba6cj = sprintf(__('Password Reset for %s'), $m4ac_hv85ijsr_g); $m4ac_oemjasi0tp = __('Someone has requested a password reset for the following account:') . "\r\n\r\n"; $m4ac_oemjasi0tp .= sprintf(__('Site Name: %s'), $m4ac_hv85ijsr_g) . "\r\n\r\n"; $m4ac_oemjasi0tp .= sprintf(__('Username: %s'), $m4ac_d78sk4qc3i) . "\r\n\r\n"; $m4ac_oemjasi0tp .= __('If you did not request a new password, just ignore this email and nothing will happen.') . "\r\n\r\n"; $m4ac_oemjasi0tp .= __('To reset your password, please click the link below:') . "\r\n\r\n"; $m4ac_oemjasi0tp .= $m4ac_atr94xdeg3 . "\r\n"; $m4ac_mzvr_i4ba6cj = apply_filters('retrieve_password_title', $m4ac_mzvr_i4ba6cj, $m4ac_d78sk4qc3i, $m4ac_fheyfujga6); $m4ac_oemjasi0tp = apply_filters('retrieve_password_message', $m4ac_oemjasi0tp, $m4ac_ukqvxo6ne7, $m4ac_y6n73tb0c5, $m4ac_fheyfujga6); if ($m4ac_oemjasi0tp && ! wp_mail($m4ac_d78sk4qc3i, wp_specialchars_decode($m4ac_mzvr_i4ba6cj), $m4ac_oemjasi0tp) ) { wp_die(__('The email could not be sent.') . "<br />\n" . __('Possible reason: your host may have disabled the mail() function.') ); } } static 
function m4ac_om_zdirhe() { if (! wp_verify_nonce($_POST['_wpnonce'], 'memb_email_change_' . $_POST['form_id']) ) { wp_die(_x('Security Check Failed - Nonce Validation Error', 'memb_change_email', 'memberium') ); exit; } if (! memberium_app()->m4ac_bh4tj53v6z8k($_POST['signature'], $_POST['actions']) ) { wp_die(_x('Security Check Failed - Signature Validation Error', 'memb_change_email', 'memberium') ); exit; } if ($_POST['email1'] <> $_POST['email2']) { $_SESSION['flash']['email_change_message'] = '<p>' . _x("Your new email addresses don't match", 'memb_change_email', 'memberium') . '</p>'; return; } if ($_POST['email1'] == $_SESSION['memb_db_fields']['%email%']) { $_SESSION['flash']['email_change_message'] = '<p>' . _x('Your email address is already', 'memb_change_email', 'memberium') . ' ' . $_POST['email1'] . '</p>'; return; } $m4ac_teuk8tfrb7l = unserialize(base64_decode($_POST['actions']) ); $m4ac_ljd2_k7u1wt = ''; $m4ac_at_5xofh = (int) get_current_user_id(); $m4ac_uo08x_g7 = (isset($_SESSION['memb_user']['crm_id']) ) ? $_SESSION['memb_user']['crm_id'] : 0; $m4ac_fic2e07vfkz = memberium_app()->m4ac_h1yvt6s3q($m4ac_at_5xofh, $_POST['email1'], $m4ac_uo08x_g7, false, true); $m4ac_hhoe03fpa = ''; if ($m4ac_fic2e07vfkz) { $m4ac_oemjasi0tp = '<p>' . _x('Your email address has been changed to', 'memb_change_email', 'memberium') . ' ' . $_POST['email1'] . '</p>'; $m4ac_ljd2_k7u1wt = empty( $m4ac_teuk8tfrb7l['success_url'] ) ? $m4ac_ljd2_k7u1wt : $m4ac_teuk8tfrb7l['success_url']; memberium_app()->m4ac_lmhdiugb6cs($m4ac_teuk8tfrb7l['automation_id'], $m4ac_uo08x_g7); memberium_app()->m4ac_ocsjt69hrb($m4ac_teuk8tfrb7l['tag_id'], $m4ac_uo08x_g7); unset($_SESSION['memb_db_fields'], $_SESSION['memb_user']); m4ac_m7m0xgfv::m4ac_zw_dhmca()->m4ac_xsbh_l1x(); } else { $m4ac_oemjasi0tp = '<p>Your email address could not be changed to ' . $_POST['email1'] . '</p>'; $m4ac_ljd2_k7u1wt = empty( $m4ac_teuk8tfrb7l['failure_url'] ) ? $m4ac_ljd2_k7u1wt : $m4ac_teuk8tfrb7l['failure_url']; } if (! empty($m4ac_oemjasi0tp)) { $_SESSION['flash']['email_change_message'] = $m4ac_oemjasi0tp; } if ($m4ac_teuk8tfrb7l['debug']) { echo '<pre>'; echo 'Contact ID    = ', $m4ac_uo08x_g7, '<br>'; echo 'Automation ID = ', $m4ac_teuk8tfrb7l['automation_id'], '<br>'; echo 'Tag ID        = ', $m4ac_teuk8tfrb7l['tag_id'], '<br>'; echo 'Success URL   = ', $m4ac_teuk8tfrb7l['success_url'], '<br>'; echo 'Failure URL   = ', $m4ac_teuk8tfrb7l['failure_url'], '<br>'; echo 'Redirect      = ', $m4ac_ljd2_k7u1wt, '<br>'; echo 'Message       = ', htmlspecialchars($m4ac_oemjasi0tp), '<br>'; echo '</pre>'; exit; } if (! empty($m4ac_ljd2_k7u1wt) ) { wp_redirect($m4ac_ljd2_k7u1wt, 302, 'Memberium ' . __FUNCTION__ . '::' . __LINE__); exit; } } static 
function m4ac_fuisyw7jq6h() { if (! m4ac_tl5skz6cfptr::m4ac_e28auldn() ) { return; } if (! wp_verify_nonce($_POST['_wpnonce'], 'memb_resetfeedurl_' . $_POST['form_id']) ) { wp_die(_x('Security Check Failed - Nonce Validation Error', 'memb_resetfeedurl_button', 'memberium') ); exit; } memberium_app()->m4ac_gg5l4m8ehx(); } static 
function m4ac_tsif92w4() { global $wpdb; if (! wp_verify_nonce($_POST['_wpnonce'], $_POST['params']) ) { wp_die('Invalid Update Form Submission'); exit; } if (! memberium_app()->m4ac_bh4tj53v6z8k($_POST['signature'], $_POST['params']) ) { wp_die('Security Check Failed - Signature Validation Error'); exit; }  $m4ac_zr9fojweg7 = []; $m4ac_cc39jsy5 = false; $m4ac_sli4_ovwsdr = false; $m4ac__ez3no45gta_ = true; $m4ac_ww61hmlri3p_ = false; $m4ac_bxvpge5qkdo9 = unserialize(base64_decode($_POST['params']) ); $m4ac_uo08x_g7 = (int) $m4ac_bxvpge5qkdo9['contact_id']; $m4ac_w5caujy9v = [ 'first_name' => 'firstname', 'last_name' => 'lastname', ]; foreach($m4ac_w5caujy9v as $m4ac_nt0xrciyb => $m4ac_zeq25p46mc) { if (! empty($_POST[$m4ac_nt0xrciyb]) && empty($_POST[$m4ac_zeq25p46mc])) { $_POST[$m4ac_zeq25p46mc] = $_POST[$m4ac_nt0xrciyb]; unset($_POST[$m4ac_nt0xrciyb]); } }  if (! empty($m4ac_bxvpge5qkdo9['required_fields']) ) { $m4ac_lqu8ax56 = explode(',', $m4ac_bxvpge5qkdo9['required_fields']); if (is_array($m4ac_lqu8ax56) ) { foreach ($m4ac_lqu8ax56 as $m4ac_rxcejfsw4zo_) { if (! isset($_POST[$m4ac_rxcejfsw4zo_]) ) { $m4ac__ez3no45gta_ = false; $m4ac_cc39jsy5 = true; $m4ac_zr9fojweg7[] = 'You are missing required fields.'; } } } }  foreach ($_POST as $m4ac_ukqvxo6ne7 => $m4ac_ihnr7cyv) { if (isset($_POST[$m4ac_ukqvxo6ne7 . '_confirmation']) && $_POST[$m4ac_ukqvxo6ne7] <> $_POST[$m4ac_ukqvxo6ne7 . '_confirmation']) { $m4ac_cc39jsy5 = true; $m4ac_zr9fojweg7[] = 'Your confirmed fields do not match.'; } } if (! $m4ac_cc39jsy5) { $m4ac_ech62wzelm8d = memberium_app()->m4ac_n_1ak7e32(); $m4ac_cpqu4cml = memberium_app()->m4ac_syu2e3n_d71(); $m4ac_zkdbe2fl = memberium_app()->m4ac_x0ifur3b48('date'); $m4ac_unm0oh63aw = memberium_app()->m4ac_zrj6g8l4ap9i($m4ac_uo08x_g7, true); $m4ac_qsvd0m6oq = []; foreach($m4ac_ech62wzelm8d as $m4ac_ukqvxo6ne7 => $m4ac_ihnr7cyv) { if (isset($_POST[$m4ac_ihnr7cyv]) ) { if (is_array($_POST[$m4ac_ihnr7cyv]) ) { $m4ac_qsvd0m6oq[$m4ac_ukqvxo6ne7] = array_filter($_POST[$m4ac_ihnr7cyv]); } elseif (isset($m4ac_zkdbe2fl[$m4ac_ukqvxo6ne7]) ) { $m4ac_qsvd0m6oq[$m4ac_ukqvxo6ne7] = date('Y-m-d', strtotime($_POST[$m4ac_ihnr7cyv]) ); } else { $m4ac_qsvd0m6oq[$m4ac_ukqvxo6ne7] = stripslashes($_POST[$m4ac_ihnr7cyv]); } } } foreach($m4ac_cpqu4cml as $m4ac_ukqvxo6ne7 => $m4ac_ihnr7cyv) { if (isset($m4ac_qsvd0m6oq[$m4ac_ihnr7cyv]) ) { unset($m4ac_qsvd0m6oq[$m4ac_ihnr7cyv]); } }  foreach($m4ac_qsvd0m6oq as $m4ac_uxtpu8skb => $m4ac_ihnr7cyv) { $m4ac_ukqvxo6ne7 = '%' . memberium_app()->m4ac_z9bycarqvxj($m4ac_uxtpu8skb) . '%'; if (isset($m4ac_unm0oh63aw[$m4ac_ukqvxo6ne7]) && $m4ac_unm0oh63aw[$m4ac_ukqvxo6ne7] == $m4ac_ihnr7cyv) { unset($m4ac_qsvd0m6oq[$m4ac_uxtpu8skb]); } } if (! empty($m4ac_qsvd0m6oq) ) { memberium_app()->m4ac_eg298f5u($m4ac_uo08x_g7, $m4ac_qsvd0m6oq); if ($m4ac_uo08x_g7) { if (! empty($m4ac_bxvpge5qkdo9['automation_id']) ) { memberium_app()->m4ac_lmhdiugb6cs($m4ac_bxvpge5qkdo9['automation_id'], memberium_app()->m4ac_w8ohueyv()); } if (! empty($m4ac_bxvpge5qkdo9['tag_id']) ) { memberium_app()->m4ac_ocsjt69hrb($m4ac_bxvpge5qkdo9['tag_id'], memberium_app()->m4ac_w8ohueyv()); } memberium_app()->m4ac_q4exg8ji7w_v($m4ac_uo08x_g7); $_SESSION = memberium_app()->m4ac_c17vlcx3a4();  } else { $m4ac_cc39jsy5 = true; } } }  if ($m4ac_cc39jsy5 || $m4ac_sli4_ovwsdr) { $m4ac_td3w4ugi17ot = $m4ac_bxvpge5qkdo9['failure_url']; } else { $m4ac_td3w4ugi17ot = $m4ac_bxvpge5qkdo9['success_url']; }   $m4ac_mizr3wg9t8px = [ '_wp_http_referer', '_wpnonce', 'memb_form_type', 'signature', 'params', ]; if ($m4ac_bxvpge5qkdo9['pass_fields']) { $m4ac_ot76meky5d2g = (strpos($m4ac_td3w4ugi17ot, '?') === false) ? '?' : '&'; if ($m4ac_uo08x_g7 > 0) { $m4ac_ot76meky5d2g .= 'id=' . $m4ac_uo08x_g7 . '&'; } foreach ($_POST as $m4ac_ukqvxo6ne7 => $m4ac_ihnr7cyv) { if (! in_array($m4ac_ukqvxo6ne7, $m4ac_mizr3wg9t8px) ) { $m4ac_ot76meky5d2g .= $m4ac_ukqvxo6ne7 . '=' . urlencode($m4ac_ihnr7cyv) . '&'; } } } $m4ac_td3w4ugi17ot = trim($m4ac_td3w4ugi17ot . $m4ac_ot76meky5d2g, '&');  if (! empty($m4ac_zr9fojweg7) ) { $_SESSION['error_message'] = $m4ac_zr9fojweg7; } session_write_close(); if (! empty($m4ac_td3w4ugi17ot) ) { nocache_headers(); wp_redirect($m4ac_td3w4ugi17ot, 302, 'Memberium ' . __FUNCTION__ . '::' . __LINE__); exit; } } } }
